{
  "id": "guard-strike",
  "name": "Guard Strike",
  "summary": "Strike a hostile that enters your reach.",
  "uiMessage": "Vous avez subi une attaque de garde.",
  "uiMessageMiss": "Vous avez evite une attaque de garde.",
  "trigger": {
    "event": "movement.enter_reach",
    "source": "hostile"
  },
  "conditions": [
    { "type": "actor_alive", "reason": "Reactor must be alive." },
    { "type": "reaction_available", "reason": "Reaction already used." }
  ],
  "action": {
    "id": "reaction-guard-strike",
    "name": "Guard Strike",
    "summary": "Prepared strike when a hostile closes in.",
    "category": "reaction",
    "actionCost": { "actionType": "reaction", "movementCost": 0 },
    "targeting": {
      "target": "hostile",
      "range": { "min": 0, "max": 1, "shape": "single" },
      "maxTargets": 1,
      "requiresLos": true
    },
    "usage": { "perTurn": 1, "perEncounter": null, "resource": null },
    "conditions": [
      { "type": "target_alive", "target": "primary", "reason": "Target must be alive." }
    ],
    "attack": { "bonus": 4, "critRange": 20 },
    "damage": { "formula": "attackDamage", "critRule": "double-dice", "damageType": "piercing" },
    "effects": [
      { "type": "damage", "target": "primary", "formula": "attackDamage", "damageType": "piercing" },
      { "type": "log", "message": "Guard strike triggered." }
    ],
    "tags": ["reaction", "melee", "guard"]
  },
  "tags": ["reaction"]
}
