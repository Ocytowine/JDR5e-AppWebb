{
  "id": "guard-strike",
  "name": "Guard Strike",
  "summary": "Strike a hostile that enters your reach.",
  "uiMessage": "Vous avez subi une attaque de garde.",
  "uiMessageMiss": "Vous avez evite une attaque de garde.",
  "trigger": {
    "event": "movement.enter_reach",
    "source": "hostile"
  },
  "conditions": [
    {
      "type": "ACTOR_ALIVE",
      "reason": "Reactor must be alive."
    },
    {
      "type": "REACTION_AVAILABLE",
      "reason": "Reaction already used."
    }
  ],
  "action": {
    "id": "reaction-guard-strike",
    "name": "Guard Strike",
    "summary": "Prepared strike when a hostile closes in.",
    "category": "reaction",
    "actionCost": {
      "actionType": "reaction",
      "movementCost": 0
    },
    "targeting": {
      "target": "hostile",
      "range": {
        "min": 0,
        "max": 1.5,
        "shape": "SPHERE"
      },
      "maxTargets": 1,
      "requiresLos": true
    },
    "usage": {
      "perTurn": 1,
      "perEncounter": null,
      "resource": null
    },
    "conditions": [
      {
        "type": "TARGET_ALIVE",
        "target": "primary",
        "reason": "Target must be alive."
      }
    ],
    "attack": {
      "bonus": 4,
      "critRange": 20
    },
    "damage": {
      "formula": "1d4 + modFOR",
      "critRule": "double-dice",
      "damageType": "PIERCING"
    },
    "tags": [
      "reaction",
      "melee",
      "guard"
    ],
    "ops": {
      "onHit": [
        {
          "op": "DealDamage",
          "target": "primary",
          "formula": "1d4 + modFOR",
          "damageType": "PIERCING"
        }
      ],
      "onResolve": [
        {
          "op": "LogEvent",
          "message": "Guard strike triggered."
        }
      ]
    }
  },
  "tags": [
    "reaction"
  ]
}



