const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DHp42Hoq.js","assets/webworkerAll-BVXFUs1V.js","assets/colorToUniform-BxcbjEVU.js","assets/CanvasPool-DRH1TWYL.js","assets/WebGPURenderer-BSE1gyaD.js","assets/SharedSystems-qHR5Kahi.js","assets/WebGLRenderer-BbUT2smE.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function ec(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var au={exports:{}},ws={},uu={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function im(){if(Ld)return Te;Ld=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function w(M,N,ge){this.props=M,this.context=N,this.refs=P,this.updater=ge||v}w.prototype.isReactComponent={},w.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=w.prototype;function R(M,N,ge){this.props=M,this.context=N,this.refs=P,this.updater=ge||v}var z=R.prototype=new A;z.constructor=R,k(z,w.prototype),z.isPureReactComponent=!0;var j=Array.isArray,X=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function ce(M,N,ge){var ye,we={},Ce=null,De=null;if(N!=null)for(ye in N.ref!==void 0&&(De=N.ref),N.key!==void 0&&(Ce=""+N.key),N)X.call(N,ye)&&!$.hasOwnProperty(ye)&&(we[ye]=N[ye]);var Me=arguments.length-2;if(Me===1)we.children=ge;else if(1<Me){for(var Ae=Array(Me),it=0;it<Me;it++)Ae[it]=arguments[it+2];we.children=Ae}if(M&&M.defaultProps)for(ye in Me=M.defaultProps,Me)we[ye]===void 0&&(we[ye]=Me[ye]);return{$$typeof:i,type:M,key:Ce,ref:De,props:we,_owner:B.current}}function he(M,N){return{$$typeof:i,type:M.type,key:N,ref:M.ref,props:M.props,_owner:M._owner}}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function oe(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return N[ge]})}var Pe=/\/+/g;function be(M,N){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):N.toString(36)}function Se(M,N,ge,ye,we){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(Ce){case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case i:case e:De=!0}}if(De)return De=M,we=we(De),M=ye===""?"."+be(De,0):ye,j(we)?(ge="",M!=null&&(ge=M.replace(Pe,"$&/")+"/"),Se(we,N,ge,"",function(it){return it})):we!=null&&(K(we)&&(we=he(we,ge+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(Pe,"$&/")+"/")+M)),N.push(we)),1;if(De=0,ye=ye===""?".":ye+":",j(M))for(var Me=0;Me<M.length;Me++){Ce=M[Me];var Ae=ye+be(Ce,Me);De+=Se(Ce,N,ge,Ae,we)}else if(Ae=_(M),typeof Ae=="function")for(M=Ae.call(M),Me=0;!(Ce=M.next()).done;)Ce=Ce.value,Ae=ye+be(Ce,Me++),De+=Se(Ce,N,ge,Ae,we);else if(Ce==="object")throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return De}function ut(M,N,ge){if(M==null)return M;var ye=[],we=0;return Se(M,ye,"","",function(Ce){return N.call(ge,Ce,we++)}),ye}function ee(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var ne={current:null},J={transition:null},Z={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function te(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:ut,forEach:function(M,N,ge){ut(M,function(){N.apply(this,arguments)},ge)},count:function(M){var N=0;return ut(M,function(){N++}),N},toArray:function(M){return ut(M,function(N){return N})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Te.Component=w,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=R,Te.StrictMode=s,Te.Suspense=f,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Te.act=te,Te.cloneElement=function(M,N,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ye=k({},M.props),we=M.key,Ce=M.ref,De=M._owner;if(N!=null){if(N.ref!==void 0&&(Ce=N.ref,De=B.current),N.key!==void 0&&(we=""+N.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for(Ae in N)X.call(N,Ae)&&!$.hasOwnProperty(Ae)&&(ye[Ae]=N[Ae]===void 0&&Me!==void 0?Me[Ae]:N[Ae])}var Ae=arguments.length-2;if(Ae===1)ye.children=ge;else if(1<Ae){Me=Array(Ae);for(var it=0;it<Ae;it++)Me[it]=arguments[it+2];ye.children=Me}return{$$typeof:i,type:M.type,key:we,ref:Ce,props:ye,_owner:De}},Te.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Te.createElement=ce,Te.createFactory=function(M){var N=ce.bind(null,M);return N.type=M,N},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:h,render:M}},Te.isValidElement=K,Te.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ee}},Te.memo=function(M,N){return{$$typeof:m,type:M,compare:N===void 0?null:N}},Te.startTransition=function(M){var N=J.transition;J.transition={};try{M()}finally{J.transition=N}},Te.unstable_act=te,Te.useCallback=function(M,N){return ne.current.useCallback(M,N)},Te.useContext=function(M){return ne.current.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M){return ne.current.useDeferredValue(M)},Te.useEffect=function(M,N){return ne.current.useEffect(M,N)},Te.useId=function(){return ne.current.useId()},Te.useImperativeHandle=function(M,N,ge){return ne.current.useImperativeHandle(M,N,ge)},Te.useInsertionEffect=function(M,N){return ne.current.useInsertionEffect(M,N)},Te.useLayoutEffect=function(M,N){return ne.current.useLayoutEffect(M,N)},Te.useMemo=function(M,N){return ne.current.useMemo(M,N)},Te.useReducer=function(M,N,ge){return ne.current.useReducer(M,N,ge)},Te.useRef=function(M){return ne.current.useRef(M)},Te.useState=function(M){return ne.current.useState(M)},Te.useSyncExternalStore=function(M,N,ge){return ne.current.useSyncExternalStore(M,N,ge)},Te.useTransition=function(){return ne.current.useTransition()},Te.version="18.3.1",Te}var jd;function tc(){return jd||(jd=1,uu.exports=im()),uu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function sm(){if(Fd)return ws;Fd=1;var i=tc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,x={},_=null,v=null;m!==void 0&&(_=""+m),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)s.call(f,g)&&!a.hasOwnProperty(g)&&(x[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)x[g]===void 0&&(x[g]=f[g]);return{$$typeof:e,type:h,key:_,ref:v,props:x,_owner:l.current}}return ws.Fragment=n,ws.jsx=c,ws.jsxs=c,ws}var Nd;function om(){return Nd||(Nd=1,au.exports=sm()),au.exports}var D=om(),nl={},cu={exports:{}},Bt={},hu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function lm(){return Bd||(Bd=1,(function(i){function e(J,Z){var te=J.length;J.push(Z);e:for(;0<te;){var M=te-1>>>1,N=J[M];if(0<l(N,Z))J[M]=Z,J[te]=N,te=M;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var Z=J[0],te=J.pop();if(te!==Z){J[0]=te;e:for(var M=0,N=J.length,ge=N>>>1;M<ge;){var ye=2*(M+1)-1,we=J[ye],Ce=ye+1,De=J[Ce];if(0>l(we,te))Ce<N&&0>l(De,we)?(J[M]=De,J[Ce]=te,M=Ce):(J[M]=we,J[ye]=te,M=ye);else if(Ce<N&&0>l(De,te))J[M]=De,J[Ce]=te,M=Ce;else break e}}return Z}function l(J,Z){var te=J.sortIndex-Z.sortIndex;return te!==0?te:J.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,x=null,_=3,v=!1,k=!1,P=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(J){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=J)s(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function j(J){if(P=!1,z(J),!k)if(n(f)!==null)k=!0,ee(X);else{var Z=n(m);Z!==null&&ne(j,Z.startTime-J)}}function X(J,Z){k=!1,P&&(P=!1,A(ce),ce=-1),v=!0;var te=_;try{for(z(Z),x=n(f);x!==null&&(!(x.expirationTime>Z)||J&&!oe());){var M=x.callback;if(typeof M=="function"){x.callback=null,_=x.priorityLevel;var N=M(x.expirationTime<=Z);Z=i.unstable_now(),typeof N=="function"?x.callback=N:x===n(f)&&s(f),z(Z)}else s(f);x=n(f)}if(x!==null)var ge=!0;else{var ye=n(m);ye!==null&&ne(j,ye.startTime-Z),ge=!1}return ge}finally{x=null,_=te,v=!1}}var B=!1,$=null,ce=-1,he=5,K=-1;function oe(){return!(i.unstable_now()-K<he)}function Pe(){if($!==null){var J=i.unstable_now();K=J;var Z=!0;try{Z=$(!0,J)}finally{Z?be():(B=!1,$=null)}}else B=!1}var be;if(typeof R=="function")be=function(){R(Pe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ut=Se.port2;Se.port1.onmessage=Pe,be=function(){ut.postMessage(null)}}else be=function(){w(Pe,0)};function ee(J){$=J,B||(B=!0,be())}function ne(J,Z){ce=w(function(){J(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){k||v||(k=!0,ee(X))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(f)},i.unstable_next=function(J){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var te=_;_=Z;try{return J()}finally{_=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=_;_=J;try{return Z()}finally{_=te}},i.unstable_scheduleCallback=function(J,Z,te){var M=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?M+te:M):te=M,J){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=te+N,J={id:g++,callback:Z,priorityLevel:J,startTime:te,expirationTime:N,sortIndex:-1},te>M?(J.sortIndex=te,e(m,J),n(f)===null&&J===n(m)&&(P?(A(ce),ce=-1):P=!0,ne(j,te-M))):(J.sortIndex=N,e(f,J),k||v||(k=!0,ee(X))),J},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(J){var Z=_;return function(){var te=_;_=Z;try{return J.apply(this,arguments)}finally{_=te}}}})(du)),du}var $d;function am(){return $d||($d=1,hu.exports=lm()),hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function um(){if(Od)return Bt;Od=1;var i=tc(),e=am();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function _(t){return f.call(x,t)?!0:f.call(g,t)?!1:m.test(t)?x[t]=!0:(g[t]=!0,!1)}function v(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,r,o,u){if(r===null||typeof r>"u"||v(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function P(t,r,o,u,d,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){w[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];w[r]=new P(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){w[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){w[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){w[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){w[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){w[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){w[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){w[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){w[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),w.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){w[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});function z(t,r,o,u){var d=w.hasOwnProperty(r)?w[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,o,d,u)&&(o=null),u||d===null?_(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var j=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),oe=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,M;function N(t){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var ge=!1;function ye(t,r){if(!t||ge)return"";ge=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var u=L}Reflect.construct(t,[],r)}else{try{r.call()}catch(L){u=L}t.call(r.prototype)}else{try{throw Error()}catch(L){u=L}t()}}catch(L){if(L&&u&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),p=u.stack.split(`
`),y=d.length-1,C=p.length-1;1<=y&&0<=C&&d[y]!==p[C];)C--;for(;1<=y&&0<=C;y--,C--)if(d[y]!==p[C]){if(y!==1||C!==1)do if(y--,C--,0>C||d[y]!==p[C]){var b=`
`+d[y].replace(" at new "," at ");return t.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",t.displayName)),b}while(1<=y&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?N(t):""}function we(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=ye(t.type,!1),t;case 11:return t=ye(t.type.render,!1),t;case 1:return t=ye(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case B:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case be:return"Suspense";case Se:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oe:return(t.displayName||"Context")+".Consumer";case K:return(t._context.displayName||"Context")+".Provider";case Pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ut:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function De(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ae(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function it(t){var r=Ae(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function on(t){t._valueTracker||(t._valueTracker=it(t))}function Ve(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Ae(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function We(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function At(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hr(t,r){r=r.checked,r!=null&&z(t,"checked",r,!1)}function ln(t,r){Hr(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ot(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ot(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function yr(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ot(t,r,o){(r!=="number"||wt(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Tn=Array.isArray;function Un(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Hn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Tn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Ii(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function zi(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Di(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mn(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Di(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vr,Wr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Vn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){fe.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),vr[r]=vr[t]})});function Yr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||vr.hasOwnProperty(t)&&vr[t]?(""+r).trim():r+"px"}function Xr(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Yr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var Ys=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(t,r){if(r){if(Ys[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function qr(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Li(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Wn=null,Yn=null;function Xn(t){if(t=os(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=yo(r),ji(t.stateNode,t.type,r))}}function Xs(t){Wn?Yn?Yn.push(t):Yn=[t]:Wn=t}function Fi(){if(Wn){var t=Wn,r=Yn;if(Yn=Wn=null,Xn(t),r)for(t=0;t<r.length;t++)Xn(r[t])}}function Kr(t,r){return t(r)}function qs(){}var Ni=!1;function Qs(t,r,o){if(Ni)return t(r,o);Ni=!0;try{return Kr(t,r,o)}finally{Ni=!1,(Wn!==null||Yn!==null)&&(qs(),Fi())}}function wr(t,r){var o=t.stateNode;if(o===null)return null;var u=yo(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Bi=!1;if(h)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Bi=!1}function Tl(t,r,o,u,d,p,y,C,b){var L=Array.prototype.slice.call(arguments,3);try{r.apply(o,L)}catch(H){this.onError(H)}}var Cr=!1,Zr=null,Jr=!1,$i=null,Ml={onError:function(t){Cr=!0,Zr=t}};function El(t,r,o,u,d,p,y,C,b){Cr=!1,Zr=null,Tl.apply(Ml,arguments)}function Ke(t,r,o,u,d,p,y,C,b){if(El.apply(this,arguments),Cr){if(Cr){var L=Zr;Cr=!1,Zr=null}else throw Error(n(198));Jr||(Jr=!0,$i=L)}}function Ze(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Le(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ks(t){if(Ze(t)!==t)throw Error(n(188))}function Xt(t){var r=t.alternate;if(!r){if(r=Ze(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Ks(d),t;if(p===u)return Ks(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=p;else{for(var y=!1,C=d.child;C;){if(C===o){y=!0,o=d,u=p;break}if(C===u){y=!0,u=d,o=p;break}C=C.sibling}if(!y){for(C=p.child;C;){if(C===o){y=!0,o=p,u=d;break}if(C===u){y=!0,u=p,o=d;break}C=C.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function En(t){return t=Xt(t),t!==null?Zs(t):null}function Zs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zs(t);if(r!==null)return r;t=t.sibling}return null}var Oi=e.unstable_scheduleCallback,Gi=e.unstable_cancelCallback,Js=e.unstable_shouldYield,eo=e.unstable_requestPaint,S=e.unstable_now,F=e.unstable_getCurrentPriorityLevel,O=e.unstable_ImmediatePriority,re=e.unstable_UserBlockingPriority,G=e.unstable_NormalPriority,q=e.unstable_LowPriority,Q=e.unstable_IdlePriority,W=null,se=null;function Ie(t){if(se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(W,t,void 0,(t.current.flags&128)===128)}catch{}}var ve=Math.clz32?Math.clz32:Be,_e=Math.log,je=Math.LN2;function Be(t){return t>>>=0,t===0?32:31-(_e(t)/je|0)|0}var Ue=64,$e=4194304;function ft(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function st(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var C=y&~d;C!==0?u=ft(C):(p&=y,p!==0&&(u=ft(p)))}else y=o&~d,y!==0?u=ft(y):p!==0&&(u=ft(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-ve(r),d=1<<o,u|=t[o],r&=~d;return u}function pt(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-ve(p),C=1<<y,b=d[y];b===-1?((C&o)===0||(C&u)!==0)&&(d[y]=pt(C,r)):b<=r&&(t.expiredLanes|=C),p&=~C}}function br(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xn(){var t=Ue;return Ue<<=1,(Ue&4194240)===0&&(Ue=64),t}function Al(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ui(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-ve(r),t[r]=o}function b1(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-ve(o),p=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~p}}function Rl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-ve(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Fe=0;function fc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var pc,Il,mc,gc,yc,zl=!1,to=[],qn=null,Qn=null,Kn=null,Hi=new Map,Vi=new Map,Zn=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xc(t,r){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Hi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(r.pointerId)}}function Wi(t,r,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=os(r),r!==null&&Il(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function T1(t,r,o,u,d){switch(r){case"focusin":return qn=Wi(qn,t,r,o,u,d),!0;case"dragenter":return Qn=Wi(Qn,t,r,o,u,d),!0;case"mouseover":return Kn=Wi(Kn,t,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Hi.set(p,Wi(Hi.get(p)||null,t,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Vi.set(p,Wi(Vi.get(p)||null,t,r,o,u,d)),!0}return!1}function vc(t){var r=Pr(t.target);if(r!==null){var o=Ze(r);if(o!==null){if(r=o.tag,r===13){if(r=Le(o),r!==null){t.blockedOn=r,yc(t.priority,function(){mc(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ll(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Qr=u,o.target.dispatchEvent(u),Qr=null}else return r=os(o),r!==null&&Il(r),t.blockedOn=o,!1;r.shift()}return!0}function _c(t,r,o){no(t)&&o.delete(r)}function M1(){zl=!1,qn!==null&&no(qn)&&(qn=null),Qn!==null&&no(Qn)&&(Qn=null),Kn!==null&&no(Kn)&&(Kn=null),Hi.forEach(_c),Vi.forEach(_c)}function Yi(t,r){t.blockedOn===r&&(t.blockedOn=null,zl||(zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,M1)))}function Xi(t){function r(d){return Yi(d,t)}if(0<to.length){Yi(to[0],t);for(var o=1;o<to.length;o++){var u=to[o];u.blockedOn===t&&(u.blockedOn=null)}}for(qn!==null&&Yi(qn,t),Qn!==null&&Yi(Qn,t),Kn!==null&&Yi(Kn,t),Hi.forEach(r),Vi.forEach(r),o=0;o<Zn.length;o++)u=Zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Zn.length&&(o=Zn[0],o.blockedOn===null);)vc(o),o.blockedOn===null&&Zn.shift()}var ei=j.ReactCurrentBatchConfig,ro=!0;function E1(t,r,o,u){var d=Fe,p=ei.transition;ei.transition=null;try{Fe=1,Dl(t,r,o,u)}finally{Fe=d,ei.transition=p}}function A1(t,r,o,u){var d=Fe,p=ei.transition;ei.transition=null;try{Fe=4,Dl(t,r,o,u)}finally{Fe=d,ei.transition=p}}function Dl(t,r,o,u){if(ro){var d=Ll(t,r,o,u);if(d===null)Zl(t,r,u,io,o),xc(t,u);else if(T1(d,t,r,o,u))u.stopPropagation();else if(xc(t,u),r&4&&-1<P1.indexOf(t)){for(;d!==null;){var p=os(d);if(p!==null&&pc(p),p=Ll(t,r,o,u),p===null&&Zl(t,r,u,io,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Zl(t,r,u,null,o)}}var io=null;function Ll(t,r,o,u){if(io=null,t=Li(u),t=Pr(t),t!==null)if(r=Ze(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Le(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return io=t,null}function wc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F()){case O:return 1;case re:return 4;case G:case q:return 16;case Q:return 536870912;default:return 16}default:return 16}}var Jn=null,jl=null,so=null;function Sc(){if(so)return so;var t,r=jl,o=r.length,u,d="value"in Jn?Jn.value:Jn.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===d[p-u];u++);return so=d.slice(t,1<u?1-u:void 0)}function oo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function lo(){return!0}function Cc(){return!1}function Gt(t){function r(o,u,d,p,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?lo:Cc,this.isPropagationStopped=Cc,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),r}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Gt(ti),qi=te({},ti,{view:0,detail:0}),R1=Gt(qi),Nl,Bl,Qi,ao=te({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Nl=t.screenX-Qi.screenX,Bl=t.screenY-Qi.screenY):Bl=Nl=0,Qi=t),Nl)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),kc=Gt(ao),I1=te({},ao,{dataTransfer:0}),z1=Gt(I1),D1=te({},qi,{relatedTarget:0}),$l=Gt(D1),L1=te({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),j1=Gt(L1),F1=te({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N1=Gt(F1),B1=te({},ti,{data:0}),bc=Gt(B1),$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=G1[t])?!!r[t]:!1}function Ol(){return U1}var H1=te({},qi,{key:function(t){if(t.key){var r=$1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(t){return t.type==="keypress"?oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V1=Gt(H1),W1=te({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Gt(W1),Y1=te({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),X1=Gt(Y1),q1=te({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q1=Gt(q1),K1=te({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z1=Gt(K1),J1=[9,13,27,32],Gl=h&&"CompositionEvent"in window,Ki=null;h&&"documentMode"in document&&(Ki=document.documentMode);var ep=h&&"TextEvent"in window&&!Ki,Tc=h&&(!Gl||Ki&&8<Ki&&11>=Ki),Mc=" ",Ec=!1;function Ac(t,r){switch(t){case"keyup":return J1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function tp(t,r){switch(t){case"compositionend":return Rc(r);case"keypress":return r.which!==32?null:(Ec=!0,Mc);case"textInput":return t=r.data,t===Mc&&Ec?null:t;default:return null}}function np(t,r){if(ni)return t==="compositionend"||!Gl&&Ac(t,r)?(t=Sc(),so=jl=Jn=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tc&&r.locale!=="ko"?null:r.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!rp[t.type]:r==="textarea"}function zc(t,r,o,u){Xs(u),r=po(r,"onChange"),0<r.length&&(o=new Fl("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Zi=null,Ji=null;function ip(t){Kc(t,0)}function uo(t){var r=li(t);if(Ve(r))return t}function sp(t,r){if(t==="change")return r}var Dc=!1;if(h){var Ul;if(h){var Hl="oninput"in document;if(!Hl){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Hl=typeof Lc.oninput=="function"}Ul=Hl}else Ul=!1;Dc=Ul&&(!document.documentMode||9<document.documentMode)}function jc(){Zi&&(Zi.detachEvent("onpropertychange",Fc),Ji=Zi=null)}function Fc(t){if(t.propertyName==="value"&&uo(Ji)){var r=[];zc(r,Ji,t,Li(t)),Qs(ip,r)}}function op(t,r,o){t==="focusin"?(jc(),Zi=r,Ji=o,Zi.attachEvent("onpropertychange",Fc)):t==="focusout"&&jc()}function lp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Ji)}function ap(t,r){if(t==="click")return uo(r)}function up(t,r){if(t==="input"||t==="change")return uo(r)}function cp(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var an=typeof Object.is=="function"?Object.is:cp;function es(t,r){if(an(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!f.call(r,d)||!an(t[d],r[d]))return!1}return!0}function Nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bc(t,r){var o=Nc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nc(o)}}function $c(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$c(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Oc(){for(var t=window,r=wt();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wt(t.document)}return r}function Vl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function hp(t){var r=Oc(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&$c(o.ownerDocument.documentElement,o)){if(u!==null&&Vl(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!t.extend&&p>u&&(d=u,u=p,p=d),d=Bc(o,p);var y=Bc(o,u);d&&y&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dp=h&&"documentMode"in document&&11>=document.documentMode,ri=null,Wl=null,ts=null,Yl=!1;function Gc(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yl||ri==null||ri!==wt(u)||(u=ri,"selectionStart"in u&&Vl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ts&&es(ts,u)||(ts=u,u=po(Wl,"onSelect"),0<u.length&&(r=new Fl("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ri)))}function co(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ii={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Xl={},Uc={};h&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function ho(t){if(Xl[t])return Xl[t];if(!ii[t])return t;var r=ii[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Uc)return Xl[t]=r[o];return t}var Hc=ho("animationend"),Vc=ho("animationiteration"),Wc=ho("animationstart"),Yc=ho("transitionend"),Xc=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,r){Xc.set(t,r),a(r,[t])}for(var ql=0;ql<qc.length;ql++){var Ql=qc[ql],fp=Ql.toLowerCase(),pp=Ql[0].toUpperCase()+Ql.slice(1);er(fp,"on"+pp)}er(Hc,"onAnimationEnd"),er(Vc,"onAnimationIteration"),er(Wc,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Yc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Qc(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ke(u,r,void 0,t),t.currentTarget=null}function Kc(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var C=u[y],b=C.instance,L=C.currentTarget;if(C=C.listener,b!==p&&d.isPropagationStopped())break e;Qc(d,C,L),p=b}else for(y=0;y<u.length;y++){if(C=u[y],b=C.instance,L=C.currentTarget,C=C.listener,b!==p&&d.isPropagationStopped())break e;Qc(d,C,L),p=b}}}if(Jr)throw t=$i,Jr=!1,$i=null,t}function Xe(t,r){var o=r[ia];o===void 0&&(o=r[ia]=new Set);var u=t+"__bubble";o.has(u)||(Zc(r,t,2,!1),o.add(u))}function Kl(t,r,o){var u=0;r&&(u|=4),Zc(o,t,u,r)}var fo="_reactListening"+Math.random().toString(36).slice(2);function rs(t){if(!t[fo]){t[fo]=!0,s.forEach(function(o){o!=="selectionchange"&&(mp.has(o)||Kl(o,!1,t),Kl(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[fo]||(r[fo]=!0,Kl("selectionchange",!1,r))}}function Zc(t,r,o,u){switch(wc(r)){case 1:var d=E1;break;case 4:d=A1;break;default:d=Dl}o=d.bind(null,r,o,t),d=void 0,!Bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Zl(t,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var C=u.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;y=y.return}for(;C!==null;){if(y=Pr(C),y===null)return;if(b=y.tag,b===5||b===6){u=p=y;continue e}C=C.parentNode}}u=u.return}Qs(function(){var L=p,H=Li(o),V=[];e:{var U=Xc.get(t);if(U!==void 0){var ie=Fl,ae=t;switch(t){case"keypress":if(oo(o)===0)break e;case"keydown":case"keyup":ie=V1;break;case"focusin":ae="focus",ie=$l;break;case"focusout":ae="blur",ie=$l;break;case"beforeblur":case"afterblur":ie=$l;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=X1;break;case Hc:case Vc:case Wc:ie=j1;break;case Yc:ie=Q1;break;case"scroll":ie=R1;break;case"wheel":ie=Z1;break;case"copy":case"cut":case"paste":ie=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Pc}var ue=(r&4)!==0,ot=!ue&&t==="scroll",E=ue?U!==null?U+"Capture":null:U;ue=[];for(var T=L,I;T!==null;){I=T;var Y=I.stateNode;if(I.tag===5&&Y!==null&&(I=Y,E!==null&&(Y=wr(T,E),Y!=null&&ue.push(is(T,Y,I)))),ot)break;T=T.return}0<ue.length&&(U=new ie(U,ae,null,o,H),V.push({event:U,listeners:ue}))}}if((r&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",U&&o!==Qr&&(ae=o.relatedTarget||o.fromElement)&&(Pr(ae)||ae[An]))break e;if((ie||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,ie?(ae=o.relatedTarget||o.toElement,ie=L,ae=ae?Pr(ae):null,ae!==null&&(ot=Ze(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=L),ie!==ae)){if(ue=kc,Y="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Pc,Y="onPointerLeave",E="onPointerEnter",T="pointer"),ot=ie==null?U:li(ie),I=ae==null?U:li(ae),U=new ue(Y,T+"leave",ie,o,H),U.target=ot,U.relatedTarget=I,Y=null,Pr(H)===L&&(ue=new ue(E,T+"enter",ae,o,H),ue.target=I,ue.relatedTarget=ot,Y=ue),ot=Y,ie&&ae)t:{for(ue=ie,E=ae,T=0,I=ue;I;I=si(I))T++;for(I=0,Y=E;Y;Y=si(Y))I++;for(;0<T-I;)ue=si(ue),T--;for(;0<I-T;)E=si(E),I--;for(;T--;){if(ue===E||E!==null&&ue===E.alternate)break t;ue=si(ue),E=si(E)}ue=null}else ue=null;ie!==null&&Jc(V,U,ie,ue,!1),ae!==null&&ot!==null&&Jc(V,ot,ae,ue,!0)}}e:{if(U=L?li(L):window,ie=U.nodeName&&U.nodeName.toLowerCase(),ie==="select"||ie==="input"&&U.type==="file")var de=sp;else if(Ic(U))if(Dc)de=up;else{de=lp;var pe=op}else(ie=U.nodeName)&&ie.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(de=ap);if(de&&(de=de(t,L))){zc(V,de,o,H);break e}pe&&pe(t,U,L),t==="focusout"&&(pe=U._wrapperState)&&pe.controlled&&U.type==="number"&&Ot(U,"number",U.value)}switch(pe=L?li(L):window,t){case"focusin":(Ic(pe)||pe.contentEditable==="true")&&(ri=pe,Wl=L,ts=null);break;case"focusout":ts=Wl=ri=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Gc(V,o,H);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Gc(V,o,H)}var me;if(Gl)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ni?Ac(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Tc&&o.locale!=="ko"&&(ni||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ni&&(me=Sc()):(Jn=H,jl="value"in Jn?Jn.value:Jn.textContent,ni=!0)),pe=po(L,xe),0<pe.length&&(xe=new bc(xe,t,null,o,H),V.push({event:xe,listeners:pe}),me?xe.data=me:(me=Rc(o),me!==null&&(xe.data=me)))),(me=ep?tp(t,o):np(t,o))&&(L=po(L,"onBeforeInput"),0<L.length&&(H=new bc("onBeforeInput","beforeinput",null,o,H),V.push({event:H,listeners:L}),H.data=me))}Kc(V,r)})}function is(t,r,o){return{instance:t,listener:r,currentTarget:o}}function po(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=wr(t,o),p!=null&&u.unshift(is(t,p,d)),p=wr(t,r),p!=null&&u.push(is(t,p,d))),t=t.return}return u}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jc(t,r,o,u,d){for(var p=r._reactName,y=[];o!==null&&o!==u;){var C=o,b=C.alternate,L=C.stateNode;if(b!==null&&b===u)break;C.tag===5&&L!==null&&(C=L,d?(b=wr(o,p),b!=null&&y.unshift(is(o,b,C))):d||(b=wr(o,p),b!=null&&y.push(is(o,b,C)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var gp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function eh(t){return(typeof t=="string"?t:""+t).replace(gp,`
`).replace(yp,"")}function mo(t,r,o){if(r=eh(r),eh(t)!==r&&o)throw Error(n(425))}function go(){}var Jl=null,ea=null;function ta(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var na=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,th=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof th<"u"?function(t){return th.resolve(null).then(t).catch(_p)}:na;function _p(t){setTimeout(function(){throw t})}function ra(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Xi(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xi(r)}function tr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function nh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),vn="__reactFiber$"+oi,ss="__reactProps$"+oi,An="__reactContainer$"+oi,ia="__reactEvents$"+oi,wp="__reactListeners$"+oi,Sp="__reactHandles$"+oi;function Pr(t){var r=t[vn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[An]||o[vn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=nh(t);t!==null;){if(o=t[vn])return o;t=nh(t)}return r}t=o,o=t.parentNode}return null}function os(t){return t=t[vn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function yo(t){return t[ss]||null}var sa=[],ai=-1;function nr(t){return{current:t}}function qe(t){0>ai||(t.current=sa[ai],sa[ai]=null,ai--)}function Ye(t,r){ai++,sa[ai]=t.current,t.current=r}var rr={},kt=nr(rr),Dt=nr(!1),Tr=rr;function ui(t,r){var o=t.type.contextTypes;if(!o)return rr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Lt(t){return t=t.childContextTypes,t!=null}function xo(){qe(Dt),qe(kt)}function rh(t,r,o){if(kt.current!==rr)throw Error(n(168));Ye(kt,r),Ye(Dt,o)}function ih(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,De(t)||"Unknown",d));return te({},o,u)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Tr=kt.current,Ye(kt,t),Ye(Dt,Dt.current),!0}function sh(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=ih(t,r,Tr),u.__reactInternalMemoizedMergedChildContext=t,qe(Dt),qe(kt),Ye(kt,t)):qe(Dt),Ye(Dt,o)}var Rn=null,_o=!1,oa=!1;function oh(t){Rn===null?Rn=[t]:Rn.push(t)}function Cp(t){_o=!0,oh(t)}function ir(){if(!oa&&Rn!==null){oa=!0;var t=0,r=Fe;try{var o=Rn;for(Fe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Rn=null,_o=!1}catch(d){throw Rn!==null&&(Rn=Rn.slice(t+1)),Oi(O,ir),d}finally{Fe=r,oa=!1}}return null}var ci=[],hi=0,wo=null,So=0,qt=[],Qt=0,Mr=null,In=1,zn="";function Er(t,r){ci[hi++]=So,ci[hi++]=wo,wo=t,So=r}function lh(t,r,o){qt[Qt++]=In,qt[Qt++]=zn,qt[Qt++]=Mr,Mr=t;var u=In;t=zn;var d=32-ve(u)-1;u&=~(1<<d),o+=1;var p=32-ve(r)+d;if(30<p){var y=d-d%5;p=(u&(1<<y)-1).toString(32),u>>=y,d-=y,In=1<<32-ve(r)+d|o<<d|u,zn=p+t}else In=1<<p|o<<d|u,zn=t}function la(t){t.return!==null&&(Er(t,1),lh(t,1,0))}function aa(t){for(;t===wo;)wo=ci[--hi],ci[hi]=null,So=ci[--hi],ci[hi]=null;for(;t===Mr;)Mr=qt[--Qt],qt[Qt]=null,zn=qt[--Qt],qt[Qt]=null,In=qt[--Qt],qt[Qt]=null}var Ut=null,Ht=null,Qe=!1,un=null;function ah(t,r){var o=en(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function uh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ut=t,Ht=tr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ut=t,Ht=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Mr!==null?{id:In,overflow:zn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=en(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ut=t,Ht=null,!0):!1;default:return!1}}function ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ca(t){if(Qe){var r=Ht;if(r){var o=r;if(!uh(t,r)){if(ua(t))throw Error(n(418));r=tr(o.nextSibling);var u=Ut;r&&uh(t,r)?ah(u,o):(t.flags=t.flags&-4097|2,Qe=!1,Ut=t)}}else{if(ua(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,Ut=t}}}function ch(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Co(t){if(t!==Ut)return!1;if(!Qe)return ch(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ta(t.type,t.memoizedProps)),r&&(r=Ht)){if(ua(t))throw hh(),Error(n(418));for(;r;)ah(t,r),r=tr(r.nextSibling)}if(ch(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ht=tr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ht=null}}else Ht=Ut?tr(t.stateNode.nextSibling):null;return!0}function hh(){for(var t=Ht;t;)t=tr(t.nextSibling)}function di(){Ht=Ut=null,Qe=!1}function ha(t){un===null?un=[t]:un.push(t)}var kp=j.ReactCurrentBatchConfig;function ls(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var C=d.refs;y===null?delete C[p]:C[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ko(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function dh(t){var r=t._init;return r(t._payload)}function fh(t){function r(E,T){if(t){var I=E.deletions;I===null?(E.deletions=[T],E.flags|=16):I.push(T)}}function o(E,T){if(!t)return null;for(;T!==null;)r(E,T),T=T.sibling;return null}function u(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function d(E,T){return E=dr(E,T),E.index=0,E.sibling=null,E}function p(E,T,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<T?(E.flags|=2,T):I):(E.flags|=2,T)):(E.flags|=1048576,T)}function y(E){return t&&E.alternate===null&&(E.flags|=2),E}function C(E,T,I,Y){return T===null||T.tag!==6?(T=nu(I,E.mode,Y),T.return=E,T):(T=d(T,I),T.return=E,T)}function b(E,T,I,Y){var de=I.type;return de===$?H(E,T,I.props.children,Y,I.key):T!==null&&(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&dh(de)===T.type)?(Y=d(T,I.props),Y.ref=ls(E,T,I),Y.return=E,Y):(Y=Xo(I.type,I.key,I.props,null,E.mode,Y),Y.ref=ls(E,T,I),Y.return=E,Y)}function L(E,T,I,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=ru(I,E.mode,Y),T.return=E,T):(T=d(T,I.children||[]),T.return=E,T)}function H(E,T,I,Y,de){return T===null||T.tag!==7?(T=Fr(I,E.mode,Y,de),T.return=E,T):(T=d(T,I),T.return=E,T)}function V(E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=nu(""+T,E.mode,I),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case X:return I=Xo(T.type,T.key,T.props,null,E.mode,I),I.ref=ls(E,null,T),I.return=E,I;case B:return T=ru(T,E.mode,I),T.return=E,T;case ee:var Y=T._init;return V(E,Y(T._payload),I)}if(Tn(T)||Z(T))return T=Fr(T,E.mode,I,null),T.return=E,T;ko(E,T)}return null}function U(E,T,I,Y){var de=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return de!==null?null:C(E,T,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case X:return I.key===de?b(E,T,I,Y):null;case B:return I.key===de?L(E,T,I,Y):null;case ee:return de=I._init,U(E,T,de(I._payload),Y)}if(Tn(I)||Z(I))return de!==null?null:H(E,T,I,Y,null);ko(E,I)}return null}function ie(E,T,I,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return E=E.get(I)||null,C(T,E,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return E=E.get(Y.key===null?I:Y.key)||null,b(T,E,Y,de);case B:return E=E.get(Y.key===null?I:Y.key)||null,L(T,E,Y,de);case ee:var pe=Y._init;return ie(E,T,I,pe(Y._payload),de)}if(Tn(Y)||Z(Y))return E=E.get(I)||null,H(T,E,Y,de,null);ko(T,Y)}return null}function ae(E,T,I,Y){for(var de=null,pe=null,me=T,xe=T=0,yt=null;me!==null&&xe<I.length;xe++){me.index>xe?(yt=me,me=null):yt=me.sibling;var ze=U(E,me,I[xe],Y);if(ze===null){me===null&&(me=yt);break}t&&me&&ze.alternate===null&&r(E,me),T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze,me=yt}if(xe===I.length)return o(E,me),Qe&&Er(E,xe),de;if(me===null){for(;xe<I.length;xe++)me=V(E,I[xe],Y),me!==null&&(T=p(me,T,xe),pe===null?de=me:pe.sibling=me,pe=me);return Qe&&Er(E,xe),de}for(me=u(E,me);xe<I.length;xe++)yt=ie(me,E,xe,I[xe],Y),yt!==null&&(t&&yt.alternate!==null&&me.delete(yt.key===null?xe:yt.key),T=p(yt,T,xe),pe===null?de=yt:pe.sibling=yt,pe=yt);return t&&me.forEach(function(fr){return r(E,fr)}),Qe&&Er(E,xe),de}function ue(E,T,I,Y){var de=Z(I);if(typeof de!="function")throw Error(n(150));if(I=de.call(I),I==null)throw Error(n(151));for(var pe=de=null,me=T,xe=T=0,yt=null,ze=I.next();me!==null&&!ze.done;xe++,ze=I.next()){me.index>xe?(yt=me,me=null):yt=me.sibling;var fr=U(E,me,ze.value,Y);if(fr===null){me===null&&(me=yt);break}t&&me&&fr.alternate===null&&r(E,me),T=p(fr,T,xe),pe===null?de=fr:pe.sibling=fr,pe=fr,me=yt}if(ze.done)return o(E,me),Qe&&Er(E,xe),de;if(me===null){for(;!ze.done;xe++,ze=I.next())ze=V(E,ze.value,Y),ze!==null&&(T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze);return Qe&&Er(E,xe),de}for(me=u(E,me);!ze.done;xe++,ze=I.next())ze=ie(me,E,xe,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?xe:ze.key),T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze);return t&&me.forEach(function(rm){return r(E,rm)}),Qe&&Er(E,xe),de}function ot(E,T,I,Y){if(typeof I=="object"&&I!==null&&I.type===$&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case X:e:{for(var de=I.key,pe=T;pe!==null;){if(pe.key===de){if(de=I.type,de===$){if(pe.tag===7){o(E,pe.sibling),T=d(pe,I.props.children),T.return=E,E=T;break e}}else if(pe.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&dh(de)===pe.type){o(E,pe.sibling),T=d(pe,I.props),T.ref=ls(E,pe,I),T.return=E,E=T;break e}o(E,pe);break}else r(E,pe);pe=pe.sibling}I.type===$?(T=Fr(I.props.children,E.mode,Y,I.key),T.return=E,E=T):(Y=Xo(I.type,I.key,I.props,null,E.mode,Y),Y.ref=ls(E,T,I),Y.return=E,E=Y)}return y(E);case B:e:{for(pe=I.key;T!==null;){if(T.key===pe)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){o(E,T.sibling),T=d(T,I.children||[]),T.return=E,E=T;break e}else{o(E,T);break}else r(E,T);T=T.sibling}T=ru(I,E.mode,Y),T.return=E,E=T}return y(E);case ee:return pe=I._init,ot(E,T,pe(I._payload),Y)}if(Tn(I))return ae(E,T,I,Y);if(Z(I))return ue(E,T,I,Y);ko(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(o(E,T.sibling),T=d(T,I),T.return=E,E=T):(o(E,T),T=nu(I,E.mode,Y),T.return=E,E=T),y(E)):o(E,T)}return ot}var fi=fh(!0),ph=fh(!1),bo=nr(null),Po=null,pi=null,da=null;function fa(){da=pi=Po=null}function pa(t){var r=bo.current;qe(bo),t._currentValue=r}function ma(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function mi(t,r){Po=t,da=pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(jt=!0),t.firstContext=null)}function Kt(t){var r=t._currentValue;if(da!==t)if(t={context:t,memoizedValue:r,next:null},pi===null){if(Po===null)throw Error(n(308));pi=t,Po.dependencies={lanes:0,firstContext:t}}else pi=pi.next=t;return r}var Ar=null;function ga(t){Ar===null?Ar=[t]:Ar.push(t)}function mh(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,ga(r)):(o.next=d.next,d.next=o),r.interleaved=o,Dn(t,u)}function Dn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var sr=!1;function ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function or(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Re&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,Dn(t,o)}return d=u.interleaved,d===null?(r.next=r,ga(u)):(r.next=d.next,d.next=r),u.interleaved=r,Dn(t,o)}function To(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rl(t,o)}}function yh(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Mo(t,r,o,u){var d=t.updateQueue;sr=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var b=C,L=b.next;b.next=null,y===null?p=L:y.next=L,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==y&&(C===null?H.firstBaseUpdate=L:C.next=L,H.lastBaseUpdate=b))}if(p!==null){var V=d.baseState;y=0,H=L=b=null,C=p;do{var U=C.lane,ie=C.eventTime;if((u&U)===U){H!==null&&(H=H.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ae=t,ue=C;switch(U=r,ie=o,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){V=ae.call(ie,V,U);break e}V=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,U=typeof ae=="function"?ae.call(ie,V,U):ae,U==null)break e;V=te({},V,U);break e;case 2:sr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,U=d.effects,U===null?d.effects=[C]:U.push(C))}else ie={eventTime:ie,lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(L=H=ie,b=V):H=H.next=ie,y|=U;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;U=C,C=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(H===null&&(b=V),d.baseState=b,d.firstBaseUpdate=L,d.lastBaseUpdate=H,r=d.shared.interleaved,r!==null){d=r;do y|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);zr|=y,t.lanes=y,t.memoizedState=V}}function xh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var as={},_n=nr(as),us=nr(as),cs=nr(as);function Rr(t){if(t===as)throw Error(n(174));return t}function xa(t,r){switch(Ye(cs,r),Ye(us,t),Ye(_n,as),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Mn(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Mn(r,t)}qe(_n),Ye(_n,r)}function gi(){qe(_n),qe(us),qe(cs)}function vh(t){Rr(cs.current);var r=Rr(_n.current),o=Mn(r,t.type);r!==o&&(Ye(us,t),Ye(_n,o))}function va(t){us.current===t&&(qe(_n),qe(us))}var Je=nr(0);function Eo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _a=[];function wa(){for(var t=0;t<_a.length;t++)_a[t]._workInProgressVersionPrimary=null;_a.length=0}var Ao=j.ReactCurrentDispatcher,Sa=j.ReactCurrentBatchConfig,Ir=0,et=null,ct=null,mt=null,Ro=!1,hs=!1,ds=0,bp=0;function bt(){throw Error(n(321))}function Ca(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!an(t[o],r[o]))return!1;return!0}function ka(t,r,o,u,d,p){if(Ir=p,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ao.current=t===null||t.memoizedState===null?Ep:Ap,t=o(u,d),hs){p=0;do{if(hs=!1,ds=0,25<=p)throw Error(n(301));p+=1,mt=ct=null,r.updateQueue=null,Ao.current=Rp,t=o(u,d)}while(hs)}if(Ao.current=Do,r=ct!==null&&ct.next!==null,Ir=0,mt=ct=et=null,Ro=!1,r)throw Error(n(300));return t}function ba(){var t=ds!==0;return ds=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?et.memoizedState=mt=t:mt=mt.next=t,mt}function Zt(){if(ct===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=mt===null?et.memoizedState:mt.next;if(r!==null)mt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?et.memoizedState=mt=t:mt=mt.next=t}return mt}function fs(t,r){return typeof r=="function"?r(t):r}function Pa(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var C=y=null,b=null,L=p;do{var H=L.lane;if((Ir&H)===H)b!==null&&(b=b.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),u=L.hasEagerState?L.eagerState:t(u,L.action);else{var V={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};b===null?(C=b=V,y=u):b=b.next=V,et.lanes|=H,zr|=H}L=L.next}while(L!==null&&L!==p);b===null?y=u:b.next=C,an(u,r.memoizedState)||(jt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=b,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do p=d.lane,et.lanes|=p,zr|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ta(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do p=t(p,y.action),y=y.next;while(y!==d);an(p,r.memoizedState)||(jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function _h(){}function wh(t,r){var o=et,u=Zt(),d=r(),p=!an(u.memoizedState,d);if(p&&(u.memoizedState=d,jt=!0),u=u.queue,Ma(kh.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,ps(9,Ch.bind(null,o,u,d,r),void 0,null),gt===null)throw Error(n(349));(Ir&30)!==0||Sh(o,r,d)}return d}function Sh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ch(t,r,o,u){r.value=o,r.getSnapshot=u,bh(r)&&Ph(t)}function kh(t,r,o){return o(function(){bh(r)&&Ph(t)})}function bh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!an(t,o)}catch{return!0}}function Ph(t){var r=Dn(t,1);r!==null&&fn(r,t,1,-1)}function Th(t){var r=wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},r.queue=t,t=t.dispatch=Mp.bind(null,et,t),[r.memoizedState,t]}function ps(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Mh(){return Zt().memoizedState}function Io(t,r,o,u){var d=wn();et.flags|=t,d.memoizedState=ps(1|r,o,void 0,u===void 0?null:u)}function zo(t,r,o,u){var d=Zt();u=u===void 0?null:u;var p=void 0;if(ct!==null){var y=ct.memoizedState;if(p=y.destroy,u!==null&&Ca(u,y.deps)){d.memoizedState=ps(r,o,p,u);return}}et.flags|=t,d.memoizedState=ps(1|r,o,p,u)}function Eh(t,r){return Io(8390656,8,t,r)}function Ma(t,r){return zo(2048,8,t,r)}function Ah(t,r){return zo(4,2,t,r)}function Rh(t,r){return zo(4,4,t,r)}function Ih(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zh(t,r,o){return o=o!=null?o.concat([t]):null,zo(4,4,Ih.bind(null,r,t),o)}function Ea(){}function Dh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ca(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Lh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ca(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function jh(t,r,o){return(Ir&21)===0?(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=o):(an(o,r)||(o=xn(),et.lanes|=o,zr|=o,t.baseState=!0),r)}function Pp(t,r){var o=Fe;Fe=o!==0&&4>o?o:4,t(!0);var u=Sa.transition;Sa.transition={};try{t(!1),r()}finally{Fe=o,Sa.transition=u}}function Fh(){return Zt().memoizedState}function Tp(t,r,o){var u=cr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Nh(t))Bh(r,o);else if(o=mh(t,r,o,u),o!==null){var d=It();fn(o,t,u,d),$h(o,r,u)}}function Mp(t,r,o){var u=cr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))Bh(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,C=p(y,o);if(d.hasEagerState=!0,d.eagerState=C,an(C,y)){var b=r.interleaved;b===null?(d.next=d,ga(r)):(d.next=b.next,b.next=d),r.interleaved=d;return}}catch{}finally{}o=mh(t,r,d,u),o!==null&&(d=It(),fn(o,t,u,d),$h(o,r,u))}}function Nh(t){var r=t.alternate;return t===et||r!==null&&r===et}function Bh(t,r){hs=Ro=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function $h(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rl(t,o)}}var Do={readContext:Kt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Ep={readContext:Kt,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Eh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Io(4194308,4,Ih.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Io(4194308,4,t,r)},useInsertionEffect:function(t,r){return Io(4,2,t,r)},useMemo:function(t,r){var o=wn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=wn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Tp.bind(null,et,t),[u.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:Th,useDebugValue:Ea,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Th(!1),r=t[0];return t=Pp.bind(null,t[1]),wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=et,d=wn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));(Ir&30)!==0||Sh(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Eh(kh.bind(null,u,p,t),[t]),u.flags|=2048,ps(9,Ch.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=wn(),r=gt.identifierPrefix;if(Qe){var o=zn,u=In;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ds++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=bp++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ap={readContext:Kt,useCallback:Dh,useContext:Kt,useEffect:Ma,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:Lh,useReducer:Pa,useRef:Mh,useState:function(){return Pa(fs)},useDebugValue:Ea,useDeferredValue:function(t){var r=Zt();return jh(r,ct.memoizedState,t)},useTransition:function(){var t=Pa(fs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:wh,useId:Fh,unstable_isNewReconciler:!1},Rp={readContext:Kt,useCallback:Dh,useContext:Kt,useEffect:Ma,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:Lh,useReducer:Ta,useRef:Mh,useState:function(){return Ta(fs)},useDebugValue:Ea,useDeferredValue:function(t){var r=Zt();return ct===null?r.memoizedState=t:jh(r,ct.memoizedState,t)},useTransition:function(){var t=Ta(fs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:wh,useId:Fh,unstable_isNewReconciler:!1};function cn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Aa(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Lo={isMounted:function(t){return(t=t._reactInternals)?Ze(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=It(),d=cr(t),p=Ln(u,d);p.payload=r,o!=null&&(p.callback=o),r=or(t,p,d),r!==null&&(fn(r,t,d,u),To(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=It(),d=cr(t),p=Ln(u,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=or(t,p,d),r!==null&&(fn(r,t,d,u),To(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=It(),u=cr(t),d=Ln(o,u);d.tag=2,r!=null&&(d.callback=r),r=or(t,d,u),r!==null&&(fn(r,t,u,o),To(r,t,u))}};function Oh(t,r,o,u,d,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!es(o,u)||!es(d,p):!0}function Gh(t,r,o){var u=!1,d=rr,p=r.contextType;return typeof p=="object"&&p!==null?p=Kt(p):(d=Lt(r)?Tr:kt.current,u=r.contextTypes,p=(u=u!=null)?ui(t,d):rr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Lo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Uh(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Lo.enqueueReplaceState(r,r.state,null)}function Ra(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},ya(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=Kt(p):(p=Lt(r)?Tr:kt.current,d.context=ui(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Aa(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Lo.enqueueReplaceState(d,d.state,null),Mo(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Ia(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function za(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function Hh(t,r,o){o=Ln(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Go||(Go=!0,Xa=u),za(t,r)},o}function Vh(t,r,o){o=Ln(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){za(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){za(t,r),typeof u!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Wh(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Ip;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=Wp.bind(null,t,r,o),r.then(t,t))}function Yh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Xh(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Ln(-1,1),r.tag=2,or(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var zp=j.ReactCurrentOwner,jt=!1;function Rt(t,r,o,u){r.child=t===null?ph(r,null,o,u):fi(r,t.child,o,u)}function qh(t,r,o,u,d){o=o.render;var p=r.ref;return mi(r,d),u=ka(t,r,o,u,p,d),o=ba(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,jn(t,r,d)):(Qe&&o&&la(r),r.flags|=1,Rt(t,r,u,d),r.child)}function Qh(t,r,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!tu(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Kh(t,r,p,u,d)):(t=Xo(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&d)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:es,o(y,u)&&t.ref===r.ref)return jn(t,r,d)}return r.flags|=1,t=dr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Kh(t,r,o,u,d){if(t!==null){var p=t.memoizedProps;if(es(p,u)&&t.ref===r.ref)if(jt=!1,r.pendingProps=u=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,jn(t,r,d)}return Da(t,r,o,u,d)}function Zh(t,r,o){var u=r.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(vi,Vt),Vt|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ye(vi,Vt),Vt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ye(vi,Vt),Vt|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Ye(vi,Vt),Vt|=u;return Rt(t,r,d,o),r.child}function Jh(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Da(t,r,o,u,d){var p=Lt(o)?Tr:kt.current;return p=ui(r,p),mi(r,d),o=ka(t,r,o,u,p,d),u=ba(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,jn(t,r,d)):(Qe&&u&&la(r),r.flags|=1,Rt(t,r,o,d),r.child)}function ed(t,r,o,u,d){if(Lt(o)){var p=!0;vo(r)}else p=!1;if(mi(r,d),r.stateNode===null)Fo(t,r),Gh(r,o,u),Ra(r,o,u,d),u=!0;else if(t===null){var y=r.stateNode,C=r.memoizedProps;y.props=C;var b=y.context,L=o.contextType;typeof L=="object"&&L!==null?L=Kt(L):(L=Lt(o)?Tr:kt.current,L=ui(r,L));var H=o.getDerivedStateFromProps,V=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==u||b!==L)&&Uh(r,y,u,L),sr=!1;var U=r.memoizedState;y.state=U,Mo(r,u,y,d),b=r.memoizedState,C!==u||U!==b||Dt.current||sr?(typeof H=="function"&&(Aa(r,o,H,u),b=r.memoizedState),(C=sr||Oh(r,o,C,u,U,b,L))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=b),y.props=u,y.state=b,y.context=L,u=C):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,gh(t,r),C=r.memoizedProps,L=r.type===r.elementType?C:cn(r.type,C),y.props=L,V=r.pendingProps,U=y.context,b=o.contextType,typeof b=="object"&&b!==null?b=Kt(b):(b=Lt(o)?Tr:kt.current,b=ui(r,b));var ie=o.getDerivedStateFromProps;(H=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==V||U!==b)&&Uh(r,y,u,b),sr=!1,U=r.memoizedState,y.state=U,Mo(r,u,y,d);var ae=r.memoizedState;C!==V||U!==ae||Dt.current||sr?(typeof ie=="function"&&(Aa(r,o,ie,u),ae=r.memoizedState),(L=sr||Oh(r,o,L,u,U,ae,b)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ae,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ae,b)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),y.props=u,y.state=ae,y.context=b,u=L):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),u=!1)}return La(t,r,o,u,p,d)}function La(t,r,o,u,d,p){Jh(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return d&&sh(r,o,!1),jn(t,r,p);u=r.stateNode,zp.current=r;var C=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=fi(r,t.child,null,p),r.child=fi(r,null,C,p)):Rt(t,r,C,p),r.memoizedState=u.state,d&&sh(r,o,!0),r.child}function td(t){var r=t.stateNode;r.pendingContext?rh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&rh(t,r.context,!1),xa(t,r.containerInfo)}function nd(t,r,o,u,d){return di(),ha(d),r.flags|=256,Rt(t,r,o,u),r.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function rd(t,r,o){var u=r.pendingProps,d=Je.current,p=!1,y=(r.flags&128)!==0,C;if((C=y)||(C=t!==null&&t.memoizedState===null?!1:(d&2)!==0),C?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ye(Je,d&1),t===null)return ca(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=qo(y,u,0,null),t=Fr(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Fa(o),r.memoizedState=ja,t):Na(r,y));if(d=t.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return Dp(t,r,y,u,C,d,o);if(p){p=u.fallback,y=r.mode,d=t.child,C=d.sibling;var b={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=b,r.deletions=null):(u=dr(d,b),u.subtreeFlags=d.subtreeFlags&14680064),C!==null?p=dr(C,p):(p=Fr(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?Fa(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=ja,u}return p=t.child,t=p.sibling,u=dr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Na(t,r){return r=qo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function jo(t,r,o,u){return u!==null&&ha(u),fi(r,t.child,null,o),t=Na(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Dp(t,r,o,u,d,p,y){if(o)return r.flags&256?(r.flags&=-257,u=Ia(Error(n(422))),jo(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=qo({mode:"visible",children:u.children},d,0,null),p=Fr(p,d,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&fi(r,t.child,null,y),r.child.memoizedState=Fa(y),r.memoizedState=ja,p);if((r.mode&1)===0)return jo(t,r,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var C=u.dgst;return u=C,p=Error(n(419)),u=Ia(p,u,void 0),jo(t,r,y,u)}if(C=(y&t.childLanes)!==0,jt||C){if(u=gt,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Dn(t,d),fn(u,t,d,-1))}return eu(),u=Ia(Error(n(421))),jo(t,r,y,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Yp.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,Ht=tr(d.nextSibling),Ut=r,Qe=!0,un=null,t!==null&&(qt[Qt++]=In,qt[Qt++]=zn,qt[Qt++]=Mr,In=t.id,zn=t.overflow,Mr=r),r=Na(r,u.children),r.flags|=4096,r)}function id(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ma(t.return,r,o)}function Ba(t,r,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function sd(t,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(Rt(t,r,u.children,o),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&id(t,o,r);else if(t.tag===19)id(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ye(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&Eo(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Ba(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Eo(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Ba(r,!0,o,null,p);break;case"together":Ba(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function jn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),zr|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=dr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=dr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Lp(t,r,o){switch(r.tag){case 3:td(r),di();break;case 5:vh(r);break;case 1:Lt(r.type)&&vo(r);break;case 4:xa(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Ye(bo,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ye(Je,Je.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?rd(t,r,o):(Ye(Je,Je.current&1),t=jn(t,r,o),t!==null?t.sibling:null);Ye(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return sd(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Zh(t,r,o)}return jn(t,r,o)}var od,$a,ld,ad;od=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},$a=function(){},ld=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Rr(_n.current);var p=null;switch(o){case"input":d=We(t,d),u=We(t,u),p=[];break;case"select":d=te({},d,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":d=Hn(t,d),u=Hn(t,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=go)}_r(o,u);var y;o=null;for(L in d)if(!u.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var C=d[L];for(y in C)C.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(l.hasOwnProperty(L)?p||(p=[]):(p=p||[]).push(L,null));for(L in u){var b=u[L];if(C=d!=null?d[L]:void 0,u.hasOwnProperty(L)&&b!==C&&(b!=null||C!=null))if(L==="style")if(C){for(y in C)!C.hasOwnProperty(y)||b&&b.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in b)b.hasOwnProperty(y)&&C[y]!==b[y]&&(o||(o={}),o[y]=b[y])}else o||(p||(p=[]),p.push(L,o)),o=b;else L==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(p=p||[]).push(L,b)):L==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push(L,""+b):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(l.hasOwnProperty(L)?(b!=null&&L==="onScroll"&&Xe("scroll",t),p||C===b||(p=[])):(p=p||[]).push(L,b))}o&&(p=p||[]).push("style",o);var L=p;(r.updateQueue=L)&&(r.flags|=4)}},ad=function(t,r,o,u){o!==u&&(r.flags|=4)};function ms(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function jp(t,r,o){var u=r.pendingProps;switch(aa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return Lt(r.type)&&xo(),Pt(r),null;case 3:return u=r.stateNode,gi(),qe(Dt),qe(kt),wa(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Co(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,un!==null&&(Ka(un),un=null))),$a(t,r),Pt(r),null;case 5:va(r);var d=Rr(cs.current);if(o=r.type,t!==null&&r.stateNode!=null)ld(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Pt(r),null}if(t=Rr(_n.current),Co(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[vn]=r,u[ss]=p,t=(r.mode&1)!==0,o){case"dialog":Xe("cancel",u),Xe("close",u);break;case"iframe":case"object":case"embed":Xe("load",u);break;case"video":case"audio":for(d=0;d<ns.length;d++)Xe(ns[d],u);break;case"source":Xe("error",u);break;case"img":case"image":case"link":Xe("error",u),Xe("load",u);break;case"details":Xe("toggle",u);break;case"input":At(u,p),Xe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Xe("invalid",u);break;case"textarea":xr(u,p),Xe("invalid",u)}_r(o,p),d=null;for(var y in p)if(p.hasOwnProperty(y)){var C=p[y];y==="children"?typeof C=="string"?u.textContent!==C&&(p.suppressHydrationWarning!==!0&&mo(u.textContent,C,t),d=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&mo(u.textContent,C,t),d=["children",""+C]):l.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&Xe("scroll",u)}switch(o){case"input":on(u),yr(u,p,!0);break;case"textarea":on(u),zi(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=go)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Di(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[vn]=r,t[ss]=u,od(t,r,!1,!1),r.stateNode=t;e:{switch(y=qr(o,u),o){case"dialog":Xe("cancel",t),Xe("close",t),d=u;break;case"iframe":case"object":case"embed":Xe("load",t),d=u;break;case"video":case"audio":for(d=0;d<ns.length;d++)Xe(ns[d],t);d=u;break;case"source":Xe("error",t),d=u;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),d=u;break;case"details":Xe("toggle",t),d=u;break;case"input":At(t,u),d=We(t,u),Xe("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=te({},u,{value:void 0}),Xe("invalid",t);break;case"textarea":xr(t,u),d=Hn(t,u),Xe("invalid",t);break;default:d=u}_r(o,d),C=d;for(p in C)if(C.hasOwnProperty(p)){var b=C[p];p==="style"?Xr(t,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Wr(t,b)):p==="children"?typeof b=="string"?(o!=="textarea"||b!=="")&&Vn(t,b):typeof b=="number"&&Vn(t,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Xe("scroll",t):b!=null&&z(t,p,b,y))}switch(o){case"input":on(t),yr(t,u,!1);break;case"textarea":on(t),zi(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Un(t,!!u.multiple,p,!1):u.defaultValue!=null&&Un(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=go)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pt(r),null;case 6:if(t&&r.stateNode!=null)ad(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Rr(cs.current),Rr(_n.current),Co(r)){if(u=r.stateNode,o=r.memoizedProps,u[vn]=r,(p=u.nodeValue!==o)&&(t=Ut,t!==null))switch(t.tag){case 3:mo(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mo(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[vn]=r,r.stateNode=u}return Pt(r),null;case 13:if(qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Ht!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hh(),di(),r.flags|=98560,p=!1;else if(p=Co(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[vn]=r}else di(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),p=!1}else un!==null&&(Ka(un),un=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Je.current&1)!==0?ht===0&&(ht=3):eu())),r.updateQueue!==null&&(r.flags|=4),Pt(r),null);case 4:return gi(),$a(t,r),t===null&&rs(r.stateNode.containerInfo),Pt(r),null;case 10:return pa(r.type._context),Pt(r),null;case 17:return Lt(r.type)&&xo(),Pt(r),null;case 19:if(qe(Je),p=r.memoizedState,p===null)return Pt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)ms(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Eo(t),y!==null){for(r.flags|=128,ms(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ye(Je,Je.current&1|2),r.child}t=t.sibling}p.tail!==null&&S()>_i&&(r.flags|=128,u=!0,ms(p,!1),r.lanes=4194304)}else{if(!u)if(t=Eo(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ms(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Qe)return Pt(r),null}else 2*S()-p.renderingStartTime>_i&&o!==1073741824&&(r.flags|=128,u=!0,ms(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=S(),r.sibling=null,o=Je.current,Ye(Je,u?o&1|2:o&1),r):(Pt(r),null);case 22:case 23:return Ja(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Vt&1073741824)!==0&&(Pt(r),r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Fp(t,r){switch(aa(r),r.tag){case 1:return Lt(r.type)&&xo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return gi(),qe(Dt),qe(kt),wa(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return va(r),null;case 13:if(qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));di()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Je),null;case 4:return gi(),null;case 10:return pa(r.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var No=!1,Tt=!1,Np=typeof WeakSet=="function"?WeakSet:Set,le=null;function xi(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(t,r,u)}else o.current=null}function Oa(t,r,o){try{o()}catch(u){nt(t,r,u)}}var ud=!1;function Bp(t,r){if(Jl=ro,t=Oc(),Vl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,C=-1,b=-1,L=0,H=0,V=t,U=null;t:for(;;){for(var ie;V!==o||d!==0&&V.nodeType!==3||(C=y+d),V!==p||u!==0&&V.nodeType!==3||(b=y+u),V.nodeType===3&&(y+=V.nodeValue.length),(ie=V.firstChild)!==null;)U=V,V=ie;for(;;){if(V===t)break t;if(U===o&&++L===d&&(C=y),U===p&&++H===u&&(b=y),(ie=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=ie}o=C===-1||b===-1?null:{start:C,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(ea={focusedElem:t,selectionRange:o},ro=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,ot=ae.memoizedState,E=r.stateNode,T=E.getSnapshotBeforeUpdate(r.elementType===r.type?ue:cn(r.type,ue),ot);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=r.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){nt(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ae=ud,ud=!1,ae}function gs(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Oa(r,o,p)}d=d.next}while(d!==u)}}function Bo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Ga(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function cd(t){var r=t.alternate;r!==null&&(t.alternate=null,cd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[vn],delete r[ss],delete r[ia],delete r[wp],delete r[Sp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hd(t){return t.tag===5||t.tag===3||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ua(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=go));else if(u!==4&&(t=t.child,t!==null))for(Ua(t,r,o),t=t.sibling;t!==null;)Ua(t,r,o),t=t.sibling}function Ha(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ha(t,r,o),t=t.sibling;t!==null;)Ha(t,r,o),t=t.sibling}var St=null,hn=!1;function lr(t,r,o){for(o=o.child;o!==null;)fd(t,r,o),o=o.sibling}function fd(t,r,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(W,o)}catch{}switch(o.tag){case 5:Tt||xi(o,r);case 6:var u=St,d=hn;St=null,lr(t,r,o),St=u,hn=d,St!==null&&(hn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(hn?(t=St,o=o.stateNode,t.nodeType===8?ra(t.parentNode,o):t.nodeType===1&&ra(t,o),Xi(t)):ra(St,o.stateNode));break;case 4:u=St,d=hn,St=o.stateNode.containerInfo,hn=!0,lr(t,r,o),St=u,hn=d;break;case 0:case 11:case 14:case 15:if(!Tt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Oa(o,r,y),d=d.next}while(d!==u)}lr(t,r,o);break;case 1:if(!Tt&&(xi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(C){nt(o,r,C)}lr(t,r,o);break;case 21:lr(t,r,o);break;case 22:o.mode&1?(Tt=(u=Tt)||o.memoizedState!==null,lr(t,r,o),Tt=u):lr(t,r,o);break;default:lr(t,r,o)}}function pd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Np),r.forEach(function(u){var d=Xp.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function dn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=t,y=r,C=y;e:for(;C!==null;){switch(C.tag){case 5:St=C.stateNode,hn=!1;break e;case 3:St=C.stateNode.containerInfo,hn=!0;break e;case 4:St=C.stateNode.containerInfo,hn=!0;break e}C=C.return}if(St===null)throw Error(n(160));fd(p,y,d),St=null,hn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(L){nt(d,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)md(r,t),r=r.sibling}function md(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(r,t),Sn(t),u&4){try{gs(3,t,t.return),Bo(3,t)}catch(ue){nt(t,t.return,ue)}try{gs(5,t,t.return)}catch(ue){nt(t,t.return,ue)}}break;case 1:dn(r,t),Sn(t),u&512&&o!==null&&xi(o,o.return);break;case 5:if(dn(r,t),Sn(t),u&512&&o!==null&&xi(o,o.return),t.flags&32){var d=t.stateNode;try{Vn(d,"")}catch(ue){nt(t,t.return,ue)}}if(u&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,C=t.type,b=t.updateQueue;if(t.updateQueue=null,b!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&Hr(d,p),qr(C,y);var L=qr(C,p);for(y=0;y<b.length;y+=2){var H=b[y],V=b[y+1];H==="style"?Xr(d,V):H==="dangerouslySetInnerHTML"?Wr(d,V):H==="children"?Vn(d,V):z(d,H,V,L)}switch(C){case"input":ln(d,p);break;case"textarea":Ii(d,p);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?Un(d,!!p.multiple,ie,!1):U!==!!p.multiple&&(p.defaultValue!=null?Un(d,!!p.multiple,p.defaultValue,!0):Un(d,!!p.multiple,p.multiple?[]:"",!1))}d[ss]=p}catch(ue){nt(t,t.return,ue)}}break;case 6:if(dn(r,t),Sn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ue){nt(t,t.return,ue)}}break;case 3:if(dn(r,t),Sn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xi(r.containerInfo)}catch(ue){nt(t,t.return,ue)}break;case 4:dn(r,t),Sn(t);break;case 13:dn(r,t),Sn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Ya=S())),u&4&&pd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Tt=(L=Tt)||H,dn(r,t),Tt=L):dn(r,t),Sn(t),u&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!H&&(t.mode&1)!==0)for(le=t,H=t.child;H!==null;){for(V=le=H;le!==null;){switch(U=le,ie=U.child,U.tag){case 0:case 11:case 14:case 15:gs(4,U,U.return);break;case 1:xi(U,U.return);var ae=U.stateNode;if(typeof ae.componentWillUnmount=="function"){u=U,o=U.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(ue){nt(u,o,ue)}}break;case 5:xi(U,U.return);break;case 22:if(U.memoizedState!==null){xd(V);continue}}ie!==null?(ie.return=U,le=ie):xd(V)}H=H.sibling}e:for(H=null,V=t;;){if(V.tag===5){if(H===null){H=V;try{d=V.stateNode,L?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=V.stateNode,b=V.memoizedProps.style,y=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=Yr("display",y))}catch(ue){nt(t,t.return,ue)}}}else if(V.tag===6){if(H===null)try{V.stateNode.nodeValue=L?"":V.memoizedProps}catch(ue){nt(t,t.return,ue)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;H===V&&(H=null),V=V.return}H===V&&(H=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:dn(r,t),Sn(t),u&4&&pd(t);break;case 21:break;default:dn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(hd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Vn(d,""),u.flags&=-33);var p=dd(t);Ha(t,p,d);break;case 3:case 4:var y=u.stateNode.containerInfo,C=dd(t);Ua(t,C,y);break;default:throw Error(n(161))}}catch(b){nt(t,t.return,b)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $p(t,r,o){le=t,gd(t)}function gd(t,r,o){for(var u=(t.mode&1)!==0;le!==null;){var d=le,p=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||No;if(!y){var C=d.alternate,b=C!==null&&C.memoizedState!==null||Tt;C=No;var L=Tt;if(No=y,(Tt=b)&&!L)for(le=d;le!==null;)y=le,b=y.child,y.tag===22&&y.memoizedState!==null?vd(d):b!==null?(b.return=y,le=b):vd(d);for(;p!==null;)le=p,gd(p),p=p.sibling;le=d,No=C,Tt=L}yd(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,le=p):yd(t)}}function yd(t){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Tt||Bo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Tt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:cn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&xh(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}xh(r,y,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var b=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&o.focus();break;case"img":b.src&&(o.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var V=H.dehydrated;V!==null&&Xi(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||r.flags&512&&Ga(r)}catch(U){nt(r,r.return,U)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function xd(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function vd(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Bo(4,r)}catch(b){nt(r,o,b)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(b){nt(r,d,b)}}var p=r.return;try{Ga(r)}catch(b){nt(r,p,b)}break;case 5:var y=r.return;try{Ga(r)}catch(b){nt(r,y,b)}}}catch(b){nt(r,r.return,b)}if(r===t){le=null;break}var C=r.sibling;if(C!==null){C.return=r.return,le=C;break}le=r.return}}var Op=Math.ceil,$o=j.ReactCurrentDispatcher,Va=j.ReactCurrentOwner,Jt=j.ReactCurrentBatchConfig,Re=0,gt=null,at=null,Ct=0,Vt=0,vi=nr(0),ht=0,ys=null,zr=0,Oo=0,Wa=0,xs=null,Ft=null,Ya=0,_i=1/0,Fn=null,Go=!1,Xa=null,ar=null,Uo=!1,ur=null,Ho=0,vs=0,qa=null,Vo=-1,Wo=0;function It(){return(Re&6)!==0?S():Vo!==-1?Vo:Vo=S()}function cr(t){return(t.mode&1)===0?1:(Re&2)!==0&&Ct!==0?Ct&-Ct:kp.transition!==null?(Wo===0&&(Wo=xn()),Wo):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:wc(t.type)),t)}function fn(t,r,o,u){if(50<vs)throw vs=0,qa=null,Error(n(185));Ui(t,o,u),((Re&2)===0||t!==gt)&&(t===gt&&((Re&2)===0&&(Oo|=o),ht===4&&hr(t,Ct)),Nt(t,u),o===1&&Re===0&&(r.mode&1)===0&&(_i=S()+500,_o&&ir()))}function Nt(t,r){var o=t.callbackNode;kr(t,r);var u=st(t,t===gt?Ct:0);if(u===0)o!==null&&Gi(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Gi(o),r===1)t.tag===0?Cp(wd.bind(null,t)):oh(wd.bind(null,t)),vp(function(){(Re&6)===0&&ir()}),o=null;else{switch(fc(u)){case 1:o=O;break;case 4:o=re;break;case 16:o=G;break;case 536870912:o=Q;break;default:o=G}o=Ed(o,_d.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function _d(t,r){if(Vo=-1,Wo=0,(Re&6)!==0)throw Error(n(327));var o=t.callbackNode;if(wi()&&t.callbackNode!==o)return null;var u=st(t,t===gt?Ct:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Yo(t,u);else{r=u;var d=Re;Re|=2;var p=Cd();(gt!==t||Ct!==r)&&(Fn=null,_i=S()+500,Lr(t,r));do try{Hp();break}catch(C){Sd(t,C)}while(!0);fa(),$o.current=p,Re=d,at!==null?r=0:(gt=null,Ct=0,r=ht)}if(r!==0){if(r===2&&(d=br(t),d!==0&&(u=d,r=Qa(t,d))),r===1)throw o=ys,Lr(t,0),hr(t,u),Nt(t,S()),o;if(r===6)hr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!Gp(d)&&(r=Yo(t,u),r===2&&(p=br(t),p!==0&&(u=p,r=Qa(t,p))),r===1))throw o=ys,Lr(t,0),hr(t,u),Nt(t,S()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:jr(t,Ft,Fn);break;case 3:if(hr(t,u),(u&130023424)===u&&(r=Ya+500-S(),10<r)){if(st(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){It(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=na(jr.bind(null,t,Ft,Fn),r);break}jr(t,Ft,Fn);break;case 4:if(hr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var y=31-ve(u);p=1<<y,y=r[y],y>d&&(d=y),u&=~p}if(u=d,u=S()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Op(u/1960))-u,10<u){t.timeoutHandle=na(jr.bind(null,t,Ft,Fn),u);break}jr(t,Ft,Fn);break;case 5:jr(t,Ft,Fn);break;default:throw Error(n(329))}}}return Nt(t,S()),t.callbackNode===o?_d.bind(null,t):null}function Qa(t,r){var o=xs;return t.current.memoizedState.isDehydrated&&(Lr(t,r).flags|=256),t=Yo(t,r),t!==2&&(r=Ft,Ft=o,r!==null&&Ka(r)),t}function Ka(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function Gp(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!an(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(t,r){for(r&=~Wa,r&=~Oo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-ve(r),u=1<<o;t[o]=-1,r&=~u}}function wd(t){if((Re&6)!==0)throw Error(n(327));wi();var r=st(t,0);if((r&1)===0)return Nt(t,S()),null;var o=Yo(t,r);if(t.tag!==0&&o===2){var u=br(t);u!==0&&(r=u,o=Qa(t,u))}if(o===1)throw o=ys,Lr(t,0),hr(t,r),Nt(t,S()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,jr(t,Ft,Fn),Nt(t,S()),null}function Za(t,r){var o=Re;Re|=1;try{return t(r)}finally{Re=o,Re===0&&(_i=S()+500,_o&&ir())}}function Dr(t){ur!==null&&ur.tag===0&&(Re&6)===0&&wi();var r=Re;Re|=1;var o=Jt.transition,u=Fe;try{if(Jt.transition=null,Fe=1,t)return t()}finally{Fe=u,Jt.transition=o,Re=r,(Re&6)===0&&ir()}}function Ja(){Vt=vi.current,qe(vi)}function Lr(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,xp(o)),at!==null)for(o=at.return;o!==null;){var u=o;switch(aa(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&xo();break;case 3:gi(),qe(Dt),qe(kt),wa();break;case 5:va(u);break;case 4:gi();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:pa(u.type._context);break;case 22:case 23:Ja()}o=o.return}if(gt=t,at=t=dr(t.current,null),Ct=Vt=r,ht=0,ys=null,Wa=Oo=zr=0,Ft=xs=null,Ar!==null){for(r=0;r<Ar.length;r++)if(o=Ar[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=d,u.next=y}o.pending=u}Ar=null}return t}function Sd(t,r){do{var o=at;try{if(fa(),Ao.current=Do,Ro){for(var u=et.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Ro=!1}if(Ir=0,mt=ct=et=null,hs=!1,ds=0,Va.current=null,o===null||o.return===null){ht=1,ys=r,at=null;break}e:{var p=t,y=o.return,C=o,b=r;if(r=Ct,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=b,H=C,V=H.tag;if((H.mode&1)===0&&(V===0||V===11||V===15)){var U=H.alternate;U?(H.updateQueue=U.updateQueue,H.memoizedState=U.memoizedState,H.lanes=U.lanes):(H.updateQueue=null,H.memoizedState=null)}var ie=Yh(y);if(ie!==null){ie.flags&=-257,Xh(ie,y,C,p,r),ie.mode&1&&Wh(p,L,r),r=ie,b=L;var ae=r.updateQueue;if(ae===null){var ue=new Set;ue.add(b),r.updateQueue=ue}else ae.add(b);break e}else{if((r&1)===0){Wh(p,L,r),eu();break e}b=Error(n(426))}}else if(Qe&&C.mode&1){var ot=Yh(y);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Xh(ot,y,C,p,r),ha(yi(b,C));break e}}p=b=yi(b,C),ht!==4&&(ht=2),xs===null?xs=[p]:xs.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var E=Hh(p,b,r);yh(p,E);break e;case 1:C=b;var T=p.type,I=p.stateNode;if((p.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ar===null||!ar.has(I)))){p.flags|=65536,r&=-r,p.lanes|=r;var Y=Vh(p,C,r);yh(p,Y);break e}}p=p.return}while(p!==null)}bd(o)}catch(de){r=de,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Cd(){var t=$o.current;return $o.current=Do,t===null?Do:t}function eu(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||(zr&268435455)===0&&(Oo&268435455)===0||hr(gt,Ct)}function Yo(t,r){var o=Re;Re|=2;var u=Cd();(gt!==t||Ct!==r)&&(Fn=null,Lr(t,r));do try{Up();break}catch(d){Sd(t,d)}while(!0);if(fa(),Re=o,$o.current=u,at!==null)throw Error(n(261));return gt=null,Ct=0,ht}function Up(){for(;at!==null;)kd(at)}function Hp(){for(;at!==null&&!Js();)kd(at)}function kd(t){var r=Md(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,r===null?bd(t):at=r,Va.current=null}function bd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=jp(o,r,Vt),o!==null){at=o;return}}else{if(o=Fp(o,r),o!==null){o.flags&=32767,at=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);ht===0&&(ht=5)}function jr(t,r,o){var u=Fe,d=Jt.transition;try{Jt.transition=null,Fe=1,Vp(t,r,o,u)}finally{Jt.transition=d,Fe=u}return null}function Vp(t,r,o,u){do wi();while(ur!==null);if((Re&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(b1(t,p),t===gt&&(at=gt=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Uo||(Uo=!0,Ed(G,function(){return wi(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Jt.transition,Jt.transition=null;var y=Fe;Fe=1;var C=Re;Re|=4,Va.current=null,Bp(t,o),md(o,t),hp(ea),ro=!!Jl,ea=Jl=null,t.current=o,$p(o),eo(),Re=C,Fe=y,Jt.transition=p}else t.current=o;if(Uo&&(Uo=!1,ur=t,Ho=d),p=t.pendingLanes,p===0&&(ar=null),Ie(o.stateNode),Nt(t,S()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Go)throw Go=!1,t=Xa,Xa=null,t;return(Ho&1)!==0&&t.tag!==0&&wi(),p=t.pendingLanes,(p&1)!==0?t===qa?vs++:(vs=0,qa=t):vs=0,ir(),null}function wi(){if(ur!==null){var t=fc(Ho),r=Jt.transition,o=Fe;try{if(Jt.transition=null,Fe=16>t?16:t,ur===null)var u=!1;else{if(t=ur,ur=null,Ho=0,(Re&6)!==0)throw Error(n(331));var d=Re;for(Re|=4,le=t.current;le!==null;){var p=le,y=p.child;if((le.flags&16)!==0){var C=p.deletions;if(C!==null){for(var b=0;b<C.length;b++){var L=C[b];for(le=L;le!==null;){var H=le;switch(H.tag){case 0:case 11:case 15:gs(8,H,p)}var V=H.child;if(V!==null)V.return=H,le=V;else for(;le!==null;){H=le;var U=H.sibling,ie=H.return;if(cd(H),H===L){le=null;break}if(U!==null){U.return=ie,le=U;break}le=ie}}}var ae=p.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var ot=ue.sibling;ue.sibling=null,ue=ot}while(ue!==null)}}le=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,le=y;else e:for(;le!==null;){if(p=le,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:gs(9,p,p.return)}var E=p.sibling;if(E!==null){E.return=p.return,le=E;break e}le=p.return}}var T=t.current;for(le=T;le!==null;){y=le;var I=y.child;if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,le=I;else e:for(y=T;le!==null;){if(C=le,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Bo(9,C)}}catch(de){nt(C,C.return,de)}if(C===y){le=null;break e}var Y=C.sibling;if(Y!==null){Y.return=C.return,le=Y;break e}le=C.return}}if(Re=d,ir(),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(W,t)}catch{}u=!0}return u}finally{Fe=o,Jt.transition=r}}return!1}function Pd(t,r,o){r=yi(o,r),r=Hh(t,r,1),t=or(t,r,1),r=It(),t!==null&&(Ui(t,1,r),Nt(t,r))}function nt(t,r,o){if(t.tag===3)Pd(t,t,o);else for(;r!==null;){if(r.tag===3){Pd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ar===null||!ar.has(u))){t=yi(o,t),t=Vh(r,t,1),r=or(r,t,1),t=It(),r!==null&&(Ui(r,1,t),Nt(r,t));break}}r=r.return}}function Wp(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=It(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(Ct&o)===o&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>S()-Ya?Lr(t,0):Wa|=o),Nt(t,r)}function Td(t,r){r===0&&((t.mode&1)===0?r=1:(r=$e,$e<<=1,($e&130023424)===0&&($e=4194304)));var o=It();t=Dn(t,r),t!==null&&(Ui(t,r,o),Nt(t,o))}function Yp(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Td(t,o)}function Xp(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Td(t,o)}var Md;Md=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Dt.current)jt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return jt=!1,Lp(t,r,o);jt=(t.flags&131072)!==0}else jt=!1,Qe&&(r.flags&1048576)!==0&&lh(r,So,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Fo(t,r),t=r.pendingProps;var d=ui(r,kt.current);mi(r,o),d=ka(null,r,u,t,d,o);var p=ba();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Lt(u)?(p=!0,vo(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ya(r),d.updater=Lo,r.stateNode=d,d._reactInternals=r,Ra(r,u,t,o),r=La(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&la(r),Rt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Fo(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=Qp(u),t=cn(u,t),d){case 0:r=Da(null,r,u,t,o);break e;case 1:r=ed(null,r,u,t,o);break e;case 11:r=qh(null,r,u,t,o);break e;case 14:r=Qh(null,r,u,cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),Da(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),ed(t,r,u,d,o);case 3:e:{if(td(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,d=p.element,gh(t,r),Mo(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=yi(Error(n(423)),r),r=nd(t,r,u,o,d);break e}else if(u!==d){d=yi(Error(n(424)),r),r=nd(t,r,u,o,d);break e}else for(Ht=tr(r.stateNode.containerInfo.firstChild),Ut=r,Qe=!0,un=null,o=ph(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(di(),u===d){r=jn(t,r,o);break e}Rt(t,r,u,o)}r=r.child}return r;case 5:return vh(r),t===null&&ca(r),u=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,y=d.children,ta(u,d)?y=null:p!==null&&ta(u,p)&&(r.flags|=32),Jh(t,r),Rt(t,r,y,o),r.child;case 6:return t===null&&ca(r),null;case 13:return rd(t,r,o);case 4:return xa(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=fi(r,null,u,o):Rt(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),qh(t,r,u,d,o);case 7:return Rt(t,r,r.pendingProps,o),r.child;case 8:return Rt(t,r,r.pendingProps.children,o),r.child;case 12:return Rt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,y=d.value,Ye(bo,u._currentValue),u._currentValue=y,p!==null)if(an(p.value,y)){if(p.children===d.children&&!Dt.current){r=jn(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var C=p.dependencies;if(C!==null){y=p.child;for(var b=C.firstContext;b!==null;){if(b.context===u){if(p.tag===1){b=Ln(-1,o&-o),b.tag=2;var L=p.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?b.next=b:(b.next=H.next,H.next=b),L.pending=b}}p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),ma(p.return,o,r),C.lanes|=o;break}b=b.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),ma(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Rt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,mi(r,o),d=Kt(d),u=u(d),r.flags|=1,Rt(t,r,u,o),r.child;case 14:return u=r.type,d=cn(u,r.pendingProps),d=cn(u.type,d),Qh(t,r,u,d,o);case 15:return Kh(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),Fo(t,r),r.tag=1,Lt(u)?(t=!0,vo(r)):t=!1,mi(r,o),Gh(r,u,d),Ra(r,u,d,o),La(null,r,u,!0,t,o);case 19:return sd(t,r,o);case 22:return Zh(t,r,o)}throw Error(n(156,r.tag))};function Ed(t,r){return Oi(t,r)}function qp(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,r,o,u){return new qp(t,r,o,u)}function tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qp(t){if(typeof t=="function")return tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pe)return 11;if(t===ut)return 14}return 2}function dr(t,r){var o=t.alternate;return o===null?(o=en(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Xo(t,r,o,u,d,p){var y=2;if(u=t,typeof t=="function")tu(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case $:return Fr(o.children,d,p,r);case ce:y=8,d|=8;break;case he:return t=en(12,o,r,d|2),t.elementType=he,t.lanes=p,t;case be:return t=en(13,o,r,d),t.elementType=be,t.lanes=p,t;case Se:return t=en(19,o,r,d),t.elementType=Se,t.lanes=p,t;case ne:return qo(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:y=10;break e;case oe:y=9;break e;case Pe:y=11;break e;case ut:y=14;break e;case ee:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=en(y,o,r,d),r.elementType=t,r.type=u,r.lanes=p,r}function Fr(t,r,o,u){return t=en(7,t,u,r),t.lanes=o,t}function qo(t,r,o,u){return t=en(22,t,u,r),t.elementType=ne,t.lanes=o,t.stateNode={isHidden:!1},t}function nu(t,r,o){return t=en(6,t,null,r),t.lanes=o,t}function ru(t,r,o){return r=en(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Kp(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function iu(t,r,o,u,d,p,y,C,b){return t=new Kp(t,r,o,C,b),r===1?(r=1,p===!0&&(r|=8)):r=0,p=en(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(p),t}function Zp(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Ad(t){if(!t)return rr;t=t._reactInternals;e:{if(Ze(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Lt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Lt(o))return ih(t,o,r)}return r}function Rd(t,r,o,u,d,p,y,C,b){return t=iu(o,u,!0,t,d,p,y,C,b),t.context=Ad(null),o=t.current,u=It(),d=cr(o),p=Ln(u,d),p.callback=r??null,or(o,p,d),t.current.lanes=d,Ui(t,d,u),Nt(t,u),t}function Qo(t,r,o,u){var d=r.current,p=It(),y=cr(d);return o=Ad(o),r.context===null?r.context=o:r.pendingContext=o,r=Ln(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=or(d,r,y),t!==null&&(fn(t,d,y,p),To(t,d,y)),y}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Id(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function su(t,r){Id(t,r),(t=t.alternate)&&Id(t,r)}function Jp(){return null}var zd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ou(t){this._internalRoot=t}Zo.prototype.render=ou.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Qo(t,r,null,null)},Zo.prototype.unmount=ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Dr(function(){Qo(null,t,null,null)}),r[An]=null}};function Zo(t){this._internalRoot=t}Zo.prototype.unstable_scheduleHydration=function(t){if(t){var r=gc();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Zn.length&&r!==0&&r<Zn[o].priority;o++);Zn.splice(o,0,t),o===0&&vc(t)}};function lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function em(t,r,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var L=Ko(y);p.call(L)}}var y=Rd(r,u,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=y,t[An]=y.current,rs(t.nodeType===8?t.parentNode:t),Dr(),y}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var C=u;u=function(){var L=Ko(b);C.call(L)}}var b=iu(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=b,t[An]=b.current,rs(t.nodeType===8?t.parentNode:t),Dr(function(){Qo(r,b,o,u)}),b}function el(t,r,o,u,d){var p=o._reactRootContainer;if(p){var y=p;if(typeof d=="function"){var C=d;d=function(){var b=Ko(y);C.call(b)}}Qo(r,y,t,d)}else y=em(o,r,t,d,u);return Ko(y)}pc=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=ft(r.pendingLanes);o!==0&&(Rl(r,o|1),Nt(r,S()),(Re&6)===0&&(_i=S()+500,ir()))}break;case 13:Dr(function(){var u=Dn(t,1);if(u!==null){var d=It();fn(u,t,1,d)}}),su(t,1)}},Il=function(t){if(t.tag===13){var r=Dn(t,134217728);if(r!==null){var o=It();fn(r,t,134217728,o)}su(t,134217728)}},mc=function(t){if(t.tag===13){var r=cr(t),o=Dn(t,r);if(o!==null){var u=It();fn(o,t,r,u)}su(t,r)}},gc=function(){return Fe},yc=function(t,r){var o=Fe;try{return Fe=t,r()}finally{Fe=o}},ji=function(t,r,o){switch(r){case"input":if(ln(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=yo(u);if(!d)throw Error(n(90));Ve(u),ln(u,d)}}}break;case"textarea":Ii(t,o);break;case"select":r=o.value,r!=null&&Un(t,!!o.multiple,r,!1)}},Kr=Za,qs=Dr;var tm={usingClientEntryPoint:!1,Events:[os,li,yo,Xs,Fi,Za]},_s={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nm={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=En(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{W=tl.inject(nm),se=tl}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm,Bt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(r))throw Error(n(200));return Zp(t,r,null,o)},Bt.createRoot=function(t,r){if(!lu(t))throw Error(n(299));var o=!1,u="",d=zd;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=iu(t,1,!1,null,null,o,!1,u,d),t[An]=r.current,rs(t.nodeType===8?t.parentNode:t),new ou(r)},Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=En(r),t=t===null?null:t.stateNode,t},Bt.flushSync=function(t){return Dr(t)},Bt.hydrate=function(t,r,o){if(!Jo(r))throw Error(n(200));return el(null,t,r,!0,o)},Bt.hydrateRoot=function(t,r,o){if(!lu(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",y=zd;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Rd(r,null,t,1,o??null,d,!1,p,y),t[An]=r.current,rs(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Zo(r)},Bt.render=function(t,r,o){if(!Jo(r))throw Error(n(200));return el(null,t,r,!1,o)},Bt.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(n(40));return t._reactRootContainer?(Dr(function(){el(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1},Bt.unstable_batchedUpdates=Za,Bt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Jo(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return el(t,r,o,!1,u)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var Gd;function cm(){if(Gd)return cu.exports;Gd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cu.exports=um(),cu.exports}var Ud;function hm(){if(Ud)return nl;Ud=1;var i=cm();return nl.createRoot=i.createRoot,nl.hydrateRoot=i.hydrateRoot,nl}var dm=hm();const fm=ec(dm);var ke=tc();const pm="modulepreload",mm=function(i){return"/"+i},Hd={},_l=function(e,n,s){let l=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=c(n.map(m=>{if(m=mm(m),m in Hd)return;Hd[m]=!0;const g=m.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":pm,g||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((v,k)=>{_.addEventListener("load",v),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return l.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var Ne=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(Ne||{});const Fu=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},rl=(i,e)=>Fu(i).priority??e,sn={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Fu).forEach(e=>{e.type.forEach(n=>{var s,l;return(l=(s=this._removeHandlers)[n])==null?void 0:l.call(s,e)})}),this},add(...i){return i.map(Fu).forEach(e=>{e.type.forEach(n=>{var a,c;const s=this._addHandlers,l=this._queue;s[n]?(c=s[n])==null||c.call(s,e):(l[n]=l[n]||[],(a=l[n])==null||a.push(e))})}),this},handle(i,e,n){var c;const s=this._addHandlers,l=this._removeHandlers;if(s[i]||l[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=e,l[i]=n;const a=this._queue;return a[i]&&((c=a[i])==null||c.forEach(h=>e(h)),delete a[i]),this},handleByMap(i,e){return this.handle(i,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(i,e,n=-1){return this.handle(i,s=>{e.findIndex(a=>a.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((a,c)=>rl(c.value,n)-rl(a.value,n)))},s=>{const l=e.findIndex(a=>a.name===s.name);l!==-1&&e.splice(l,1)})},handleByList(i,e,n=-1){return this.handle(i,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((l,a)=>rl(a,n)-rl(l,n)))},s=>{const l=e.indexOf(s.ref);l!==-1&&e.splice(l,1)})},mixin(i,...e){for(const n of e)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(n))}},gm={extension:{type:Ne.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await _l(()=>import("./browserAll-DHp42Hoq.js"),__vite__mapDeps([0,1,2,3]))}},ym={extension:{type:Ne.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await _l(()=>import("./webworkerAll-BVXFUs1V.js"),__vite__mapDeps([1,2,3]))}};class Mt{constructor(e,n,s){this._x=n||0,this._y=s||0,this._observer=e}clone(e){return new Mt(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var fu={exports:{}},Vd;function xm(){return Vd||(Vd=1,(function(i){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function l(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function a(f,m,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new l(g,x||f,_),k=n?n+m:m;return f._events[k]?f._events[k].fn?f._events[k]=[f._events[k],v]:f._events[k].push(v):(f._events[k]=v,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)e.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,v=x.length,k=new Array(v);_<v;_++)k[_]=x[_].fn;return k},h.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},h.prototype.emit=function(m,g,x,_,v,k){var P=n?n+m:m;if(!this._events[P])return!1;var w=this._events[P],A=arguments.length,R,z;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,x),!0;case 4:return w.fn.call(w.context,g,x,_),!0;case 5:return w.fn.call(w.context,g,x,_,v),!0;case 6:return w.fn.call(w.context,g,x,_,v,k),!0}for(z=1,R=new Array(A-1);z<A;z++)R[z-1]=arguments[z];w.fn.apply(w.context,R)}else{var j=w.length,X;for(z=0;z<j;z++)switch(w[z].once&&this.removeListener(m,w[z].fn,void 0,!0),A){case 1:w[z].fn.call(w[z].context);break;case 2:w[z].fn.call(w[z].context,g);break;case 3:w[z].fn.call(w[z].context,g,x);break;case 4:w[z].fn.call(w[z].context,g,x,_);break;default:if(!R)for(X=1,R=new Array(A-1);X<A;X++)R[X-1]=arguments[X];w[z].fn.apply(w[z].context,R)}}return!0},h.prototype.on=function(m,g,x){return a(this,m,g,x,!1)},h.prototype.once=function(m,g,x){return a(this,m,g,x,!0)},h.prototype.removeListener=function(m,g,x,_){var v=n?n+m:m;if(!this._events[v])return this;if(!g)return c(this,v),this;var k=this._events[v];if(k.fn)k.fn===g&&(!_||k.once)&&(!x||k.context===x)&&c(this,v);else{for(var P=0,w=[],A=k.length;P<A;P++)(k[P].fn!==g||_&&!k[P].once||x&&k[P].context!==x)&&w.push(k[P]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,i.exports=h})(fu)),fu.exports}var vm=xm();const Gn=ec(vm),_m=Math.PI*2,wm=180/Math.PI,Sm=Math.PI/180;class Et{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Et(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return pu.x=0,pu.y=0,pu}}const pu=new Et;class Ee{constructor(e=1,n=0,s=0,l=1,a=0,c=0){this.array=null,this.a=e,this.b=n,this.c=s,this.d=l,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,s,l,a,c){return this.a=e,this.b=n,this.c=s,this.d=l,this.tx=a,this.ty=c,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const s=n||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,n){n=n||new Et;const s=e.x,l=e.y;return n.x=this.a*s+this.c*l+this.tx,n.y=this.b*s+this.d*l+this.ty,n}applyInverse(e,n){n=n||new Et;const s=this.a,l=this.b,a=this.c,c=this.d,h=this.tx,f=this.ty,m=1/(s*c+a*-l),g=e.x,x=e.y;return n.x=c*m*g+-a*m*x+(f*a-h*c)*m,n.y=s*m*x+-l*m*g+(-f*s+h*l)*m,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),s=Math.sin(e),l=this.a,a=this.c,c=this.tx;return this.a=l*n-this.b*s,this.b=l*s+this.b*n,this.c=a*n-this.d*s,this.d=a*s+this.d*n,this.tx=c*n-this.ty*s,this.ty=c*s+this.ty*n,this}append(e){const n=this.a,s=this.b,l=this.c,a=this.d;return this.a=e.a*n+e.b*l,this.b=e.a*s+e.b*a,this.c=e.c*n+e.d*l,this.d=e.c*s+e.d*a,this.tx=e.tx*n+e.ty*l+this.tx,this.ty=e.tx*s+e.ty*a+this.ty,this}appendFrom(e,n){const s=e.a,l=e.b,a=e.c,c=e.d,h=e.tx,f=e.ty,m=n.a,g=n.b,x=n.c,_=n.d;return this.a=s*m+l*x,this.b=s*g+l*_,this.c=a*m+c*x,this.d=a*g+c*_,this.tx=h*m+f*x+n.tx,this.ty=h*g+f*_+n.ty,this}setTransform(e,n,s,l,a,c,h,f,m){return this.a=Math.cos(h+m)*a,this.b=Math.sin(h+m)*a,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=e-(s*this.a+l*this.c),this.ty=n-(s*this.b+l*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,l=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=l*e.a+this.d*e.c,this.d=l*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,s=this.b,l=this.c,a=this.d,c=e.pivot,h=-Math.atan2(-l,a),f=Math.atan2(s,n),m=Math.abs(h+f);return m<1e-5||Math.abs(_m-m)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(n*n+s*s),e.scale.y=Math.sqrt(l*l+a*a),e.position.x=this.tx+(c.x*n+c.y*l),e.position.y=this.ty+(c.x*s+c.y*a),e}invert(){const e=this.a,n=this.b,s=this.c,l=this.d,a=this.tx,c=e*l-n*s;return this.a=l/c,this.b=-n/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-l*a)/c,this.ty=-(e*this.ty-n*a)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ee;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return km.identity()}static get shared(){return Cm.identity()}}const Cm=new Ee,km=new Ee,Br=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$r=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Or=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Nu=[],s0=[],il=Math.sign;function bm(){for(let i=0;i<16;i++){const e=[];Nu.push(e);for(let n=0;n<16;n++){const s=il(Br[i]*Br[n]+Or[i]*$r[n]),l=il($r[i]*Br[n]+Gr[i]*$r[n]),a=il(Br[i]*Or[n]+Or[i]*Gr[n]),c=il($r[i]*Or[n]+Gr[i]*Gr[n]);for(let h=0;h<16;h++)if(Br[h]===s&&$r[h]===l&&Or[h]===a&&Gr[h]===c){e.push(h);break}}}for(let i=0;i<16;i++){const e=new Ee;e.set(Br[i],$r[i],Or[i],Gr[i],0,0),s0.push(e)}}bm();const He={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Br[i],uY:i=>$r[i],vX:i=>Or[i],vY:i=>Gr[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Nu[i][e],sub:(i,e)=>Nu[i][He.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?He.S:He.N:Math.abs(e)*2<=Math.abs(i)?i>0?He.E:He.W:e>0?i>0?He.SE:He.SW:i>0?He.NE:He.NW,matrixAppendRotationInv:(i,e,n=0,s=0)=>{const l=s0[He.inv(e)];l.tx=n,l.ty=s,i.append(l)},transformRectCoords:(i,e,n,s)=>{const{x:l,y:a,width:c,height:h}=i,{x:f,y:m,width:g,height:x}=e;return n===He.E?(s.set(l+f,a+m,c,h),s):n===He.S?s.set(g-a-h+f,l+m,h,c):n===He.W?s.set(g-l-c+f,x-a-h+m,c,h):n===He.N?s.set(a+f,x-l-c+m,h,c):s.set(l+f,a+m,c,h)}},sl=[new Et,new Et,new Et,new Et];class _t{constructor(e=0,n=0,s=0,l=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(s),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new _t(0,0,0,0)}clone(){return new _t(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,s,l=.5){const{width:a,height:c}=this;if(a<=0||c<=0)return!1;const h=this.x,f=this.y,m=s*(1-l),g=s-m,x=h-m,_=h+a+m,v=f-m,k=f+c+m,P=h+g,w=h+a-g,A=f+g,R=f+c-g;return e>=x&&e<=_&&n>=v&&n<=k&&!(e>P&&e<w&&n>A&&n<R)}intersects(e,n){if(!n){const ce=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=ce)return!1;const K=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>K}const s=this.left,l=this.right,a=this.top,c=this.bottom;if(l<=s||c<=a)return!1;const h=sl[0].set(e.left,e.top),f=sl[1].set(e.left,e.bottom),m=sl[2].set(e.right,e.top),g=sl[3].set(e.right,e.bottom);if(m.x<=h.x||f.y<=h.y)return!1;const x=Math.sign(n.a*n.d-n.b*n.c);if(x===0||(n.apply(h,h),n.apply(f,f),n.apply(m,m),n.apply(g,g),Math.max(h.x,f.x,m.x,g.x)<=s||Math.min(h.x,f.x,m.x,g.x)>=l||Math.max(h.y,f.y,m.y,g.y)<=a||Math.min(h.y,f.y,m.y,g.y)>=c))return!1;const _=x*(f.y-h.y),v=x*(h.x-f.x),k=_*s+v*a,P=_*l+v*a,w=_*s+v*c,A=_*l+v*c;if(Math.max(k,P,w,A)<=_*h.x+v*h.y||Math.min(k,P,w,A)>=_*g.x+v*g.y)return!1;const R=x*(h.y-m.y),z=x*(m.x-h.x),j=R*s+z*a,X=R*l+z*a,B=R*s+z*c,$=R*l+z*c;return!(Math.max(j,X,B,$)<=R*h.x+z*h.y||Math.min(j,X,B,$)>=R*g.x+z*g.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),l=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(s-n,0),this.y=l,this.height=Math.max(a-l,0),this}ceil(e=1,n=.001){const s=Math.ceil((this.x+this.width-n)*e)/e,l=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=s-this.x,this.height=l-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),l=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=s-n,this.y=l,this.height=a-l,this}getBounds(e){return e||(e=new _t),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,s=e.y,l=e.x+e.width,a=e.y+e.height;return n>=this.x&&n<this.x+this.width&&s>=this.y&&s<this.y+this.height&&l>=this.x&&l<this.x+this.width&&a>=this.y&&a<this.y+this.height}set(e,n,s,l){return this.x=e,this.y=n,this.width=s,this.height=l,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const mu={default:-1};function lt(i="default"){return mu[i]===void 0&&(mu[i]=-1),++mu[i]}const Wd=new Set,dt="8.0.0",Pm="8.3.4",Ti={quiet:!1,noColor:!1},Oe=(i,e,n=3)=>{if(Ti.quiet||Wd.has(e))return;let s=new Error().stack;const l=`${e}
Deprecated since v${i}`,a=typeof console.groupCollapsed=="function"&&!Ti.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",l):(s=s.split(`
`).splice(n).join(`
`),a?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",l),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",l),console.warn(s))),Wd.add(e)};Object.defineProperties(Oe,{quiet:{get:()=>Ti.quiet,set:i=>{Ti.quiet=i},enumerable:!0,configurable:!1},noColor:{get:()=>Ti.noColor,set:i=>{Ti.noColor=i},enumerable:!0,configurable:!1}});const o0=()=>{};function Yd(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Xd(i){return!(i&i-1)&&!!i}function l0(i){const e={};for(const n in i)i[n]!==void 0&&(e[n]=i[n]);return e}const qd=Object.create(null);function Tm(i){const e=qd[i];return e===void 0&&(qd[i]=lt("resource")),e}const a0=class u0 extends Gn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...u0.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Oe(dt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Tm(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};a0.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let c0=a0;const h0=class d0 extends Gn{constructor(e={}){super(),this.options=e,this.uid=lt("textureSource"),this._resourceType="textureSource",this._resourceId=lt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...d0.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new c0(l0(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var n,s;this.style!==e&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=e,(s=this._style)==null||s.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=lt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,s){s||(s=this._resolution),e||(e=this.width),n||(n=this.height);const l=Math.round(e*s),a=Math.round(n*s);return this.width=l/s,this.height=a/s,this._resolution=s,this.pixelWidth===l&&this.pixelHeight===a?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=a,this.emit("resize",this),this._resourceId=lt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Xd(this.pixelWidth)&&Xd(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};h0.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let yn=h0;class nc extends yn{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(n instanceof Float32Array?s="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?s="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?s="rgba16uint":(n instanceof Int8Array,s="bgra8unorm")),super({...e,resource:n,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}nc.extension=Ne.TextureSource;const Qd=new Ee;class Mm{constructor(e,n){this.mapCoord=new Ee,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var n;this.texture!==e&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const s=this.mapCoord;for(let l=0;l<e.length;l+=2){const a=e[l],c=e[l+1];n[l]=a*s.a+c*s.c+s.tx,n[l+1]=a*s.b+c*s.d+s.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=e.orig,l=e.trim;l&&(Qd.set(s.width/l.width,0,0,s.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(Qd));const a=e.source,c=this.uClampFrame,h=this.clampMargin/a._resolution,f=this.clampOffset/a._resolution;return c[0]=(e.frame.x+h+f)/a.width,c[1]=(e.frame.y+h+f)/a.height,c[2]=(e.frame.x+e.frame.width-h+f)/a.width,c[3]=(e.frame.y+e.frame.height-h+f)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=e.frame.width===a.width&&e.frame.height===a.height&&e.rotate===0,!0}}class Ge extends Gn{constructor({source:e,label:n,frame:s,orig:l,trim:a,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:m}={}){if(super(),this.uid=lt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new _t,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(e==null?void 0:e.source)??new yn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=l||this.frame,this.trim=a,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Mm(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:s,height:l}=this._source,a=n.x/s,c=n.y/l,h=n.width/s,f=n.height/l;let m=this.rotate;if(m){const g=h/2,x=f/2,_=a+g,v=c+x;m=He.add(m,He.NW),e.x0=_+g*He.uX(m),e.y0=v+x*He.uY(m),m=He.add(m,2),e.x1=_+g*He.uX(m),e.y1=v+x*He.uY(m),m=He.add(m,2),e.x2=_+g*He.uX(m),e.y2=v+x*He.uY(m),m=He.add(m,2),e.x3=_+g*He.uX(m),e.y3=v+x*He.uY(m)}else e.x0=a,e.y0=c,e.x1=a+h,e.y1=c,e.x2=a+h,e.y2=c+f,e.x3=a,e.y3=c+f}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Oe(dt,"Texture.baseTexture is now Texture.source"),this._source}}Ge.EMPTY=new Ge({label:"EMPTY",source:new yn({label:"EMPTY"})});Ge.EMPTY.destroy=o0;Ge.WHITE=new Ge({source:new nc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ge.WHITE.destroy=o0;function Em(i,e,n){const{width:s,height:l}=n.orig,a=n.trim;if(a){const c=a.width,h=a.height;i.minX=a.x-e._x*s,i.maxX=i.minX+c,i.minY=a.y-e._y*l,i.maxY=i.minY+h}else i.minX=-e._x*s,i.maxX=i.minX+s,i.minY=-e._y*l,i.maxY=i.minY+l}const Kd=new Ee;class gn{constructor(e=1/0,n=1/0,s=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Kd,this.minX=e,this.minY=n,this.maxX=s,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new _t);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Kd,this}set(e,n,s,l){this.minX=e,this.minY=n,this.maxX=s,this.maxY=l}addFrame(e,n,s,l,a){a||(a=this.matrix);const c=a.a,h=a.b,f=a.c,m=a.d,g=a.tx,x=a.ty;let _=this.minX,v=this.minY,k=this.maxX,P=this.maxY,w=c*e+f*n+g,A=h*e+m*n+x;w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*s+f*n+g,A=h*s+m*n+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*e+f*l+g,A=h*e+m*l+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*s+f*l+g,A=h*s+m*l+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),this.minX=_,this.minY=v,this.maxX=k,this.maxY=P}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,s=this.minY,l=this.maxX,a=this.maxY,{a:c,b:h,c:f,d:m,tx:g,ty:x}=e;let _=c*n+f*s+g,v=h*n+m*s+x;this.minX=_,this.minY=v,this.maxX=_,this.maxY=v,_=c*l+f*s+g,v=h*l+m*s+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*n+f*a+g,v=h*n+m*a+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*l+f*a+g,v=h*l+m*a+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,s,l){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<s&&(this.minY=s),this.maxY>l&&(this.maxY=l),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new gn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,s,l){let a=this.minX,c=this.minY,h=this.maxX,f=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,x=l.c,_=l.d,v=l.tx,k=l.ty;for(let P=n;P<s;P+=2){const w=e[P],A=e[P+1],R=m*w+x*A+v,z=g*w+_*A+k;a=R<a?R:a,c=z<c?z:c,h=R>h?R:h,f=z>f?z:f}this.minX=a,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Am={grad:.9,turn:360,rad:360/(2*Math.PI)},Nn=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},vt=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*i)/n+0},tn=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),i>n?n:i>e?i:e},f0=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},Zd=function(i){return{r:tn(i.r,0,255),g:tn(i.g,0,255),b:tn(i.b,0,255),a:tn(i.a)}},gu=function(i){return{r:vt(i.r),g:vt(i.g),b:vt(i.b),a:vt(i.a,3)}},Rm=/^#([0-9a-f]{3,8})$/i,ol=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},p0=function(i){var e=i.r,n=i.g,s=i.b,l=i.a,a=Math.max(e,n,s),c=a-Math.min(e,n,s),h=c?a===e?(n-s)/c:a===n?2+(s-e)/c:4+(e-n)/c:0;return{h:60*(h<0?h+6:h),s:a?c/a*100:0,v:a/255*100,a:l}},m0=function(i){var e=i.h,n=i.s,s=i.v,l=i.a;e=e/360*6,n/=100,s/=100;var a=Math.floor(e),c=s*(1-n),h=s*(1-(e-a)*n),f=s*(1-(1-e+a)*n),m=a%6;return{r:255*[s,h,c,c,f,s][m],g:255*[f,s,s,h,c,c][m],b:255*[c,c,f,s,s,h][m],a:l}},Jd=function(i){return{h:f0(i.h),s:tn(i.s,0,100),l:tn(i.l,0,100),a:tn(i.a)}},ef=function(i){return{h:vt(i.h),s:vt(i.s),l:vt(i.l),a:vt(i.a,3)}},tf=function(i){return m0((n=(e=i).s,{h:e.h,s:(n*=((s=e.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:e.a}));var e,n,s},Ls=function(i){return{h:(e=p0(i)).h,s:(l=(200-(n=e.s))*(s=e.v)/100)>0&&l<200?n*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:e.a};var e,n,s,l},Im=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zm=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dm=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lm=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bu={string:[[function(i){var e=Rm.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?vt(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?vt(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=Dm.exec(i)||Lm.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:Zd({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=Im.exec(i)||zm.exec(i);if(!e)return null;var n,s,l=Jd({h:(n=e[1],s=e[2],s===void 0&&(s="deg"),Number(n)*(Am[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return tf(l)},"hsl"]],object:[[function(i){var e=i.r,n=i.g,s=i.b,l=i.a,a=l===void 0?1:l;return Nn(e)&&Nn(n)&&Nn(s)?Zd({r:Number(e),g:Number(n),b:Number(s),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,n=i.s,s=i.l,l=i.a,a=l===void 0?1:l;if(!Nn(e)||!Nn(n)||!Nn(s))return null;var c=Jd({h:Number(e),s:Number(n),l:Number(s),a:Number(a)});return tf(c)},"hsl"],[function(i){var e=i.h,n=i.s,s=i.v,l=i.a,a=l===void 0?1:l;if(!Nn(e)||!Nn(n)||!Nn(s))return null;var c=(function(h){return{h:f0(h.h),s:tn(h.s,0,100),v:tn(h.v,0,100),a:tn(h.a)}})({h:Number(e),s:Number(n),v:Number(s),a:Number(a)});return m0(c)},"hsv"]]},nf=function(i,e){for(var n=0;n<e.length;n++){var s=e[n][0](i);if(s)return[s,e[n][1]]}return[null,void 0]},jm=function(i){return typeof i=="string"?nf(i.trim(),Bu.string):typeof i=="object"&&i!==null?nf(i,Bu.object):[null,void 0]},yu=function(i,e){var n=Ls(i);return{h:n.h,s:tn(n.s+100*e,0,100),l:n.l,a:n.a}},xu=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},rf=function(i,e){var n=Ls(i);return{h:n.h,s:n.s,l:tn(n.l+100*e,0,100),a:n.a}},$u=(function(){function i(e){this.parsed=jm(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return vt(xu(this.rgba),2)},i.prototype.isDark=function(){return xu(this.rgba)<.5},i.prototype.isLight=function(){return xu(this.rgba)>=.5},i.prototype.toHex=function(){return e=gu(this.rgba),n=e.r,s=e.g,l=e.b,c=(a=e.a)<1?ol(vt(255*a)):"","#"+ol(n)+ol(s)+ol(l)+c;var e,n,s,l,a,c},i.prototype.toRgb=function(){return gu(this.rgba)},i.prototype.toRgbString=function(){return e=gu(this.rgba),n=e.r,s=e.g,l=e.b,(a=e.a)<1?"rgba("+n+", "+s+", "+l+", "+a+")":"rgb("+n+", "+s+", "+l+")";var e,n,s,l,a},i.prototype.toHsl=function(){return ef(Ls(this.rgba))},i.prototype.toHslString=function(){return e=ef(Ls(this.rgba)),n=e.h,s=e.s,l=e.l,(a=e.a)<1?"hsla("+n+", "+s+"%, "+l+"%, "+a+")":"hsl("+n+", "+s+"%, "+l+"%)";var e,n,s,l,a},i.prototype.toHsv=function(){return e=p0(this.rgba),{h:vt(e.h),s:vt(e.s),v:vt(e.v),a:vt(e.a,3)};var e},i.prototype.invert=function(){return bn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),bn(yu(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),bn(yu(this.rgba,-e))},i.prototype.grayscale=function(){return bn(yu(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),bn(rf(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),bn(rf(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?bn({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):vt(this.rgba.a,3);var n},i.prototype.hue=function(e){var n=Ls(this.rgba);return typeof e=="number"?bn({h:e,s:n.s,l:n.l,a:n.a}):vt(n.h)},i.prototype.isEqual=function(e){return this.toHex()===bn(e).toHex()},i})(),bn=function(i){return i instanceof $u?i:new $u(i)},sf=[],Fm=function(i){i.forEach(function(e){sf.indexOf(e)<0&&(e($u,Bu),sf.push(e))})};function Nm(i,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in n)s[n[l]]=l;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,m=s[this.toHex()];if(m)return m;if(c!=null&&c.closest){var g=this.toRgb(),x=1/0,_="black";if(!a.length)for(var v in n)a[v]=new i(n[v]).toRgb();for(var k in n){var P=(h=g,f=a[k],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));P<x&&(x=P,_=k)}return _}},e.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":n[h];return f?new i(f).toRgb():null},"name"])}Fm([Nm]);const Mi=class As{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof As)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const s=typeof e;if(s!==typeof n)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((a,c)=>a===n[c]);if(e!==null&&n!==null){const a=Object.keys(e),c=Object.keys(n);return a.length!==c.length?!1:a.every(h=>e[h]===n[h])}return e===n}toRgba(){const[e,n,s,l]=this._components;return{r:e,g:n,b:s,a:l}}toRgb(){const[e,n,s]=this._components;return{r:e,g:n,b:s}}toRgbaString(){const[e,n,s]=this.toUint8RgbArray();return`rgba(${e},${n},${s},${this.alpha})`}toUint8RgbArray(e){const[n,s,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(s*255),e[2]=Math.round(l*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,s,l,a]=this._components;return e[0]=n,e[1]=s,e[2]=l,e[3]=a,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,s,l]=this._components;return e[0]=n,e[1]=s,e[2]=l,e}toNumber(){return this._int}toBgrNumber(){const[e,n,s]=this.toUint8RgbArray();return(s<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,s,l,a]=As._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=s,this._components[2]*=l,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,a=this._int&255;return n&&(s=s*e+.5|0,l=l*e+.5|0,a=a*e+.5|0),(e*255<<24)+(s<<16)+(l<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,s,l,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;n=(c>>16&255)/255,s=(c>>8&255)/255,l=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,s,l,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,s,l,a=255]=e,n/=255,s/=255,l/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=As.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=bn(e);c.isValid()&&({r:n,g:s,b:l,a}=c.rgba,n/=255,s/=255,l/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=s,this._components[2]=l,this._components[3]=a,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,s]=this._components;this._int=(e*255<<16)+(n*255<<8)+(s*255|0)}_clamp(e,n=0,s=1){return typeof e=="number"?Math.min(Math.max(e,n),s):(e.forEach((l,a)=>{e[a]=Math.min(Math.max(l,n),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof As||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Mi.shared=new Mi;Mi._temp=new Mi;Mi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let nn=Mi;const Bm={cullArea:null,cullable:!1,cullableChildren:!0};let vu=0;const of=500;function Yt(...i){vu!==of&&(vu++,vu===of?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}const Cl={_registeredResources:new Set,register(i){this._registeredResources.add(i)},unregister(i){this._registeredResources.delete(i)},release(){this._registeredResources.forEach(i=>i.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(i){return this._registeredResources.has(i)},reset(){this._registeredResources.clear()}};class $m{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var s;let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),(s=n.init)==null||s.call(n,e),n}return(e){var n;(n=e.reset)==null||n.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Om{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new $m(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const s=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[s]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const rn=new Om;Cl.register(rn);const Gm={get isCachedAsTexture(){var i;return!!((i=this.renderGroup)!=null&&i.isCachedAsTexture)},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){var i;(i=this.renderGroup)==null||i.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){Oe("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function Um(i,e,n){const s=i.length;let l;if(e>=s||n===0)return;n=e+n>s?s-e:n;const a=s-n;for(l=e;l<a;++l)i[l]=i[l+n];i.length=a}const Hm={allowChildren:!0,removeChildren(i=0,e){var a;const n=e??this.children.length,s=n-i,l=[];if(s>0&&s<=n){for(let h=n-1;h>=i;h--){const f=this.children[h];f&&(l.push(f),f.parent=null)}Um(this.children,i,n);const c=this.renderGroup||this.parentRenderGroup;c&&c.removeChildren(l);for(let h=0;h<l.length;++h){const f=l[h];(a=f.parentRenderLayer)==null||a.detach(f),this.emit("childRemoved",f,this,h),l[h].emit("removed",this)}return l.length>0&&this._didViewChangeTick++,l}else if(s===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const e=this.getChildAt(i);return this.removeChild(e)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,e)},getChildIndex(i){const e=this.children.indexOf(i);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(i,e){this.allowChildren||Oe(dt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${i}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(i.parent){const l=i.parent.children.indexOf(i);if(i.parent===this&&l===e)return i;l!==-1&&i.parent.children.splice(l,1)}e===n.length?n.push(i):n.splice(e,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,e),i.emit("added",this),i},swapChildren(i,e){if(i===e)return;const n=this.getChildIndex(i),s=this.getChildIndex(e);this.children[n]=e,this.children[s]=i;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var i;(i=this.parent)==null||i.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(e=>this.reparentChildAt(e,this.children.length)),i[0])},reparentChildAt(i,e){if(i.parent===this)return this.setChildIndex(i,e),i;const n=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,e);const s=this.worldTransform.clone();return s.invert(),n.prepend(s),i.setFromMatrix(n),i},replaceChild(i,e){i.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(i)),e.setFromMatrix(i.localTransform),e.updateLocalTransform(),this.removeChild(i)}},Vm={collectRenderables(i,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,e,n))},collectRenderablesSimple(i,e,n){const s=this.children,l=s.length;for(let a=0;a<l;a++)s[a].collectRenderables(i,e,n)},collectRenderablesWithEffects(i,e,n){const{renderPipes:s}=e;for(let l=0;l<this.effects.length;l++){const a=this.effects[l];s[a.pipe].push(a,this,i)}this.collectRenderablesSimple(i,e,n);for(let l=this.effects.length-1;l>=0;l--){const a=this.effects[l];s[a.pipe].pop(a,this,i)}}};class lf{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Wm{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const s=this._tests[n];if(s.test(e))return rn.get(s.maskClass,e)}return e}returnMaskEffect(e){rn.return(e)}}const Ou=new Wm;sn.handleByList(Ne.MaskEffect,Ou._effectClasses);const Ym={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((n,s)=>n.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const e=this.effects.indexOf(i);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const e=this._maskEffect;(e==null?void 0:e.mask)!==i&&(e&&(this.removeEffect(e),Ou.returnMaskEffect(e),this._maskEffect=null),i!=null&&(this._maskEffect=Ou.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){var i;return(i=this._maskEffect)==null?void 0:i.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){var a;!Array.isArray(i)&&i&&(i=[i]);const e=this._filterEffect||(this._filterEffect=new lf);i=i;const n=(i==null?void 0:i.length)>0,s=((a=e.filters)==null?void 0:a.length)>0,l=n!==s;i=Array.isArray(i)?i.slice(0):i,e.filters=Object.freeze(i),l&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=i??null))},get filters(){var i;return(i=this._filterEffect)==null?void 0:i.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new lf),this._filterEffect.filterArea=i},get filterArea(){var i;return(i=this._filterEffect)==null?void 0:i.filterArea}},Xm={label:null,get name(){return Oe(dt,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){Oe(dt,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,e=!1){return this.getChildByLabel(i,e)},getChildByLabel(i,e=!1){const n=this.children;for(let s=0;s<n.length;s++){const l=n[s];if(l.label===i||i instanceof RegExp&&i.test(l.label))return l}if(e)for(let s=0;s<n.length;s++){const a=n[s].getChildByLabel(i,!0);if(a)return a}return null},getChildrenByLabel(i,e=!1,n=[]){const s=this.children;for(let l=0;l<s.length;l++){const a=s[l];(a.label===i||i instanceof RegExp&&i.test(a.label))&&n.push(a)}if(e)for(let l=0;l<s.length;l++)s[l].getChildrenByLabel(i,!0,n);return n}},zt=rn.getPool(Ee),$n=rn.getPool(gn),qm=new Ee,Qm={getFastGlobalBounds(i,e){e||(e=new gn),e.clear(),this._getGlobalBoundsRecursive(!!i,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(i,e,n){let s=e;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(s=$n.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const a=this.children;for(let c=0;c<a.length;c++)a[c]._getGlobalBoundsRecursive(i,s,n)}if(l){let a=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(a||(a=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));a&&s.applyMatrix(c.worldTransform.copyTo(qm).invert()),e.addBounds(s),$n.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),$n.return(s))}};function g0(i,e,n){n.clear();let s,l;return i.parent?e?s=i.parent.worldTransform:(l=zt.get().identity(),s=rc(i,l)):s=Ee.IDENTITY,y0(i,n,s,e),l&&zt.return(l),n.isValid||n.set(0,0,0,0),n}function y0(i,e,n,s){var h,f;if(!i.visible||!i.measurable)return;let l;s?l=i.worldTransform:(i.updateLocalTransform(),l=zt.get(),l.appendFrom(i.localTransform,n));const a=e,c=!!i.effects.length;if(c&&(e=$n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,l);else{const m=i.bounds;m&&!m.isEmpty()&&(e.matrix=l,e.addBounds(m));for(let g=0;g<i.children.length;g++)y0(i.children[g],e,l,s)}if(c){for(let m=0;m<i.effects.length;m++)(f=(h=i.effects[m]).addBounds)==null||f.call(h,e);a.addBounds(e,Ee.IDENTITY),$n.return(e)}s||zt.return(l)}function rc(i,e){const n=i.parent;return n&&(rc(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function x0(i,e){if(i===16777215||!e)return e;if(e===16777215||!i)return i;const n=i>>16&255,s=i>>8&255,l=i&255,a=e>>16&255,c=e>>8&255,h=e&255,f=n*a/255|0,m=s*c/255|0,g=l*h/255|0;return(f<<16)+(m<<8)+g}const af=16777215;function uf(i,e){return i===af?e:e===af?i:x0(i,e)}function yl(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const Km={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(i=new Ee,e){if(e)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const n=rc(this,zt.get().identity());return i.appendFrom(this.localTransform,n),zt.return(n),i},getGlobalTint(i){if(i)return this.renderGroup?yl(this.renderGroup.worldColor):this.parentRenderGroup?yl(uf(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=uf(e,n.localColor),n=n.parent;return yl(e)}};function v0(i,e,n){return e.clear(),n||(n=Ee.IDENTITY),_0(i,e,n,i,!0),e.isValid||e.set(0,0,0,0),e}function _0(i,e,n,s,l){var f,m;let a;if(l)a=zt.get(),a=n.copyTo(a);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const g=i.localTransform;a=zt.get(),a.appendFrom(g,n)}const c=e,h=!!i.effects.length;if(h&&(e=$n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,a);else{i.renderPipeId&&(e.matrix=a,e.addBounds(i.bounds));const g=i.children;for(let x=0;x<g.length;x++)_0(g[x],e,a,s,!1)}if(h){for(let g=0;g<i.effects.length;g++)(m=(f=i.effects[g]).addLocalBounds)==null||m.call(f,e,s);c.addBounds(e,Ee.IDENTITY),$n.return(e)}zt.return(a)}function w0(i,e){const n=i.children;for(let s=0;s<n.length;s++){const l=n[s],a=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,h=e.index;(e.data[h]!==a||e.data[h+1]!==c)&&(e.data[e.index]=a,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,l.children.length&&w0(l,e)}return e.didChange}const Zm=new Ee,Jm={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=i/e*n:this.scale.x=n},_setHeight(i,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=i/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new gn});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),w0(this,i),i.didChange&&v0(this,i.localBounds,Zm),i.localBounds},getBounds(i,e){return g0(this,i,e||new gn)}},e2={_onRender:null,set onRender(i){const e=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},t2={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(n2))}};function n2(i,e){return i._zIndex-e._zIndex}const r2={getGlobalPosition(i=new Et,e=!1){return this.parent?this.parent.toGlobal(this._position,i,e):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,e,n=!1){const s=this.getGlobalTransform(zt.get(),n);return e=s.apply(i,e),zt.return(s),e},toLocal(i,e,n,s){e&&(i=e.toGlobal(i,n,s));const l=this.getGlobalTransform(zt.get(),s);return n=l.applyInverse(i,n),zt.return(l),n}};class S0{constructor(){this.uid=lt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let i2=0;class s2{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new c0(this.textureOptions)}createTexture(e,n,s){const l=new yn({...this.textureOptions,width:e,height:n,resolution:1,antialias:s,autoGarbageCollect:!1});return new Ge({source:l,label:`texturePool_${i2++}`})}getOptimalTexture(e,n,s=1,l){let a=Math.ceil(e*s-1e-6),c=Math.ceil(n*s-1e-6);a=Yd(a),c=Yd(c);const h=(a<<17)+(c<<1)+(l?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(a,c,l)),f.source._resolution=s,f.source.width=a/s,f.source.height=c/s,f.source.pixelWidth=a,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=n,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,n=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,n)}returnTexture(e,n=!1){const s=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const s=this._texturePool[n];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this._texturePool={}}}const C0=new s2;Cl.register(C0);class o2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ee,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new S0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let s=0;s<n.length;s++){const l=n[s];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(C0.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let s=0;s<n.length;s++)this.addChild(n[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let s=0;s<n.length;s++)this.removeChild(n[s])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const s=e.children;for(let l=0;l<s.length;l++)this._getChildren(s[l],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ee),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ee),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ee),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function l2(i,e,n={}){for(const s in e)!n[s]&&e[s]!==void 0&&(i[s]=e[s])}const _u=new Mt(null),ll=new Mt(null),wu=new Mt(null,1,1),al=new Mt(null),cf=1,a2=2,Su=4;class mn extends Gn{constructor(e={}){var n,s;super(),this.uid=lt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Ee,this.relativeGroupTransform=new Ee,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Mt(this,0,0),this._scale=wu,this._pivot=ll,this._origin=al,this._skew=_u,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],l2(this,e,{children:!0,parent:!0,effects:!0}),(n=e.children)==null||n.forEach(l=>this.addChild(l)),(s=e.parent)==null||s.addChild(this)}static mixin(e){Oe("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),sn.mixin(mn,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Oe(dt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let l=0;l<e.length;l++)this.addChild(e[l]);return e[0]}const n=e[0],s=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),s&&(s.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,s&&s.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let l=0;l<e.length;l++)this.removeChild(e[l]);return e[0]}const n=e[0],s=this.children.indexOf(n);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,s),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=rn.get(o2,this),this.groupTransform=Ee.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),rn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ee),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*wm}set angle(e){this.rotation=e*Sm}get pivot(){return this._pivot===ll&&(this._pivot=new Mt(this,0,0)),this._pivot}set pivot(e){this._pivot===ll&&(this._pivot=new Mt(this,0,0),this._origin!==al&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===_u&&(this._skew=new Mt(this,0,0)),this._skew}set skew(e){this._skew===_u&&(this._skew=new Mt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===wu&&(this._scale=new Mt(this,1,1)),this._scale}set scale(e){this._scale===wu&&(this._scale=new Mt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===al&&(this._origin=new Mt(this,0,0)),this._origin}set origin(e){this._origin===al&&(this._origin=new Mt(this,0,0),this._pivot!==ll&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const s=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,s.width),n!==void 0&&this._setHeight(n,s.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,s=this._scale,l=this._pivot,a=this._origin,c=this._position,h=s._x,f=s._y,m=l._x,g=l._y,x=-a._x,_=-a._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=c._x-(m*n.a+g*n.c)+(x*n.a+_*n.c)-x,n.ty=c._y-(m*n.b+g*n.d)+(x*n.b+_*n.d)-_}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=cf,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=nn.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=cf,this._onUpdate())}get tint(){return yl(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=a2,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Su,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Su,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Su,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var l;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&n)for(let a=0;a<n.length;++a)n[a].destroy(e);(l=this.renderGroup)==null||l.destroy(),this.renderGroup=null}}sn.mixin(mn,Hm,Qm,r2,e2,Jm,Ym,Xm,t2,Bm,Gm,Km,Vm);class k0 extends mn{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new gn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:s,y:l}=e;return s>=n.minX&&s<=n.maxX&&l>=n.minY&&l<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var n,s;super.destroy(e),this._bounds=null;for(const l in this._gpuData)(s=(n=this._gpuData[l]).destroy)==null||s.call(n);this._gpuData=null}collectRenderablesSimple(e,n,s){const{renderPipes:l}=n;l.blendMode.pushBlendMode(this,this.groupBlendMode,e),l[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(e,n,s);l.blendMode.popBlendMode(e)}}class Ei extends k0{constructor(e=Ge.EMPTY){e instanceof Ge&&(e={texture:e});const{texture:n=Ge.EMPTY,anchor:s,roundPixels:l,width:a,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Mt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=l??!1,a!==void 0&&(this.width=a),c!==void 0&&(this.height=c)}static from(e,n=!1){return e instanceof Ge?new Ei(e):new Ei(Ge.from(e,n))}set texture(e){e||(e=Ge.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Em(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Oe("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,s=this._bounds,{width:l,height:a}=n.orig;s.minX=-e._x*l,s.maxX=s.minX+l,s.minY=-e._y*a,s.maxY=s.minY+a}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const u2=new gn;function b0(i,e,n){const s=u2;i.measurable=!0,g0(i,n,s),e.addBoundsMask(s),i.measurable=!1}function P0(i,e,n){const s=$n.get();i.measurable=!0;const l=zt.get().identity(),a=T0(i,n,l);v0(i,s,a),i.measurable=!1,e.addBoundsMask(s),zt.return(l),$n.return(s)}function T0(i,e,n){return i?(i!==e&&(T0(i.parent,e,n),i.updateLocalTransform(),n.append(i.localTransform)),n):(Yt("Mask bounds, renderable is not inside the root container"),n)}class M0{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Ei),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,n){this.inverse||b0(this.mask,e,n)}addLocalBounds(e,n){P0(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof Ei}}M0.extension=Ne.MaskEffect;class E0{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}E0.extension=Ne.MaskEffect;class A0{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,n){b0(this.mask,e,n)}addLocalBounds(e,n){P0(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof mn}}A0.extension=Ne.MaskEffect;const c2={createCanvas:(i,e)=>{const n=document.createElement("canvas");return n.width=i,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let hf=c2;const gr={get(){return hf},set(i){hf=i}};class R0 extends yn{constructor(e){e.resource||(e.resource=gr.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,s=this._resolution){const l=super.resize(e,n,s);return l&&this.resizeCanvas(),l}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}R0.extension=Ne.TextureSource;class wl extends yn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}wl.extension=Ne.TextureSource;var Gu=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Gu||{});class Cu{constructor(e,n=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=s,this._once=l}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const I0=class Wt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cu(null,null,1/0),this.deltaMS=1/Wt.targetFPMS,this.elapsedMS=1/Wt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,s=Gu.NORMAL){return this._addListener(new Cu(e,n,s))}addOnce(e,n,s=Gu.NORMAL){return this._addListener(new Cu(e,n,s,!0))}_addListener(e){let n=this._head.next,s=this._head;if(!n)e.connect(s);else{for(;n;){if(e.priority>n.priority){e.connect(s);break}s=n,n=n.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,n){let s=this._head.next;for(;s;)s.match(e,n)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Wt.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,n)/1e3,Wt.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Wt._shared){const e=Wt._shared=new Wt;e.autoStart=!0,e._protected=!0}return Wt._shared}static get system(){if(!Wt._system){const e=Wt._system=new Wt;e.autoStart=!0,e._protected=!0}return Wt._system}};I0.targetFPMS=.06;let ul=I0,ku;async function h2(){return ku??(ku=(async()=>{var c;const e=gr.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(h=>{const f=document.createElement("video");f.onloadeddata=()=>h(f),f.onerror=()=>h(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!n)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const l=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(l),e.deleteTexture(s),(c=e.getExtension("WEBGL_lose_context"))==null||c.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ku}const kl=class z0 extends yn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...z0.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=ul.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await h2(),this._load=new Promise((s,l)=>{this.isValid?s(this):(this._resolve=s,this._reject=l,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ul.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ul.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ul.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};kl.extension=Ne.TextureSource;kl.defaultOptions={...yn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};kl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let d2=kl;const ki=(i,e,n=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(s=>typeof s=="string"||n?e(s):s):i);class f2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||Yt(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const s=ki(e);let l;for(let f=0;f<this.parsers.length;f++){const m=this.parsers[f];if(m.test(n)){l=m.getCacheableAssets(s,n);break}}const a=new Map(Object.entries(l||{}));l||s.forEach(f=>{a.set(f,n)});const c=[...a.keys()],h={cacheKeys:c,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const m=l?l[f]:n;this._cache.has(f)&&this._cache.get(f)!==m&&Yt("[Cache] already has key:",f),this._cache.set(f,a.get(f))})}remove(e){if(!this._cacheMap.has(e)){Yt(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(l=>{this._cache.delete(l)}),n.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const bi=new f2,Uu=[];sn.handleByList(Ne.TextureSource,Uu);function D0(i={}){const e=i&&i.resource,n=e?i.resource:i,s=e?i:{resource:i};for(let l=0;l<Uu.length;l++){const a=Uu[l];if(a.test(n))return new a(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function p2(i={},e=!1){const n=i&&i.resource,s=n?i.resource:i,l=n?i:{resource:i};if(!e&&bi.has(s))return bi.get(s);const a=new Ge({source:D0(l)});return a.on("destroy",()=>{bi.has(s)&&bi.remove(s)}),e||bi.set(s,a),a}function m2(i,e=!1){return typeof i=="string"?bi.get(i):i instanceof yn?new Ge({source:i}):p2(i,e)}Ge.from=m2;yn.from=D0;sn.add(M0,E0,A0,d2,wl,R0,nc);var L0=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(L0||{});function pn(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Ss(i){return i.split("?")[0].split("#")[0]}function g2(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y2(i,e,n){return i.replace(new RegExp(g2(e),"g"),n)}function x2(i,e){let n="",s=0,l=-1,a=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(l===h-1||a===1))if(l!==h-1&&a===2){if(n.length<2||s!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",s=0):(n=n.slice(0,f),s=n.length-1-n.lastIndexOf("/")),l=h,a=0;continue}}else if(n.length===2||n.length===1){n="",s=0,l=h,a=0;continue}}}else n.length>0?n+=`/${i.slice(l+1,h)}`:n=i.slice(l+1,h),s=h-l-1;l=h,a=0}else c===46&&a!==-1?++a:a=-1}return n}const Bs={toPosix(i){return y2(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){pn(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(i);return n?n[0]:""},toAbsolute(i,e,n){if(pn(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Ss(this.toPosix(e??gr.get().getBaseUrl())),l=Ss(this.toPosix(n??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?Bs.join(l,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(pn(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const n=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const s=i.endsWith("/");return i=x2(i),i.length>0&&s&&(i+="/"),n?`/${i}`:e+i},isAbsolute(i){return pn(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let n=0;n<i.length;++n){const s=i[n];if(pn(s),s.length>0)if(e===void 0)e=s;else{const l=i[n-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(pn(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const n=e===47;let s=-1,l=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let h=i.length-1;h>=1;--h)if(e=i.charCodeAt(h),e===47){if(!l){s=h;break}}else l=!1;return s===-1?n?"/":this.isUrl(c)?a+i:a:n&&s===1?"//":a+i.slice(0,s)},rootname(i){pn(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const n=i.indexOf("/",e.length);n!==-1?e=i.slice(0,n):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){pn(i),e&&pn(e),i=Ss(this.toPosix(i));let n=0,s=-1,l=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,h=-1;for(a=i.length-1;a>=0;--a){const f=i.charCodeAt(a);if(f===47){if(!l){n=a+1;break}}else h===-1&&(l=!1,h=a+1),c>=0&&(f===e.charCodeAt(c)?--c===-1&&(s=a):(c=-1,s=h))}return n===s?s=h:s===-1&&(s=i.length),i.slice(n,s)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!l){n=a+1;break}}else s===-1&&(l=!1,s=a+1);return s===-1?"":i.slice(n,s)},extname(i){pn(i),i=Ss(this.toPosix(i));let e=-1,n=0,s=-1,l=!0,a=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!l){n=c+1;break}continue}s===-1&&(l=!1,s=c+1),h===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||s===-1||a===0||a===1&&e===s-1&&e===n+1?"":i.slice(e,s)},parse(i){pn(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=Ss(this.toPosix(i));let n=i.charCodeAt(0);const s=this.isAbsolute(i);let l;e.root=this.rootname(i),s||this.hasProtocol(i)?l=1:l=0;let a=-1,c=0,h=-1,f=!0,m=i.length-1,g=0;for(;m>=l;--m){if(n=i.charCodeAt(m),n===47){if(!f){c=m+1;break}continue}h===-1&&(f=!1,h=m+1),n===46?a===-1?a=m:g!==1&&(g=1):a!==-1&&(g=-1)}return a===-1||h===-1||g===0||g===1&&a===h-1&&a===c+1?h!==-1&&(c===0&&s?e.base=e.name=i.slice(1,h):e.base=e.name=i.slice(c,h)):(c===0&&s?(e.name=i.slice(1,a),e.base=i.slice(1,h)):(e.name=i.slice(c,a),e.base=i.slice(c,h)),e.ext=i.slice(a,h)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function j0(i,e,n,s,l){const a=e[n];for(let c=0;c<a.length;c++){const h=a[c];n<e.length-1?j0(i.replace(s[n],h),e,n+1,s,l):l.push(i.replace(s[n],h))}}function v2(i){const e=/\{(.*?)\}/g,n=i.match(e),s=[];if(n){const l=[];n.forEach(a=>{const c=a.substring(1,a.length-1).split(",");l.push(c)}),j0(i,l,0,n,s)}else s.push(i);return s}const df=i=>!Array.isArray(i);class F0{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(n[s])}`).join("&")}}getAlias(e){const{alias:n,src:s}=e;return ki(n||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(c=>(c==null?void 0:c.src)??c):a!=null&&a.src?a.src:a,!0)}addManifest(e){this._manifest&&Yt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const s=[];let l=n;Array.isArray(n)||(l=Object.entries(n).map(([a,c])=>typeof c=="string"||Array.isArray(c)?{alias:a,src:c}:{alias:a,...c})),l.forEach(a=>{const c=a.src,h=a.alias;let f;if(typeof h=="string"){const m=this._createBundleAssetId(e,h);s.push(m),f=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(e,g));s.push(...m),f=[...h,...m]}this.add({...a,alias:f,src:c})}),this._bundles[e]=s}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let s;s=a=>{this.hasKey(a)&&Yt(`[Resolver] already has key: ${a} overwriting`)},ki(n).forEach(a=>{const{src:c}=a;let{data:h,format:f,loadParser:m,parser:g}=a;const x=ki(c).map(P=>typeof P=="string"?v2(P):Array.isArray(P)?P:[P]),_=this.getAlias(a);Array.isArray(_)?_.forEach(s):s(_);const v=[],k=P=>{const w=this._parsers.find(A=>A.test(P));return{...w==null?void 0:w.parse(P),src:P}};x.forEach(P=>{P.forEach(w=>{let A={};if(typeof w!="object"?A=k(w):(h=w.data??h,f=w.format??f,(w.loadParser||w.parser)&&(m=w.loadParser??m,g=w.parser??g),A={...k(w.src),...w}),!_)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:_,data:h,format:f,loadParser:m,parser:g,progressSize:a.progressSize}),v.push(A)})}),_.forEach(P=>{this._assetMap[P]=v})})}resolveBundle(e){const n=df(e);e=ki(e);const s={};return e.forEach(l=>{const a=this._bundles[l];if(a){const c=this.resolve(a),h={};for(const f in c){const m=c[f];h[this._extractAssetIdFromBundle(l,f)]=m}s[l]=h}}),n?s[e[0]]:s}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const s={};for(const l in n)s[l]=n[l].src;return s}return n.src}resolve(e){const n=df(e);e=ki(e);const s={};return e.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let a=this._assetMap[l];const c=this._getPreferredOrder(a);c==null||c.priority.forEach(h=>{c.params[h].forEach(f=>{const m=a.filter(g=>g[h]?g[h]===f:!1);m.length&&(a=m)})}),this._resolverHash[l]=a[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),n?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const s=e[n],l=this._preferredOrder.find(a=>a.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:s,data:l,loadParser:a,parser:c,format:h,progressSize:f}=n;return(this._basePath||this._rootPath)&&(e.src=Bs.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...l||{},...e.data},e.loadParser=a??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??_2(e.src),f!==void 0&&(e.progressSize=f),e}}F0.RETINA_PREFIX=/@([0-9\.]+)x/;function _2(i){return i.split(".").pop().split("?").shift().split("#").shift()}const ff=(i,e)=>{const n=e.split("?")[1];return n&&(i+=`?${n}`),i},N0=class Rs{constructor(e,n){this.linkedSheets=[];let s=e;(e==null?void 0:e.source)instanceof yn&&(s={texture:e,data:n});const{texture:l,data:a,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=l instanceof Ge?l:null,this.textureSource=l.source,this.textures={},this.animations={},this.data=a;const h=parseFloat(a.meta.scale);h?(this.resolution=h,l.source.resolution=this.resolution):this.resolution=l.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Rs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const s=Rs.BATCH_SIZE;for(;n-e<s&&n<this._frameKeys.length;){const l=this._frameKeys[n],a=this._frames[l],c=a.frame;if(c){let h=null,f=null;const m=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,g=new _t(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);a.rotated?h=new _t(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new _t(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new _t(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new Ge({source:this.textureSource,frame:h,orig:g,trim:f,rotate:a.rotated?2:0,defaultAnchor:a.anchor,defaultBorders:a.borders,label:l.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let s=0;s<e[n].length;s++){const l=e[n][s];this.animations[n].push(this.textures[l])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Rs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Rs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var n;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};N0.BATCH_SIZE=1e3;let pf=N0;const w2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function B0(i,e,n){const s={};if(i.forEach(l=>{s[l]=e}),Object.keys(e.textures).forEach(l=>{s[`${e.cachePrefix}${l}`]=e.textures[l]}),!n){const l=Bs.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{const h=B0([`${l}/${e.data.meta.related_multi_packs[c]}`],a,!0);Object.assign(s,h)})}return s}const S2={extension:Ne.Asset,cache:{test:i=>i instanceof pf,getCacheableAssets:(i,e)=>B0(i,e,!1)},resolver:{extension:{type:Ne.ResolveParser,name:"resolveSpritesheet"},test:i=>{const n=i.split("?")[0].split("."),s=n.pop(),l=n.pop();return s==="json"&&w2.includes(l)},parse:i=>{var n;const e=i.split(".");return{resolution:parseFloat(((n=F0.RETINA_PREFIX.exec(i))==null?void 0:n[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Ne.LoadParser,priority:L0.Normal,name:"spritesheetLoader"},async testParse(i,e){return Bs.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,n){var x,_;const{texture:s,imageFilename:l,textureOptions:a,cachePrefix:c}=(e==null?void 0:e.data)??{};let h=Bs.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(s instanceof Ge)f=s;else{const v=ff(h+(l??i.meta.image),e.src);f=(await n.load([{src:v,data:a}]))[v]}const m=new pf({texture:f.source,data:i,cachePrefix:c});await m.parse();const g=(x=i==null?void 0:i.meta)==null?void 0:x.related_multi_packs;if(Array.isArray(g)){const v=[];for(const P of g){if(typeof P!="string")continue;let w=h+P;(_=e.data)!=null&&_.ignoreMultiPack||(w=ff(w,e.src),v.push(n.load({src:w,data:{textureOptions:a,ignoreMultiPack:!0}})))}const k=await Promise.all(v);m.linkedSheets=k,k.forEach(P=>{P.linkedSheets=[m].concat(m.linkedSheets.filter(w=>w!==P))})}return m},async unload(i,e,n){await n.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};sn.add(S2);const bu=Object.create(null),mf=Object.create(null);function ic(i,e){let n=mf[i];return n===void 0&&(bu[e]===void 0&&(bu[e]=1),mf[i]=n=bu[e]++),n}let Si;function $0(){return(!Si||Si!=null&&Si.isContextLost())&&(Si=gr.get().createCanvas().getContext("webgl",{})),Si}let cl;function C2(){if(!cl){cl="mediump";const i=$0();i&&i.getShaderPrecisionFormat&&(cl=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return cl}function k2(i,e,n){return e?i:n?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function b2(i,e,n){const s=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let l=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return l==="highp"&&s!=="highp"&&(l="mediump"),`precision ${l} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function P2(i,e){return e?`#version 300 es
${i}`:i}const T2={},M2={};function E2(i,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const s=n?T2:M2;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${e}`}
${i}`}function A2(i,e){return e?i.replace("#version 300 es",""):i}const Pu={stripVersion:A2,ensurePrecision:b2,addProgramDefines:k2,setProgramName:E2,insertVersion:P2},Cs=Object.create(null),O0=class Hu{constructor(e){e={...Hu.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:C2()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let l=e.fragment,a=e.vertex;Object.keys(Pu).forEach(c=>{const h=s[c];l=Pu[c](l,h,!0),a=Pu[c](a,h,!1)}),this.fragment=l,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=ic(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Cs[this._cacheKey]=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return Cs[n]||(Cs[n]=new Hu(e),Cs[n]._cacheKey=n),Cs[n]}};O0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let G0=O0;const gf={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function R2(i){return gf[i]??gf.float32}const I2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function z2({source:i,entryPoint:e}){const n={},s=i.indexOf(`fn ${e}`);if(s!==-1){const l=i.indexOf("->",s);if(l!==-1){const a=i.substring(s,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(a))!==null;){const f=I2[h[3]]??"float32";n[h[2]]={location:parseInt(h[1],10),format:f,stride:R2(f).stride,offset:0,instance:!1,start:0}}}}return n}function Tu(i){var x,_;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,m=(x=i.match(e))==null?void 0:x.map(v=>({group:parseInt(v.match(n)[1],10),binding:parseInt(v.match(s)[1],10),name:v.match(l)[2],isUniform:v.match(l)[1]==="<uniform>",type:v.match(a)[1]}));if(!m)return{groups:[],structs:[]};const g=((_=i.match(c))==null?void 0:_.map(v=>{const k=v.match(f)[1],P=v.match(h).reduce((w,A)=>{const[R,z]=A.split(":");return w[R.trim()]=z.trim(),w},{});return P?{name:k,members:P}:null}).filter(({name:v})=>m.some(k=>k.type===v)))??[];return{groups:m,structs:g}}var Is=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Is||{});function D2({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:Is.VERTEX|Is.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:Is.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:Is.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function L2({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function j2(i,e){const n=new Set,s=new Set,l=[...i.structs,...e.structs].filter(c=>n.has(c.name)?!1:(n.add(c.name),!0)),a=[...i.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:l,groups:a}}const ks=Object.create(null);class bl{constructor(e){var h,f;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:s,layout:l,gpuLayout:a,name:c}=e;if(this.name=c,this.fragment=n,this.vertex=s,n.source===s.source){const m=Tu(n.source);this.structsAndGroups=m}else{const m=Tu(s.source),g=Tu(n.source);this.structsAndGroups=j2(m,g)}this.layout=l??L2(this.structsAndGroups),this.gpuLayout=a??D2(this.structsAndGroups),this.autoAssignGlobalUniforms=((h=this.layout[0])==null?void 0:h.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((f=this.layout[1])==null?void 0:f.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,s=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=ic(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=z2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,ks[this._cacheKey]=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return ks[n]||(ks[n]=new bl(e),ks[n]._cacheKey=n),ks[n]}}const U0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],F2=U0.reduce((i,e)=>(i[e]=!0,i),{});function N2(i,e){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const H0=class V0{constructor(e,n){this._touched=0,this.uid=lt("uniform"),this._resourceType="uniformGroup",this._resourceId=lt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...V0.defaultOptions,...n},this.uniformStructures=e;const s={};for(const l in e){const a=e[l];if(a.name=l,a.size=a.size??1,!F2[a.type]){const c=a.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,f]=c;throw new Error(`Uniform type ${a.type} is not supported. Use type: '${h}', size: ${f} instead.`)}throw new Error(`Uniform type ${a.type} is not supported. Supported uniform types are: ${U0.join(", ")}`)}a.value??(a.value=N2(a.type,a.size)),s[l]=a.value}this.uniforms=s,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=ic(Object.keys(s).map(l=>`${l}-${e[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};H0.defaultOptions={ubo:!1,isStatic:!1};let W0=H0;class xl{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const s in e){const l=e[s];this.setResource(l,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const s in this.resources)e[n++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,n){var l,a;const s=this.resources[n];e!==s&&(s&&((l=e.off)==null||l.call(e,"change",this.onResourceChange,this)),(a=e.on)==null||a.call(e,"change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const s in n)n[s]._touched=e}destroy(){var n;const e=this.resources;for(const s in e){const l=e[s];(n=l==null?void 0:l.off)==null||n.call(l,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const s in n)n[s]===e&&(n[s]=null)}else this._updateKey()}}var Vu=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(Vu||{});class sc extends Gn{constructor(e){super(),this.uid=lt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:s,groups:l,resources:a,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=n,this.glProgram=s,c===void 0&&(c=0,n&&(c|=Vu.WEBGPU),s&&(c|=Vu.WEBGL)),this.compatibleRenderers=c;const f={};if(!a&&!l&&(a={}),a&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&l&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&l&&h)for(const m in h)for(const g in h[m]){const x=h[m][g];f[x]={group:m,binding:g,name:x}}else if(n&&l&&!h){const m=n.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g})}else if(a){l={},h={},n&&n.structsAndGroups.groups.forEach(x=>{h[x.group]=h[x.group]||{},h[x.group][x.binding]=x.name,f[x.name]=x});let m=0;for(const g in a)f[g]||(l[99]||(l[99]=new xl,this._ownedBindGroups.push(l[99])),f[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in a){const x=g;let _=a[g];!_.source&&!_._resourceType&&(_=new W0(_));const v=f[x];v&&(l[v.group]||(l[v.group]=new xl,this._ownedBindGroups.push(l[v.group])),l[v.group].setResource(_,v.binding))}}this.groups=l,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(l,f)}addResource(e,n,s){var l,a;(l=this._uniformBindMap)[n]||(l[n]={}),(a=this._uniformBindMap[n])[s]||(a[s]=e),this.groups[n]||(this.groups[n]=new xl,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const s={};for(const l in n){const a=n[l];Object.defineProperty(s,a.name,{get(){return e[a.group].getResource(a.binding)},set(c){e[a.group].setResource(c,a.binding)}})}return s}destroy(e=!1){var n,s;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&((n=this.gpuProgram)==null||n.destroy(),(s=this.glProgram)==null||s.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(l=>{l.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:n,gl:s,...l}=e;let a,c;return n&&(a=bl.from(n)),s&&(c=G0.from(s)),new sc({gpuProgram:a,glProgram:c,...l})}}const Wu=[];sn.handleByNamedList(Ne.Environment,Wu);async function B2(i){if(!i)for(let e=0;e<Wu.length;e++){const n=Wu[e];if(n.value.test()){await n.value.load();return}}}let bs;function $2(){if(typeof bs=="boolean")return bs;try{bs=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{bs=!1}return bs}function yf(i,e,n=2){const s=e&&e.length,l=s?e[0]*n:i.length;let a=Y0(i,0,l,n,!0);const c=[];if(!a||a.next===a.prev)return c;let h,f,m;if(s&&(a=V2(i,e,a,n)),i.length>80*n){h=i[0],f=i[1];let g=h,x=f;for(let _=n;_<l;_+=n){const v=i[_],k=i[_+1];v<h&&(h=v),k<f&&(f=k),v>g&&(g=v),k>x&&(x=k)}m=Math.max(g-h,x-f),m=m!==0?32767/m:0}return $s(a,c,n,h,f,m,0),c}function Y0(i,e,n,s,l){let a;if(l===ng(i,e,n,s)>0)for(let c=e;c<n;c+=s)a=xf(c/s|0,i[c],i[c+1],a);else for(let c=n-s;c>=e;c-=s)a=xf(c/s|0,i[c],i[c+1],a);return a&&Ai(a,a.next)&&(Gs(a),a=a.next),a}function Ur(i,e){if(!i)return i;e||(e=i);let n=i,s;do if(s=!1,!n.steiner&&(Ai(n,n.next)||tt(n.prev,n,n.next)===0)){if(Gs(n),n=e=n.prev,n===n.next)break;s=!0}else n=n.next;while(s||n!==e);return e}function $s(i,e,n,s,l,a,c){if(!i)return;!c&&a&&Q2(i,s,l,a);let h=i;for(;i.prev!==i.next;){const f=i.prev,m=i.next;if(a?G2(i,s,l,a):O2(i)){e.push(f.i,i.i,m.i),Gs(i),i=m.next,h=m.next;continue}if(i=m,i===h){c?c===1?(i=U2(Ur(i),e),$s(i,e,n,s,l,a,2)):c===2&&H2(i,e,n,s,l,a):$s(Ur(i),e,n,s,l,a,1);break}}}function O2(i){const e=i.prev,n=i,s=i.next;if(tt(e,n,s)>=0)return!1;const l=e.x,a=n.x,c=s.x,h=e.y,f=n.y,m=s.y,g=Math.min(l,a,c),x=Math.min(h,f,m),_=Math.max(l,a,c),v=Math.max(h,f,m);let k=s.next;for(;k!==e;){if(k.x>=g&&k.x<=_&&k.y>=x&&k.y<=v&&zs(l,h,a,f,c,m,k.x,k.y)&&tt(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function G2(i,e,n,s){const l=i.prev,a=i,c=i.next;if(tt(l,a,c)>=0)return!1;const h=l.x,f=a.x,m=c.x,g=l.y,x=a.y,_=c.y,v=Math.min(h,f,m),k=Math.min(g,x,_),P=Math.max(h,f,m),w=Math.max(g,x,_),A=Yu(v,k,e,n,s),R=Yu(P,w,e,n,s);let z=i.prevZ,j=i.nextZ;for(;z&&z.z>=A&&j&&j.z<=R;){if(z.x>=v&&z.x<=P&&z.y>=k&&z.y<=w&&z!==l&&z!==c&&zs(h,g,f,x,m,_,z.x,z.y)&&tt(z.prev,z,z.next)>=0||(z=z.prevZ,j.x>=v&&j.x<=P&&j.y>=k&&j.y<=w&&j!==l&&j!==c&&zs(h,g,f,x,m,_,j.x,j.y)&&tt(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;z&&z.z>=A;){if(z.x>=v&&z.x<=P&&z.y>=k&&z.y<=w&&z!==l&&z!==c&&zs(h,g,f,x,m,_,z.x,z.y)&&tt(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;j&&j.z<=R;){if(j.x>=v&&j.x<=P&&j.y>=k&&j.y<=w&&j!==l&&j!==c&&zs(h,g,f,x,m,_,j.x,j.y)&&tt(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function U2(i,e){let n=i;do{const s=n.prev,l=n.next.next;!Ai(s,l)&&q0(s,n,n.next,l)&&Os(s,l)&&Os(l,s)&&(e.push(s.i,n.i,l.i),Gs(n),Gs(n.next),n=i=l),n=n.next}while(n!==i);return Ur(n)}function H2(i,e,n,s,l,a){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&J2(c,h)){let f=Q0(c,h);c=Ur(c,c.next),f=Ur(f,f.next),$s(c,e,n,s,l,a,0),$s(f,e,n,s,l,a,0);return}h=h.next}c=c.next}while(c!==i)}function V2(i,e,n,s){const l=[];for(let a=0,c=e.length;a<c;a++){const h=e[a]*s,f=a<c-1?e[a+1]*s:i.length,m=Y0(i,h,f,s,!1);m===m.next&&(m.steiner=!0),l.push(Z2(m))}l.sort(W2);for(let a=0;a<l.length;a++)n=Y2(l[a],n);return n}function W2(i,e){let n=i.x-e.x;if(n===0&&(n=i.y-e.y,n===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),l=(e.next.y-e.y)/(e.next.x-e.x);n=s-l}return n}function Y2(i,e){const n=X2(i,e);if(!n)return e;const s=Q0(n,i);return Ur(s,s.next),Ur(n,n.next)}function X2(i,e){let n=e;const s=i.x,l=i.y;let a=-1/0,c;if(Ai(i,n))return n;do{if(Ai(i,n.next))return n.next;if(l<=n.y&&l>=n.next.y&&n.next.y!==n.y){const x=n.x+(l-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(x<=s&&x>a&&(a=x,c=n.x<n.next.x?n:n.next,x===s))return c}n=n.next}while(n!==e);if(!c)return null;const h=c,f=c.x,m=c.y;let g=1/0;n=c;do{if(s>=n.x&&n.x>=f&&s!==n.x&&X0(l<m?s:a,l,f,m,l<m?a:s,l,n.x,n.y)){const x=Math.abs(l-n.y)/(s-n.x);Os(n,i)&&(x<g||x===g&&(n.x>c.x||n.x===c.x&&q2(c,n)))&&(c=n,g=x)}n=n.next}while(n!==h);return c}function q2(i,e){return tt(i.prev,i,e.prev)<0&&tt(e.next,i,i.next)<0}function Q2(i,e,n,s){let l=i;do l.z===0&&(l.z=Yu(l.x,l.y,e,n,s)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==i);l.prevZ.nextZ=null,l.prevZ=null,K2(l)}function K2(i){let e,n=1;do{let s=i,l;i=null;let a=null;for(e=0;s;){e++;let c=s,h=0;for(let m=0;m<n&&(h++,c=c.nextZ,!!c);m++);let f=n;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||s.z<=c.z)?(l=s,s=s.nextZ,h--):(l=c,c=c.nextZ,f--),a?a.nextZ=l:i=l,l.prevZ=a,a=l;s=c}a.nextZ=null,n*=2}while(e>1);return i}function Yu(i,e,n,s,l){return i=(i-n)*l|0,e=(e-s)*l|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function Z2(i){let e=i,n=i;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==i);return n}function X0(i,e,n,s,l,a,c,h){return(l-c)*(e-h)>=(i-c)*(a-h)&&(i-c)*(s-h)>=(n-c)*(e-h)&&(n-c)*(a-h)>=(l-c)*(s-h)}function zs(i,e,n,s,l,a,c,h){return!(i===c&&e===h)&&X0(i,e,n,s,l,a,c,h)}function J2(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!eg(i,e)&&(Os(i,e)&&Os(e,i)&&tg(i,e)&&(tt(i.prev,i,e.prev)||tt(i,e.prev,e))||Ai(i,e)&&tt(i.prev,i,i.next)>0&&tt(e.prev,e,e.next)>0)}function tt(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function Ai(i,e){return i.x===e.x&&i.y===e.y}function q0(i,e,n,s){const l=dl(tt(i,e,n)),a=dl(tt(i,e,s)),c=dl(tt(n,s,i)),h=dl(tt(n,s,e));return!!(l!==a&&c!==h||l===0&&hl(i,n,e)||a===0&&hl(i,s,e)||c===0&&hl(n,i,s)||h===0&&hl(n,e,s))}function hl(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function dl(i){return i>0?1:i<0?-1:0}function eg(i,e){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==e.i&&n.next.i!==e.i&&q0(n,n.next,i,e))return!0;n=n.next}while(n!==i);return!1}function Os(i,e){return tt(i.prev,i,i.next)<0?tt(i,e,i.next)>=0&&tt(i,i.prev,e)>=0:tt(i,e,i.prev)<0||tt(i,i.next,e)<0}function tg(i,e){let n=i,s=!1;const l=(i.x+e.x)/2,a=(i.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&l<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next;while(n!==i);return s}function Q0(i,e){const n=Xu(i.i,i.x,i.y),s=Xu(e.i,e.x,e.y),l=i.next,a=e.prev;return i.next=e,e.prev=i,n.next=l,l.prev=n,s.next=n,n.prev=s,a.next=s,s.prev=a,s}function xf(i,e,n,s){const l=Xu(i,e,n);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function Gs(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Xu(i,e,n){return{i,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function ng(i,e,n,s){let l=0;for(let a=e,c=n-s;a<n;a+=s)l+=(i[c]-i[a])*(i[a+1]+i[c+1]),c=a;return l}const rg=yf.default||yf;var K0=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(K0||{});class ig{constructor(e){this.items=[],this._name=e}emit(e,n,s,l,a,c,h,f){const{name:m,items:g}=this;for(let x=0,_=g.length;x<_;x++)g[x][m](e,n,s,l,a,c,h,f);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const sg=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Z0=class J0 extends Gn{constructor(e){super(),this.uid=lt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...sg,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await B2(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...J0.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,n){let s=e;if(s instanceof mn&&(s={container:s},n&&(Oe(dt,"passing a second argument is deprecated, please use render options instead"),s.target=n.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const l=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=l?s.clearColor:nn.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,n,s){const l=this.view.resolution;this.view.resize(e,n,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==l&&this.runners.resolutionChange.emit(s)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=K0.ALL);const{clear:s,clearColor:l,target:a}=e;nn.shared.setValue(l??this.background.colorRgba),n.renderTarget.clear(a,s,nn.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new ig(n)})}_addSystems(e){let n;for(n in e){const s=e[n];this._addSystem(s.value,s.name)}}_addSystem(e,n){const s=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=s,this._systemsHash[n]=s;for(const l in this.runners)this.runners[l].add(s);return this}_addPipes(e,n){const s=n.reduce((l,a)=>(l[a.name]=a.value,l),{});e.forEach(l=>{const a=l.value,c=l.name,h=s[c];this.renderPipes[c]=new a(this,h?new h:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&Cl.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!$2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Z0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let e1=Z0,fl;function og(i){return fl!==void 0||(fl=(()=>{var n;const e={stencil:!0,failIfMajorPerformanceCaveat:i??e1.defaultOptions.failIfMajorPerformanceCaveat};try{if(!gr.get().getWebGLRenderingContext())return!1;let l=gr.get().createCanvas().getContext("webgl",e);const a=!!((n=l==null?void 0:l.getContextAttributes())!=null&&n.stencil);if(l){const c=l.getExtension("WEBGL_lose_context");c&&c.loseContext()}return l=null,a}catch{return!1}})()),fl}let pl;async function lg(i={}){return pl!==void 0||(pl=await(async()=>{const e=gr.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),pl}const vf=["webgl","webgpu","canvas"];async function ag(i){let e=[];i.preference?(e.push(i.preference),vf.forEach(a=>{a!==i.preference&&e.push(a)})):e=vf.slice();let n,s={};for(let a=0;a<e.length;a++){const c=e[a];if(c==="webgpu"&&await lg()){const{WebGPURenderer:h}=await _l(async()=>{const{WebGPURenderer:f}=await import("./WebGPURenderer-BSE1gyaD.js");return{WebGPURenderer:f}},__vite__mapDeps([4,2,5,3]));n=h,s={...i,...i.webgpu};break}else if(c==="webgl"&&og(i.failIfMajorPerformanceCaveat??e1.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await _l(async()=>{const{WebGLRenderer:f}=await import("./WebGLRenderer-BbUT2smE.js");return{WebGLRenderer:f}},__vite__mapDeps([6,2,5]));n=h,s={...i,...i.webgl};break}else if(c==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!n)throw new Error("No available renderer for the current environment");const l=new n;return await l.init(s),l}const t1="8.14.3";class n1{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,t1)}static destroy(){}}n1.extension=Ne.Application;class ug{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,t1)}destroy(){this._renderer=null}}ug.extension={type:[Ne.WebGLSystem,Ne.WebGPUSystem],name:"initHook",priority:-10};const r1=class qu{constructor(...e){this.stage=new mn,e[0]!==void 0&&Oe(dt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new mn),this.renderer=await ag(e),qu._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Oe(dt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const s=qu._plugins.slice(0);s.reverse(),s.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};r1._plugins=[];let i1=r1;sn.handleByList(Ne.Application,i1._plugins);sn.add(n1);const _f=[{offset:0,color:"white"},{offset:1,color:"black"}],oc=class Qu{constructor(...e){this.uid=lt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=cg(e);n={...n.type==="radial"?Qu.defaultRadialOptions:Qu.defaultLinearOptions,...l0(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:nn.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:s,y:l}=this.end,a=s-e,c=l-n;const h=a<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(a<0){const w=e;e=s,s=w,a*=-1}if(c<0){const w=n;n=l,l=w,c*=-1}}const f=this.colorStops.length?this.colorStops:_f,m=this._textureSize,{canvas:g,context:x}=Sf(m,1),_=h?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);wf(_,f),x.fillStyle=_,x.fillRect(0,0,m,1),this.texture=new Ge({source:new wl({resource:g,addressMode:this._wrapMode})});const v=Math.sqrt(a*a+c*c),k=Math.atan2(c,a),P=new Ee;P.scale(v/m,1),P.rotate(k),P.translate(e,n),this.textureSpace==="local"&&P.scale(m,m),this.transform=P}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:_f,n=this._textureSize,{canvas:s,context:l}=Sf(n,n),{x:a,y:c}=this.center,{x:h,y:f}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,x=h-g,_=f-g,v=n/(g*2),k=(a-x)*v,P=(c-_)*v,w=l.createRadialGradient(k,P,m*v,(h-x)*v,(f-_)*v,g*v);wf(w,e),l.fillStyle=e[e.length-1].color,l.fillRect(0,0,n,n),l.fillStyle=w,l.translate(k,P),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-k,-P),l.fillRect(0,0,n,n),this.texture=new Ge({source:new wl({resource:s,addressMode:this._wrapMode})});const A=new Ee;A.scale(1/v,1/v),A.translate(x,_),this.textureSpace==="local"&&A.scale(n,n),this.transform=A}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};oc.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};oc.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ws=oc;function wf(i,e){for(let n=0;n<e.length;n++){const s=e[n];i.addColorStop(s.offset,s.color)}}function Sf(i,e){const n=gr.get().createCanvas(i,e),s=n.getContext("2d");return{canvas:n,context:s}}function cg(i){let e=i[0]??{};return(typeof e=="number"||i[1])&&(Oe("8.5.2","use options object instead"),e={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??Ws.defaultLinearOptions.textureSize}),e}const Cf={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class hg{constructor(e,n){this.uid=lt("fillPattern"),this._tick=0,this.transform=new Ee,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=Cf[n].addressModeU,e.source.style.addressModeV=Cf[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Mu,kf;function dg(){if(kf)return Mu;kf=1,Mu=n;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(a){var c=[];return a.replace(e,function(h,f,m){var g=f.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([f].concat(m.splice(0,2))),g="l",f=f=="m"?"l":"L");;){if(m.length==i[g])return m.unshift(f),c.push(m);if(m.length<i[g])throw new Error("malformed path data");c.push([f].concat(m.splice(0,i[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(a){var c=a.match(s);return c?c.map(Number):[]}return Mu}var fg=dg();const pg=ec(fg);function mg(i,e){const n=pg(i),s=[];let l=null,a=0,c=0;for(let h=0;h<n.length;h++){const f=n[h],m=f[0],g=f;switch(m){case"M":a=g[1],c=g[2],e.moveTo(a,c);break;case"m":a+=g[1],c+=g[2],e.moveTo(a,c);break;case"H":a=g[1],e.lineTo(a,c);break;case"h":a+=g[1],e.lineTo(a,c);break;case"V":c=g[1],e.lineTo(a,c);break;case"v":c+=g[1],e.lineTo(a,c);break;case"L":a=g[1],c=g[2],e.lineTo(a,c);break;case"l":a+=g[1],c+=g[2],e.lineTo(a,c);break;case"C":a=g[5],c=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],a,c);break;case"c":e.bezierCurveTo(a+g[1],c+g[2],a+g[3],c+g[4],a+g[5],c+g[6]),a+=g[5],c+=g[6];break;case"S":a=g[3],c=g[4],e.bezierCurveToShort(g[1],g[2],a,c);break;case"s":e.bezierCurveToShort(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"Q":a=g[3],c=g[4],e.quadraticCurveTo(g[1],g[2],a,c);break;case"q":e.quadraticCurveTo(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"T":a=g[1],c=g[2],e.quadraticCurveToShort(a,c);break;case"t":a+=g[1],c+=g[2],e.quadraticCurveToShort(a,c);break;case"A":a=g[6],c=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"a":a+=g[6],c+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"Z":case"z":e.closePath(),s.length>0&&(l=s.pop(),l?(a=l.startX,c=l.startY):(a=0,c=0)),l=null;break;default:Yt(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:a,startY:c},s.push(l))}return e}class lc{constructor(e=0,n=0,s=0){this.type="circle",this.x=e,this.y=n,this.radius=s}clone(){return new lc(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-e,a=this.y-n;return l*=l,a*=a,l+a<=s}strokeContains(e,n,s,l=.5){if(this.radius===0)return!1;const a=this.x-e,c=this.y-n,h=this.radius,f=(1-l)*s,m=Math.sqrt(a*a+c*c);return m<=h+f&&m>h-(s-f)}getBounds(e){return e||(e=new _t),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ac{constructor(e=0,n=0,s=0,l=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=s,this.halfHeight=l}clone(){return new ac(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,l=(n-this.y)/this.halfHeight;return s*=s,l*=l,s+l<=1}strokeContains(e,n,s,l=.5){const{halfWidth:a,halfHeight:c}=this;if(a<=0||c<=0)return!1;const h=s*(1-l),f=s-h,m=a-f,g=c-f,x=a+h,_=c+h,v=e-this.x,k=n-this.y,P=v*v/(m*m)+k*k/(g*g),w=v*v/(x*x)+k*k/(_*_);return P>1&&w<=1}getBounds(e){return e||(e=new _t),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function gg(i,e,n,s,l,a){const c=i-n,h=e-s,f=l-n,m=a-s,g=c*f+h*m,x=f*f+m*m;let _=-1;x!==0&&(_=g/x);let v,k;_<0?(v=n,k=s):_>1?(v=l,k=a):(v=n+_*f,k=s+_*m);const P=i-v,w=e-k;return P*P+w*w}let yg,xg;class js{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const s=[];for(let l=0,a=n.length;l<a;l++)s.push(n[l].x,n[l].y);n=s}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,s=n.length;for(let l=0;l<s;l+=2){const a=n[l],c=n[l+1],h=n[(l+2)%s],f=n[(l+3)%s];e+=(h-a)*(f+c)}return e<0}containsPolygon(e){const n=this.getBounds(yg),s=e.getBounds(xg);if(!n.containsRect(s))return!1;const l=e.points;for(let a=0;a<l.length;a+=2){const c=l[a],h=l[a+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),n=new js(e);return n.closePath=this.closePath,n}contains(e,n){let s=!1;const l=this.points.length/2;for(let a=0,c=l-1;a<l;c=a++){const h=this.points[a*2],f=this.points[a*2+1],m=this.points[c*2],g=this.points[c*2+1];f>n!=g>n&&e<(m-h)*((n-f)/(g-f))+h&&(s=!s)}return s}strokeContains(e,n,s,l=.5){const a=s*s,c=a*(1-l),h=a-c,{points:f}=this,m=f.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const x=f[g],_=f[g+1],v=f[(g+2)%f.length],k=f[(g+3)%f.length],P=gg(e,n,x,_,v,k),w=Math.sign((v-x)*(n-_)-(k-_)*(e-x));if(P<=(w<0?h:c))return!0}return!1}getBounds(e){e||(e=new _t);const n=this.points;let s=1/0,l=-1/0,a=1/0,c=-1/0;for(let h=0,f=n.length;h<f;h+=2){const m=n[h],g=n[h+1];s=m<s?m:s,l=m>l?m:l,a=g<a?g:a,c=g>c?g:c}return e.x=s,e.width=l-s,e.y=a,e.height=c-a,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Oe("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Oe("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ml=(i,e,n,s,l,a,c)=>{const h=i-n,f=e-s,m=Math.sqrt(h*h+f*f);return m>=l-a&&m<=l+c};class uc{constructor(e=0,n=0,s=0,l=0,a=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=s,this.height=l,this.radius=a}getBounds(e){return e||(e=new _t),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new uc(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+s&&n<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let l=e-(this.x+s),a=n-(this.y+s);const c=s*s;if(l*l+a*a<=c||(l=e-(this.x+this.width-s),l*l+a*a<=c)||(a=n-(this.y+this.height-s),l*l+a*a<=c)||(l=e-(this.x+s),l*l+a*a<=c))return!0}return!1}strokeContains(e,n,s,l=.5){const{x:a,y:c,width:h,height:f,radius:m}=this,g=s*(1-l),x=s-g,_=a+m,v=c+m,k=h-m*2,P=f-m*2,w=a+h,A=c+f;return(e>=a-g&&e<=a+x||e>=w-x&&e<=w+g)&&n>=v&&n<=v+P||(n>=c-g&&n<=c+x||n>=A-x&&n<=A+g)&&e>=_&&e<=_+k?!0:e<_&&n<v&&ml(e,n,_,v,m,x,g)||e>w-m&&n<v&&ml(e,n,w-m,v,m,x,g)||e>w-m&&n>A-m&&ml(e,n,w-m,A-m,m,x,g)||e<_&&n>A-m&&ml(e,n,_,A-m,m,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const s1={};function vg(i,e,n){let s=2166136261;for(let l=0;l<e;l++)s^=i[l].uid,s=Math.imul(s,16777619),s>>>=0;return s1[s]||_g(i,e,s,n)}function _g(i,e,n,s){const l={};let a=0;for(let h=0;h<s;h++){const f=h<e?i[h]:Ge.EMPTY.source;l[a++]=f.source,l[a++]=f.style}const c=new xl(l);return s1[n]=c,c}class bf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Pf(i,e){const n=i.byteLength/8|0,s=new Float64Array(i,0,n);new Float64Array(e,0,n).set(s);const a=i.byteLength-n*8;if(a>0){const c=new Uint8Array(i,n*8,a);new Uint8Array(e,n*8,a).set(c)}}const wg={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Sg=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(Sg||{});function Tf(i,e){return e.alphaMode==="no-premultiply-alpha"&&wg[i]||i}const Cg=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function kg(i){let e="";for(let n=0;n<i;++n)n>0&&(e+=`
else `),n<i-1&&(e+=`if(test == ${n}.0){}`);return e}function bg(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=Cg.replace(/%forloop%/gi,kg(i));if(e.shaderSource(n,s),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))i=i/2|0;else break}}finally{e.deleteShader(n)}return i}let Ci=null;function Pg(){var e;if(Ci)return Ci;const i=$0();return Ci=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Ci=bg(Ci,i),(e=i.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Ci}class Tg{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class Mg{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Tg,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Fs=[];let Sl=0;Cl.register({clear:()=>{if(Fs.length>0)for(const i of Fs)i&&i.destroy();Fs.length=0,Sl=0}});function Mf(){return Sl>0?Fs[--Sl]:new Mg}function Ef(i){Fs[Sl++]=i}let Ps=0;const o1=class l1{constructor(e){this.uid=lt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...l1.defaultOptions,...e},e.maxTextures||(Oe("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=Pg());const{maxTextures:n,attributesInitialSize:s,indicesInitialSize:l}=e;this.attributeBuffer=new bf(s*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Ef(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const s=e._batch.textures.ids[n._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let s=Mf(),l=s.textures;l.clear();const a=n[this.elementStart];let c=Tf(a.blendMode,a.texture._source),h=a.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,_=this._batchIndexStart,v="startBatch";const k=this.maxTextures;for(let P=this.elementStart;P<this.elementSize;++P){const w=n[P];n[P]=null;const R=w.texture._source,z=Tf(w.blendMode,R),j=c!==z||h!==w.topology;if(R._batchTick===Ps&&!j){w._textureId=R._textureBindLocation,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}R._batchTick=Ps,(l.count>=k||j)&&(this._finishBatch(s,_,x-_,l,c,h,e,v),v="renderBatch",_=x,c=z,h=w.topology,s=Mf(),l=s.textures,l.clear(),++Ps),w._textureId=R._textureBindLocation=l.count,l.ids[R.uid]=l.count,l.textures[l.count++]=R,w._batch=s,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(s,_,x-_,l,c,h,e,v),_=x,++Ps),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=x}_finishBatch(e,n,s,l,a,c,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=l,e.blendMode=a,e.topology=c,e.start=n,e.size=s,++Ps,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),s=new bf(n);Pf(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const n=this.indexBuffer;let s=Math.max(e,n.length*1.5);s+=s%2;const l=s>65535?new Uint32Array(s):new Uint16Array(s);if(l.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let a=0;a<n.length;a++)l[a]=n[a];else Pf(n.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(e,n,s){e[n]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3}packIndex(e,n,s,l){const a=e.indices,c=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let m=0;m<c;m++)n[s++]=l+a[m+h]-f}destroy(e={}){var n;if(this.batches!==null){for(let s=0;s<this.batches.length;s++)Ef(this.batches[s]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&((n=this.shader)==null||n.destroy(),this.shader=null);for(let s=0;s<this._elements.length;s++)this._elements[s]&&(this._elements[s]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};o1.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Eg=o1;var $t=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))($t||{});class Us extends Gn{constructor(e){let{data:n,size:s}=e;const{usage:l,label:a,shrinkToFit:c}=e;super(),this.uid=lt("buffer"),this._resourceType="buffer",this._resourceId=lt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,s??(s=n==null?void 0:n.byteLength);const h=!!n;this.descriptor={size:s,usage:l,mappedAtCreation:h,label:a},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&$t.STATIC)}set static(e){e?this.descriptor.usage|=$t.STATIC:this.descriptor.usage&=~$t.STATIC}setDataWithSize(e,n,s){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const l=this._data;if(this._data=e,this._dataInt32=null,!l||l.length!==e.length){!this.shrinkToFit&&l&&e.byteLength<l.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=lt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function a1(i,e){if(!(i instanceof Us)){let n=e?$t.INDEX:$t.VERTEX;i instanceof Array&&(e?(i=new Uint32Array(i),n=$t.INDEX|$t.COPY_DST):(i=new Float32Array(i),n=$t.VERTEX|$t.COPY_DST)),i=new Us({data:i,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return i}function Ag(i,e,n){const s=i.getAttribute(e);if(!s)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const l=s.buffer.data;let a=1/0,c=1/0,h=-1/0,f=-1/0;const m=l.BYTES_PER_ELEMENT,g=(s.offset||0)/m,x=(s.stride||8)/m;for(let _=g;_<l.length;_+=x){const v=l[_],k=l[_+1];v>h&&(h=v),k>f&&(f=k),v<a&&(a=v),k<c&&(c=k)}return n.minX=a,n.minY=c,n.maxX=h,n.maxY=f,n}function Rg(i){return(i instanceof Us||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=a1(i.buffer,!1),i}class Ig extends Gn{constructor(e={}){super(),this.uid=lt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new gn,this._boundsDirty=!0;const{attributes:n,indexBuffer:s,topology:l}=e;if(this.buffers=[],this.attributes={},n)for(const a in n)this.addAttribute(a,n[a]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const s=Rg(n);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=a1(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Ag(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){var n;this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(s=>s.destroy()),(n=this.indexBuffer)==null||n.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const zg=new Float32Array(1),Dg=new Uint32Array(1);class Lg extends Ig{constructor(){const n=new Us({data:zg,label:"attribute-batch-buffer",usage:$t.VERTEX|$t.COPY_DST,shrinkToFit:!1}),s=new Us({data:Dg,label:"index-batch-buffer",usage:$t.INDEX|$t.COPY_DST,shrinkToFit:!1}),l=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:l,offset:0},aUV:{buffer:n,format:"float32x2",stride:l,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:l,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:l,offset:20}},indexBuffer:s})}}function Af(i,e,n){if(i)for(const s in i){const l=s.toLocaleLowerCase(),a=e[l];if(a){let c=i[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&a.push(`//----${n}----//`),a.push(c)}else Yt(`${s} placement hook does not exist in shader`)}}const jg=/\{\{(.*?)\}\}/g;function Rf(i){var s;const e={};return(((s=i.match(jg))==null?void 0:s.map(l=>l.replace(/[{()}]/g,"")))??[]).forEach(l=>{e[l]=[]}),e}function If(i,e){let n;const s=/@in\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function zf(i,e,n=!1){const s=[];If(e,s),i.forEach(h=>{h.header&&If(h.header,s)});const l=s;n&&l.sort();const a=l.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${a}
`),c}function Df(i,e){let n;const s=/@out\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function Fg(i){const n=/\b(\w+)\s*:/g.exec(i);return n?n[1]:""}function Ng(i){const e=/@.*?\s+/g;return i.replace(e,"")}function Bg(i,e){const n=[];Df(e,n),i.forEach(f=>{f.header&&Df(f.header,n)});let s=0;const l=n.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),a=n.sort().map(f=>`       var ${Ng(f)};`).join(`
`),c=`return VSOutput(
            ${n.sort().map(f=>` ${Fg(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${l}
`),h=h.replace("{{start}}",`
${a}
`),h=h.replace("{{return}}",`
${c}
`),h}function Lf(i,e){let n=i;for(const s in e){const l=e[s];l.join(`
`).length?n=n.replace(`{{${s}}}`,`//-----${s} START-----//
${l.join(`
`)}
//----${s} FINISH----//`):n=n.replace(`{{${s}}}`,"")}return n}const pr=Object.create(null),Eu=new Map;let $g=0;function Og({template:i,bits:e}){const n=u1(i,e);if(pr[n])return pr[n];const{vertex:s,fragment:l}=Ug(i,e);return pr[n]=c1(s,l,e),pr[n]}function Gg({template:i,bits:e}){const n=u1(i,e);return pr[n]||(pr[n]=c1(i.vertex,i.fragment,e)),pr[n]}function Ug(i,e){const n=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let l=zf(n,i.vertex,!0);l=Bg(n,l);const a=zf(s,i.fragment,!0);return{vertex:l,fragment:a}}function u1(i,e){return e.map(n=>(Eu.has(n)||Eu.set(n,$g++),Eu.get(n))).sort((n,s)=>n-s).join("-")+i.vertex+i.fragment}function c1(i,e,n){const s=Rf(i),l=Rf(e);return n.forEach(a=>{Af(a.vertex,s,a.name),Af(a.fragment,l,a.name)}),{vertex:Lf(i,s),fragment:Lf(e,l)}}const Hg=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Vg=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Wg=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Yg=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Xg={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},qg={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Qg({bits:i,name:e}){const n=Og({template:{fragment:Vg,vertex:Hg},bits:[Xg,...i]});return bl.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function Kg({bits:i,name:e}){return new G0({name:e,...Gg({template:{vertex:Wg,fragment:Yg},bits:[qg,...i]})})}const Zg={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Jg={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Au={};function ey(i){const e=[];if(i===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let s=0;s<i;s++)e.push(`@group(1) @binding(${n++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function ty(i){const e=[];if(i===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<i;n++)n===i-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function ny(i){return Au[i]||(Au[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${ey(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${ty(i)}
            `}}),Au[i]}const Ru={};function ry(i){const e=[];for(let n=0;n<i;n++)n>0&&e.push("else"),n<i-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function iy(i){return Ru[i]||(Ru[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${ry(i)}
            `}}),Ru[i]}const sy={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},oy={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},jf={};function ly(i){let e=jf[i];if(e)return e;const n=new Int32Array(i);for(let s=0;s<i;s++)n[s]=s;return e=jf[i]=new W0({uTextures:{value:n,type:"i32",size:i}},{isStatic:!0}),e}class Ff extends sc{constructor(e){const n=Kg({name:"batch",bits:[Jg,iy(e),oy]}),s=Qg({name:"batch",bits:[Zg,ny(e),sy]});super({glProgram:n,gpuProgram:s,resources:{batchSamplers:ly(e)}}),this.maxTextures=e}}let Ts=null;const h1=class d1 extends Eg{constructor(e){super(e),this.geometry=new Lg,this.name=d1.extension.name,this.vertexSize=6,Ts??(Ts=new Ff(e.maxTextures)),this.shader=Ts}packAttributes(e,n,s,l,a){const c=a<<16|e.roundPixels&65535,h=e.transform,f=h.a,m=h.b,g=h.c,x=h.d,_=h.tx,v=h.ty,{positions:k,uvs:P}=e,w=e.color,A=e.attributeOffset,R=A+e.attributeSize;for(let z=A;z<R;z++){const j=z*2,X=k[j],B=k[j+1];n[l++]=f*X+g*B+_,n[l++]=x*B+m*X+v,n[l++]=P[j],n[l++]=P[j+1],s[l++]=w,s[l++]=c}}packQuadAttributes(e,n,s,l,a){const c=e.texture,h=e.transform,f=h.a,m=h.b,g=h.c,x=h.d,_=h.tx,v=h.ty,k=e.bounds,P=k.maxX,w=k.minX,A=k.maxY,R=k.minY,z=c.uvs,j=e.color,X=a<<16|e.roundPixels&65535;n[l+0]=f*w+g*R+_,n[l+1]=x*R+m*w+v,n[l+2]=z.x0,n[l+3]=z.y0,s[l+4]=j,s[l+5]=X,n[l+6]=f*P+g*R+_,n[l+7]=x*R+m*P+v,n[l+8]=z.x1,n[l+9]=z.y1,s[l+10]=j,s[l+11]=X,n[l+12]=f*P+g*A+_,n[l+13]=x*A+m*P+v,n[l+14]=z.x2,n[l+15]=z.y2,s[l+16]=j,s[l+17]=X,n[l+18]=f*w+g*A+_,n[l+19]=x*A+m*w+v,n[l+20]=z.x3,n[l+21]=z.y3,s[l+22]=j,s[l+23]=X}_updateMaxTextures(e){this.shader.maxTextures!==e&&(Ts=new Ff(e),this.shader=Ts)}destroy(){this.shader=null,super.destroy()}};h1.extension={type:[Ne.Batcher],name:"default"};let ay=h1;function uy(i,e,n,s,l,a,c,h=null){let f=0;n*=e,l*=a;const m=h.a,g=h.b,x=h.c,_=h.d,v=h.tx,k=h.ty;for(;f<c;){const P=i[n],w=i[n+1];s[l]=m*P+x*w+v,s[l+1]=g*P+_*w+k,l+=a,n+=e,f++}}function cy(i,e,n,s){let l=0;for(e*=n;l<s;)i[e]=0,i[e+1]=0,e+=n,l++}function f1(i,e,n,s,l){const a=e.a,c=e.b,h=e.c,f=e.d,m=e.tx,g=e.ty;n||(n=0),s||(s=2),l||(l=i.length/s-n);let x=n*s;for(let _=0;_<l;_++){const v=i[x],k=i[x+1];i[x]=a*v+h*k+m,i[x+1]=c*v+f*k+g,x+=s}}const hy=new Ee;class p1{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?x0(n,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||hy}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Hs={extension:{type:Ne.ShapeBuilder,name:"circle"},build(i,e){let n,s,l,a,c,h;if(i.type==="circle"){const j=i;if(c=h=j.radius,c<=0)return!1;n=j.x,s=j.y,l=a=0}else if(i.type==="ellipse"){const j=i;if(c=j.halfWidth,h=j.halfHeight,c<=0||h<=0)return!1;n=j.x,s=j.y,l=a=0}else{const j=i,X=j.width/2,B=j.height/2;n=j.x+X,s=j.y+B,c=h=Math.max(0,Math.min(j.radius,Math.min(X,B))),l=X-c,a=B-h}if(l<0||a<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),m=f*8+(l?4:0)+(a?4:0);if(m===0)return!1;if(f===0)return e[0]=e[6]=n+l,e[1]=e[3]=s+a,e[2]=e[4]=n-l,e[5]=e[7]=s-a,!0;let g=0,x=f*4+(l?2:0)+2,_=x,v=m,k=l+c,P=a,w=n+k,A=n-k,R=s+P;if(e[g++]=w,e[g++]=R,e[--x]=R,e[--x]=A,a){const j=s-P;e[_++]=A,e[_++]=j,e[--v]=j,e[--v]=w}for(let j=1;j<f;j++){const X=Math.PI/2*(j/f),B=l+Math.cos(X)*c,$=a+Math.sin(X)*h,ce=n+B,he=n-B,K=s+$,oe=s-$;e[g++]=ce,e[g++]=K,e[--x]=K,e[--x]=he,e[_++]=he,e[_++]=oe,e[--v]=oe,e[--v]=ce}k=l,P=a+h,w=n+k,A=n-k,R=s+P;const z=s-P;return e[g++]=w,e[g++]=R,e[--v]=z,e[--v]=w,l&&(e[g++]=A,e[g++]=R,e[--v]=z,e[--v]=A),!0},triangulate(i,e,n,s,l,a){if(i.length===0)return;let c=0,h=0;for(let g=0;g<i.length;g+=2)c+=i[g],h+=i[g+1];c/=i.length/2,h/=i.length/2;let f=s;e[f*n]=c,e[f*n+1]=h;const m=f++;for(let g=0;g<i.length;g+=2)e[f*n]=i[g],e[f*n+1]=i[g+1],g>0&&(l[a++]=f,l[a++]=m,l[a++]=f-1),f++;l[a++]=m+1,l[a++]=m,l[a++]=f-1}},dy={...Hs,extension:{...Hs.extension,name:"ellipse"}},fy={...Hs,extension:{...Hs.extension,name:"roundedRectangle"}},m1=1e-4,Nf=1e-4;function py(i){const e=i.length;if(e<6)return 1;let n=0;for(let s=0,l=i[e-2],a=i[e-1];s<e;s+=2){const c=i[s],h=i[s+1];n+=(c-l)*(h+a),l=c,a=h}return n<0?-1:1}function Bf(i,e,n,s,l,a,c,h){const f=i-n*l,m=e-s*l,g=i+n*a,x=e+s*a;let _,v;c?(_=s,v=-n):(_=-s,v=n);const k=f+_,P=m+v,w=g+_,A=x+v;return h.push(k,P),h.push(w,A),2}function Nr(i,e,n,s,l,a,c,h){const f=n-i,m=s-e;let g=Math.atan2(f,m),x=Math.atan2(l-i,a-e);h&&g<x?g+=Math.PI*2:!h&&g>x&&(x+=Math.PI*2);let _=g;const v=x-g,k=Math.abs(v),P=Math.sqrt(f*f+m*m),w=(15*k*Math.sqrt(P)/Math.PI>>0)+1,A=v/w;if(_+=A,h){c.push(i,e),c.push(n,s);for(let R=1,z=_;R<w;R++,z+=A)c.push(i,e),c.push(i+Math.sin(z)*P,e+Math.cos(z)*P);c.push(i,e),c.push(l,a)}else{c.push(n,s),c.push(i,e);for(let R=1,z=_;R<w;R++,z+=A)c.push(i+Math.sin(z)*P,e+Math.cos(z)*P),c.push(i,e);c.push(l,a),c.push(i,e)}return w*2}function my(i,e,n,s,l,a){const c=m1;if(i.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let Z=py(i);f=(f-.5)*Z+.5}const m=new Et(i[0],i[1]),g=new Et(i[i.length-2],i[i.length-1]),x=s,_=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(x){i=i.slice(),_&&(i.pop(),i.pop(),g.set(i[i.length-2],i[i.length-1]));const Z=(m.x+g.x)*.5,te=(g.y+m.y)*.5;i.unshift(Z,te),i.push(Z,te)}const v=l,k=i.length/2;let P=i.length;const w=v.length/2,A=h.width/2,R=A*A,z=h.miterLimit*h.miterLimit;let j=i[0],X=i[1],B=i[2],$=i[3],ce=0,he=0,K=-(X-$),oe=j-B,Pe=0,be=0,Se=Math.sqrt(K*K+oe*oe);K/=Se,oe/=Se,K*=A,oe*=A;const ut=f,ee=(1-ut)*2,ne=ut*2;x||(h.cap==="round"?P+=Nr(j-K*(ee-ne)*.5,X-oe*(ee-ne)*.5,j-K*ee,X-oe*ee,j+K*ne,X+oe*ne,v,!0)+2:h.cap==="square"&&(P+=Bf(j,X,K,oe,ee,ne,!0,v))),v.push(j-K*ee,X-oe*ee),v.push(j+K*ne,X+oe*ne);for(let Z=1;Z<k-1;++Z){j=i[(Z-1)*2],X=i[(Z-1)*2+1],B=i[Z*2],$=i[Z*2+1],ce=i[(Z+1)*2],he=i[(Z+1)*2+1],K=-(X-$),oe=j-B,Se=Math.sqrt(K*K+oe*oe),K/=Se,oe/=Se,K*=A,oe*=A,Pe=-($-he),be=B-ce,Se=Math.sqrt(Pe*Pe+be*be),Pe/=Se,be/=Se,Pe*=A,be*=A;const te=B-j,M=X-$,N=B-ce,ge=he-$,ye=te*N+M*ge,we=M*N-ge*te,Ce=we<0;if(Math.abs(we)<.001*Math.abs(ye)){v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),ye>=0&&(h.join==="round"?P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+4:P+=2,v.push(B-Pe*ne,$-be*ne),v.push(B+Pe*ee,$+be*ee));continue}const De=(-K+j)*(-oe+$)-(-K+B)*(-oe+X),Me=(-Pe+ce)*(-be+$)-(-Pe+B)*(-be+he),Ae=(te*Me-N*De)/we,it=(ge*De-M*Me)/we,on=(Ae-B)*(Ae-B)+(it-$)*(it-$),Ve=B+(Ae-B)*ee,wt=$+(it-$)*ee,We=B-(Ae-B)*ne,At=$-(it-$)*ne,Hr=Math.min(te*te+M*M,N*N+ge*ge),ln=Ce?ee:ne,yr=Hr+ln*ln*R;on<=yr?h.join==="bevel"||on/R>z?(Ce?(v.push(Ve,wt),v.push(B+K*ne,$+oe*ne),v.push(Ve,wt),v.push(B+Pe*ne,$+be*ne)):(v.push(B-K*ee,$-oe*ee),v.push(We,At),v.push(B-Pe*ee,$-be*ee),v.push(We,At)),P+=2):h.join==="round"?Ce?(v.push(Ve,wt),v.push(B+K*ne,$+oe*ne),P+=Nr(B,$,B+K*ne,$+oe*ne,B+Pe*ne,$+be*ne,v,!0)+4,v.push(Ve,wt),v.push(B+Pe*ne,$+be*ne)):(v.push(B-K*ee,$-oe*ee),v.push(We,At),P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+4,v.push(B-Pe*ee,$-be*ee),v.push(We,At)):(v.push(Ve,wt),v.push(We,At)):(v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),h.join==="round"?Ce?P+=Nr(B,$,B+K*ne,$+oe*ne,B+Pe*ne,$+be*ne,v,!0)+2:P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+2:h.join==="miter"&&on/R<=z&&(Ce?(v.push(We,At),v.push(We,At)):(v.push(Ve,wt),v.push(Ve,wt)),P+=2),v.push(B-Pe*ee,$-be*ee),v.push(B+Pe*ne,$+be*ne),P+=2)}j=i[(k-2)*2],X=i[(k-2)*2+1],B=i[(k-1)*2],$=i[(k-1)*2+1],K=-(X-$),oe=j-B,Se=Math.sqrt(K*K+oe*oe),K/=Se,oe/=Se,K*=A,oe*=A,v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),x||(h.cap==="round"?P+=Nr(B-K*(ee-ne)*.5,$-oe*(ee-ne)*.5,B-K*ee,$-oe*ee,B+K*ne,$+oe*ne,v,!1)+2:h.cap==="square"&&(P+=Bf(B,$,K,oe,ee,ne,!1,v)));const J=Nf*Nf;for(let Z=w;Z<P+w-2;++Z)j=v[Z*2],X=v[Z*2+1],B=v[(Z+1)*2],$=v[(Z+1)*2+1],ce=v[(Z+2)*2],he=v[(Z+2)*2+1],!(Math.abs(j*($-he)+B*(he-X)+ce*(X-$))<J)&&a.push(Z,Z+1,Z+2)}function gy(i,e,n,s){const l=m1;if(i.length===0)return;const a=i[0],c=i[1],h=i[i.length-2],f=i[i.length-1],m=e||Math.abs(a-h)<l&&Math.abs(c-f)<l,g=n,x=i.length/2,_=g.length/2;for(let v=0;v<x;v++)g.push(i[v*2]),g.push(i[v*2+1]);for(let v=0;v<x-1;v++)s.push(_+v,_+v+1);m&&s.push(_+x-1,_)}function g1(i,e,n,s,l,a,c){const h=rg(i,e,2);if(!h)return;for(let m=0;m<h.length;m+=3)a[c++]=h[m]+l,a[c++]=h[m+1]+l,a[c++]=h[m+2]+l;let f=l*s;for(let m=0;m<i.length;m+=2)n[f]=i[m],n[f+1]=i[m+1],f+=s}const yy=[],xy={extension:{type:Ne.ShapeBuilder,name:"polygon"},build(i,e){for(let n=0;n<i.points.length;n++)e[n]=i.points[n];return!0},triangulate(i,e,n,s,l,a){g1(i,yy,e,n,s,l,a)}},vy={extension:{type:Ne.ShapeBuilder,name:"rectangle"},build(i,e){const n=i,s=n.x,l=n.y,a=n.width,c=n.height;return a>0&&c>0?(e[0]=s,e[1]=l,e[2]=s+a,e[3]=l,e[4]=s+a,e[5]=l+c,e[6]=s,e[7]=l+c,!0):!1},triangulate(i,e,n,s,l,a){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[6],e[s+c+1]=i[7],c+=n,e[s+c]=i[4],e[s+c+1]=i[5],c+=n;const h=s/n;l[a++]=h,l[a++]=h+1,l[a++]=h+2,l[a++]=h+1,l[a++]=h+3,l[a++]=h+2}},_y={extension:{type:Ne.ShapeBuilder,name:"triangle"},build(i,e){return e[0]=i.x,e[1]=i.y,e[2]=i.x2,e[3]=i.y2,e[4]=i.x3,e[5]=i.y3,!0},triangulate(i,e,n,s,l,a){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[4],e[s+c+1]=i[5];const h=s/n;l[a++]=h,l[a++]=h+1,l[a++]=h+2}},wy=new Ee,Sy=new _t;function Cy(i,e,n,s){const l=e.matrix?i.copyFrom(e.matrix).invert():i.identity();if(e.textureSpace==="local"){const c=n.getBounds(Sy);e.width&&c.pad(e.width);const{x:h,y:f}=c,m=1/c.width,g=1/c.height,x=-h*m,_=-f*g,v=l.a,k=l.b,P=l.c,w=l.d;l.a*=m,l.b*=m,l.c*=g,l.d*=g,l.tx=x*v+_*P+l.tx,l.ty=x*k+_*w+l.ty}else l.translate(e.texture.frame.x,e.texture.frame.y),l.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return!(e.fill instanceof Ws)&&a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat",a.update()),s&&l.append(wy.copyFrom(s).invert()),l}const Pl={};sn.handleByMap(Ne.ShapeBuilder,Pl);sn.add(vy,xy,_y,Hs,dy,fy);const ky=new _t,by=new Ee;function Py(i,e){const{geometryData:n,batches:s}=e;s.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let l=0;l<i.instructions.length;l++){const a=i.instructions[l];if(a.action==="texture")Ty(a.data,s,n);else if(a.action==="fill"||a.action==="stroke"){const c=a.action==="stroke",h=a.data.path.shapePath,f=a.data.style,m=a.data.hole;c&&m&&$f(m.shapePath,f,!0,s,n),m&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),$f(h,f,c,s,n)}}}function Ty(i,e,n){const s=[],l=Pl.rectangle,a=ky;a.x=i.dx,a.y=i.dy,a.width=i.dw,a.height=i.dh;const c=i.transform;if(!l.build(a,s))return;const{vertices:h,uvs:f,indices:m}=n,g=m.length,x=h.length/2;c&&f1(s,c),l.triangulate(s,h,2,x,m,g);const _=i.image,v=_.uvs;f.push(v.x0,v.y0,v.x1,v.y1,v.x3,v.y3,v.x2,v.y2);const k=rn.get(p1);k.indexOffset=g,k.indexSize=m.length-g,k.attributeOffset=x,k.attributeSize=h.length/2-x,k.baseColor=i.style,k.alpha=i.alpha,k.texture=_,k.geometryData=n,e.push(k)}function $f(i,e,n,s,l){const{vertices:a,uvs:c,indices:h}=l;i.shapePrimitives.forEach(({shape:f,transform:m,holes:g})=>{const x=[],_=Pl[f.type];if(!_.build(f,x))return;const v=h.length,k=a.length/2;let P="triangle-list";if(m&&f1(x,m),n){const z=f.closePath??!0,j=e;j.pixelLine?(gy(x,z,a,h),P="line-list"):my(x,j,!1,z,a,h)}else if(g){const z=[],j=x.slice();My(g).forEach(B=>{z.push(j.length/2),j.push(...B)}),g1(j,z,a,2,k,h,v)}else _.triangulate(x,a,2,k,h,v);const w=c.length/2,A=e.texture;if(A!==Ge.WHITE){const z=Cy(by,e,f,m);uy(a,2,k,c,w,2,a.length/2-k,z)}else cy(c,w,2,a.length/2-k);const R=rn.get(p1);R.indexOffset=v,R.indexSize=h.length-v,R.attributeOffset=k,R.attributeSize=a.length/2-k,R.baseColor=e.color,R.alpha=e.alpha,R.texture=A,R.geometryData=l,R.topology=P,s.push(R)})}function My(i){const e=[];for(let n=0;n<i.length;n++){const s=i[n].shape,l=[];Pl[s.type].build(s,l)&&e.push(l)}return e}class Ey{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Ay{constructor(){this.instructions=new S0}init(e){const n=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new ay({maxTextures:n}),this.instructions.reset()}get geometry(){return Oe(Pm,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const cc=class Ku{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Ku.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Ku.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),Py(e,n);const s=e.batchMode;e.customShader||s==="no-batch"?n.isBatchable=!1:s==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=rn.get(Ay,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:l}=this._gpuContextHash[e.uid],a=l.vertices.length,c=l.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=n.batcher;h.ensureAttributeBuffer(a),h.ensureIndexBuffer(c),h.begin();for(let g=0;g<s.length;g++){const x=s[g];h.add(x)}h.finish(n.instructions);const f=h.geometry;f.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),f.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let g=0;g<m.length;g++){const x=m[g];x.bindGroup=vg(x.textures.textures,x.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new Ey;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(rn.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(s=>{rn.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};cc.extension={type:[Ne.WebGLSystem,Ne.WebGPUSystem,Ne.CanvasSystem],name:"graphicsContext"};cc.defaultOptions={bezierSmoothness:.5};let y1=cc;const Ry=8,gl=11920929e-14,Iy=1;function x1(i,e,n,s,l,a,c,h,f,m){const x=Math.min(.99,Math.max(0,m??y1.defaultOptions.bezierSmoothness));let _=(Iy-x)/1;return _*=_,zy(e,n,s,l,a,c,h,f,i,_),i}function zy(i,e,n,s,l,a,c,h,f,m){Zu(i,e,n,s,l,a,c,h,f,m,0),f.push(c,h)}function Zu(i,e,n,s,l,a,c,h,f,m,g){if(g>Ry)return;const x=(i+n)/2,_=(e+s)/2,v=(n+l)/2,k=(s+a)/2,P=(l+c)/2,w=(a+h)/2,A=(x+v)/2,R=(_+k)/2,z=(v+P)/2,j=(k+w)/2,X=(A+z)/2,B=(R+j)/2;if(g>0){let $=c-i,ce=h-e;const he=Math.abs((n-c)*ce-(s-h)*$),K=Math.abs((l-c)*ce-(a-h)*$);if(he>gl&&K>gl){if((he+K)*(he+K)<=m*($*$+ce*ce)){f.push(X,B);return}}else if(he>gl){if(he*he<=m*($*$+ce*ce)){f.push(X,B);return}}else if(K>gl){if(K*K<=m*($*$+ce*ce)){f.push(X,B);return}}else if($=X-(i+c)/2,ce=B-(e+h)/2,$*$+ce*ce<=m){f.push(X,B);return}}Zu(i,e,x,_,A,R,X,B,f,m,g+1),Zu(X,B,z,j,P,w,c,h,f,m,g+1)}const Dy=8,Ly=11920929e-14,jy=1;function Fy(i,e,n,s,l,a,c,h){const m=Math.min(.99,Math.max(0,h??y1.defaultOptions.bezierSmoothness));let g=(jy-m)/1;return g*=g,Ny(e,n,s,l,a,c,i,g),i}function Ny(i,e,n,s,l,a,c,h){Ju(c,i,e,n,s,l,a,h,0),c.push(l,a)}function Ju(i,e,n,s,l,a,c,h,f){if(f>Dy)return;const m=(e+s)/2,g=(n+l)/2,x=(s+a)/2,_=(l+c)/2,v=(m+x)/2,k=(g+_)/2;let P=a-e,w=c-n;const A=Math.abs((s-a)*w-(l-c)*P);if(A>Ly){if(A*A<=h*(P*P+w*w)){i.push(v,k);return}}else if(P=v-(e+a)/2,w=k-(n+c)/2,P*P+w*w<=h){i.push(v,k);return}Ju(i,e,n,m,g,v,k,h,f+1),Ju(i,v,k,x,_,a,c,h,f+1)}function v1(i,e,n,s,l,a,c,h){let f=Math.abs(l-a);(!c&&l>a||c&&a>l)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let m=f/h,g=l;m*=c?-1:1;for(let x=0;x<h+1;x++){const _=Math.cos(g),v=Math.sin(g),k=e+_*s,P=n+v*s;i.push(k,P),g+=m}}function By(i,e,n,s,l,a){const c=i[i.length-2],f=i[i.length-1]-n,m=c-e,g=l-n,x=s-e,_=Math.abs(f*x-m*g);if(_<1e-8||a===0){(i[i.length-2]!==e||i[i.length-1]!==n)&&i.push(e,n);return}const v=f*f+m*m,k=g*g+x*x,P=f*g+m*x,w=a*Math.sqrt(v)/_,A=a*Math.sqrt(k)/_,R=w*P/v,z=A*P/k,j=w*x+A*m,X=w*g+A*f,B=m*(A+R),$=f*(A+R),ce=x*(w+z),he=g*(w+z),K=Math.atan2($-X,B-j),oe=Math.atan2(he-X,ce-j);v1(i,j+e,X+n,a,K,oe,m*g>x*f)}const Ns=Math.PI*2,Iu={centerX:0,centerY:0,ang1:0,ang2:0},zu=({x:i,y:e},n,s,l,a,c,h,f)=>{i*=n,e*=s;const m=l*i-a*e,g=a*i+l*e;return f.x=m+c,f.y=g+h,f};function $y(i,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:n,l=Math.cos(i),a=Math.sin(i),c=Math.cos(i+e),h=Math.sin(i+e);return[{x:l-a*s,y:a+l*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const Of=(i,e,n,s)=>{const l=i*s-e*n<0?-1:1;let a=i*n+e*s;return a>1&&(a=1),a<-1&&(a=-1),l*Math.acos(a)},Oy=(i,e,n,s,l,a,c,h,f,m,g,x,_)=>{const v=Math.pow(l,2),k=Math.pow(a,2),P=Math.pow(g,2),w=Math.pow(x,2);let A=v*k-v*w-k*P;A<0&&(A=0),A/=v*w+k*P,A=Math.sqrt(A)*(c===h?-1:1);const R=A*l/a*x,z=A*-a/l*g,j=m*R-f*z+(i+n)/2,X=f*R+m*z+(e+s)/2,B=(g-R)/l,$=(x-z)/a,ce=(-g-R)/l,he=(-x-z)/a,K=Of(1,0,B,$);let oe=Of(B,$,ce,he);h===0&&oe>0&&(oe-=Ns),h===1&&oe<0&&(oe+=Ns),_.centerX=j,_.centerY=X,_.ang1=K,_.ang2=oe};function Gy(i,e,n,s,l,a,c,h=0,f=0,m=0){if(a===0||c===0)return;const g=Math.sin(h*Ns/360),x=Math.cos(h*Ns/360),_=x*(e-s)/2+g*(n-l)/2,v=-g*(e-s)/2+x*(n-l)/2;if(_===0&&v===0)return;a=Math.abs(a),c=Math.abs(c);const k=Math.pow(_,2)/Math.pow(a,2)+Math.pow(v,2)/Math.pow(c,2);k>1&&(a*=Math.sqrt(k),c*=Math.sqrt(k)),Oy(e,n,s,l,a,c,f,m,g,x,_,v,Iu);let{ang1:P,ang2:w}=Iu;const{centerX:A,centerY:R}=Iu;let z=Math.abs(w)/(Ns/4);Math.abs(1-z)<1e-7&&(z=1);const j=Math.max(Math.ceil(z),1);w/=j;let X=i[i.length-2],B=i[i.length-1];const $={x:0,y:0};for(let ce=0;ce<j;ce++){const he=$y(P,w),{x:K,y:oe}=zu(he[0],a,c,x,g,A,R,$),{x:Pe,y:be}=zu(he[1],a,c,x,g,A,R,$),{x:Se,y:ut}=zu(he[2],a,c,x,g,A,R,$);x1(i,X,B,K,oe,Pe,be,Se,ut),X=Se,B=ut,P+=w}}function Uy(i,e,n){const s=(c,h)=>{const f=h.x-c.x,m=h.y-c.y,g=Math.sqrt(f*f+m*m),x=f/g,_=m/g;return{len:g,nx:x,ny:_}},l=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let a=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],f=h.radius??n;if(f<=0){l(c,h),a=h;continue}const m=e[(c+1)%e.length],g=s(h,a),x=s(h,m);if(g.len<1e-4||x.len<1e-4){l(c,h),a=h;continue}let _=Math.asin(g.nx*x.ny-g.ny*x.nx),v=1,k=!1;g.nx*x.nx-g.ny*-x.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,v=-1,k=!0):_>0&&(v=-1,k=!0);const P=_/2;let w,A=Math.abs(Math.cos(P)*f/Math.sin(P));A>Math.min(g.len/2,x.len/2)?(A=Math.min(g.len/2,x.len/2),w=Math.abs(A*Math.sin(P)/Math.cos(P))):w=f;const R=h.x+x.nx*A+-x.ny*w*v,z=h.y+x.ny*A+x.nx*w*v,j=Math.atan2(g.ny,g.nx)+Math.PI/2*v,X=Math.atan2(x.ny,x.nx)-Math.PI/2*v;c===0&&i.moveTo(R+Math.cos(j)*w,z+Math.sin(j)*w),i.arc(R,z,w,j,X,k),a=h}}function Hy(i,e,n,s){const l=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),a=(h,f,m)=>({x:h.x+(f.x-h.x)*m,y:h.y+(f.y-h.y)*m}),c=e.length;for(let h=0;h<c;h++){const f=e[(h+1)%c],m=f.radius??n;if(m<=0){h===0?i.moveTo(f.x,f.y):i.lineTo(f.x,f.y);continue}const g=e[h],x=e[(h+2)%c],_=l(g,f);let v;if(_<1e-4)v=f;else{const w=Math.min(_/2,m);v=a(f,g,w/_)}const k=l(x,f);let P;if(k<1e-4)P=f;else{const w=Math.min(k/2,m);P=a(f,x,w/k)}h===0?i.moveTo(v.x,v.y):i.lineTo(v.x,v.y),i.quadraticCurveTo(f.x,f.y,P.x,P.y,s)}}const Vy=new _t;class Wy{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new gn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const s=this._currentPoly.points,l=s[s.length-2],a=s[s.length-1];return(l!==e||a!==n)&&s.push(e,n),this}arc(e,n,s,l,a,c){this._ensurePoly(!1);const h=this._currentPoly.points;return v1(h,e,n,s,l,a,c),this}arcTo(e,n,s,l,a){this._ensurePoly();const c=this._currentPoly.points;return By(c,e,n,s,l,a),this}arcToSvg(e,n,s,l,a,c,h){const f=this._currentPoly.points;return Gy(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,n,s,l,a),this}bezierCurveTo(e,n,s,l,a,c,h){this._ensurePoly();const f=this._currentPoly;return x1(this._currentPoly.points,f.lastX,f.lastY,e,n,s,l,a,c,h),this}quadraticCurveTo(e,n,s,l,a){this._ensurePoly();const c=this._currentPoly;return Fy(this._currentPoly.points,c.lastX,c.lastY,e,n,s,l,a),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const s=this.shapePrimitives,l=s.length;for(let a=0;a<e.instructions.length;a++){const c=e.instructions[a];this[c.action](...c.data)}if(e.checkForHoles&&s.length-l>1){let a=null;for(let c=l;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const f=h.shape,m=a==null?void 0:a.shape;m&&m.containsPolygon(f)?(a.holes||(a.holes=[]),a.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):a=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,s,l,a){return this.drawShape(new _t(e,n,s,l),a),this}circle(e,n,s,l){return this.drawShape(new lc(e,n,s),l),this}poly(e,n,s){const l=new js(e);return l.closePath=n,this.drawShape(l,s),this}regularPoly(e,n,s,l,a=0,c){l=Math.max(l|0,3);const h=-1*Math.PI/2+a,f=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const x=h-g*f;m.push(e+s*Math.cos(x),n+s*Math.sin(x))}return this.poly(m,!0,c),this}roundPoly(e,n,s,l,a,c=0,h){if(l=Math.max(l|0,3),a<=0)return this.regularPoly(e,n,s,l,c);const f=s*Math.sin(Math.PI/l)-.001;a=Math.min(a,f);const m=-1*Math.PI/2+c,g=Math.PI*2/l,x=(l-2)*Math.PI/l/2;for(let _=0;_<l;_++){const v=_*g+m,k=e+s*Math.cos(v),P=n+s*Math.sin(v),w=v+Math.PI+x,A=v-Math.PI-x,R=k+a*Math.cos(w),z=P+a*Math.sin(w),j=k+a*Math.cos(A),X=P+a*Math.sin(A);_===0?this.moveTo(R,z):this.lineTo(R,z),this.quadraticCurveTo(k,P,j,X,h)}return this.closePath()}roundShape(e,n,s=!1,l){return e.length<3?this:(s?Hy(this,e,n,l):Uy(this,e,n),this.closePath())}filletRect(e,n,s,l,a){if(a===0)return this.rect(e,n,s,l);const c=Math.min(s,l)/2,h=Math.min(c,Math.max(-c,a)),f=e+s,m=n+l,g=h<0?-h:0,x=Math.abs(h);return this.moveTo(e,n+x).arcTo(e+g,n+g,e+x,n,x).lineTo(f-x,n).arcTo(f-g,n+g,f,n+x,x).lineTo(f,m-x).arcTo(f-g,m-g,e+s-x,m,x).lineTo(e+x,m).arcTo(e+g,m-g,e,m-x,x).closePath()}chamferRect(e,n,s,l,a,c){if(a<=0)return this.rect(e,n,s,l);const h=Math.min(a,Math.min(s,l)/2),f=e+s,m=n+l,g=[e+h,n,f-h,n,f,n+h,f,m-h,f-h,m,e+h,m,e,m-h,e,n+h];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,c)}ellipse(e,n,s,l,a){return this.drawShape(new ac(e,n,s,l),a),this}roundRect(e,n,s,l,a,c){return this.drawShape(new uc(e,n,s,l,a),c),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let s=this._currentPoly;return s&&this.endPoly(),s=new js,s.points.push(e,n),this._currentPoly=s,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new js,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let s=n.shape.x,l=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const a=n.transform,c=s;s=a.a*s+a.c*l+a.tx,l=a.b*c+a.d*l+a.ty}this._currentPoly.points.push(s,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const s=e.instructions[n];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let s=0;s<n.length;s++){const l=n[s],a=l.shape.getBounds(Vy);l.transform?e.addRect(a,l.transform):e.addRect(a)}return e}}class On{constructor(e,n=!1){this.instructions=[],this.uid=lt("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?mg(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Wy(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,s,l,a){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(Et.shared);let f=0,m=0;if(!c||c.action!=="bezierCurveTo")f=h.x,m=h.y;else{f=c.data[2],m=c.data[3];const g=h.x,x=h.y;f=g+(g-f),m=x+(x-m)}return this.instructions.push({action:"bezierCurveTo",data:[f,m,e,n,s,l,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,s){const l=this.instructions[this.instructions.length-1],a=this.getLastPoint(Et.shared);let c=0,h=0;if(!l||l.action!=="quadraticCurveTo")c=a.x,h=a.y;else{c=l.data[0],h=l.data[1];const f=a.x,m=a.y;c=f+(f-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,n,s]}),this._dirty=!0,this}rect(e,n,s,l,a){return this.instructions.push({action:"rect",data:[e,n,s,l,a]}),this._dirty=!0,this}circle(e,n,s,l){return this.instructions.push({action:"circle",data:[e,n,s,l]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,s,l,a,c,h){a||(a=l/2);const f=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,x=[];for(let _=0;_<m;_++){const v=_%2?a:l,k=_*g+f;x.push(e+v*Math.cos(k),n+v*Math.sin(k))}return this.poly(x,!0,h),this}clone(e=!1){const n=new On;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const l=this.instructions[s];n.instructions.push({action:l.action,data:l.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,s=e.b,l=e.c,a=e.d,c=e.tx,h=e.ty;let f=0,m=0,g=0,x=0,_=0,v=0,k=0,P=0;for(let w=0;w<this.instructions.length;w++){const A=this.instructions[w],R=A.data;switch(A.action){case"moveTo":case"lineTo":f=R[0],m=R[1],R[0]=n*f+l*m+c,R[1]=s*f+a*m+h;break;case"bezierCurveTo":g=R[0],x=R[1],_=R[2],v=R[3],f=R[4],m=R[5],R[0]=n*g+l*x+c,R[1]=s*g+a*x+h,R[2]=n*_+l*v+c,R[3]=s*_+a*v+h,R[4]=n*f+l*m+c,R[5]=s*f+a*m+h;break;case"quadraticCurveTo":g=R[0],x=R[1],f=R[2],m=R[3],R[0]=n*g+l*x+c,R[1]=s*g+a*x+h,R[2]=n*f+l*m+c,R[3]=s*f+a*m+h;break;case"arcToSvg":f=R[5],m=R[6],k=R[0],P=R[1],R[0]=n*k+l*P,R[1]=s*k+a*P,R[5]=n*f+l*m+c,R[6]=s*f+a*m+h;break;case"circle":R[4]=Ms(R[3],e);break;case"rect":R[4]=Ms(R[4],e);break;case"ellipse":R[8]=Ms(R[8],e);break;case"roundRect":R[5]=Ms(R[5],e);break;case"addPath":R[0].transform(e);break;case"poly":R[2]=Ms(R[2],e);break;default:Yt("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,s=this.instructions[n];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;s=this.instructions[n]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Ms(i,e){return i?i.prepend(e):e.clone()}function rt(i,e,n){const s=i.getAttribute(e);return s?Number(s):n}function Yy(i,e){const n=i.querySelectorAll("defs");for(let s=0;s<n.length;s++){const l=n[s];for(let a=0;a<l.children.length;a++){const c=l.children[a];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=Xy(c);break;case"radialgradient":e.defs[c.id]=qy();break}}}}function Xy(i){const e=rt(i,"x1",0),n=rt(i,"y1",0),s=rt(i,"x2",1),l=rt(i,"y2",0),a=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new Ws(e,n,s,l,a==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const f=i.children[h],m=rt(f,"offset",0),g=nn.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function qy(i){return Yt("[SVG Parser] Radial gradients are not yet supported"),new Ws(0,0,1,0)}function Gf(i){const e=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Uf={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function _1(i,e){const n=i.getAttribute("style"),s={},l={},a={strokeStyle:s,fillStyle:l,useFill:!1,useStroke:!1};for(const c in Uf){const h=i.getAttribute(c);h&&Hf(e,a,c,h.trim())}if(n){const c=n.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[m,g]=f.split(":");Uf[m]&&Hf(e,a,m,g.trim())}}return{strokeStyle:a.useStroke?s:null,fillStyle:a.useFill?l:null,useFill:a.useFill,useStroke:a.useStroke}}function Hf(i,e,n,s){switch(n){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const l=Gf(s);e.strokeStyle.fill=i.defs[l]}else e.strokeStyle.color=nn.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const l=Gf(s);e.fillStyle.fill=i.defs[l]}else e.fillStyle.color=nn.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function Qy(i){if(i.length<=2)return!0;const e=i.map(h=>h.area).sort((h,f)=>f-h),[n,s]=e,l=e[e.length-1],a=n/s,c=s/l;return!(a>3&&c<2)}function Ky(i){return i.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function Zy(i){const e=i.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const n=e.map(Number),s=[],l=[];for(let g=0;g<n.length;g+=2)g+1<n.length&&(s.push(n[g]),l.push(n[g+1]));if(s.length===0||l.length===0)return 0;const a=Math.min(...s),c=Math.max(...s),h=Math.min(...l),f=Math.max(...l);return(c-a)*(f-h)}function Vf(i,e){const n=new On(i,!1);for(const s of n.instructions)e.instructions.push(s)}function Jy(i,e){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const n={context:e,defs:{},path:new On};Yy(i,n);const s=i.children,{fillStyle:l,strokeStyle:a}=_1(i,n);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&w1(h,n,l,a)}return e}function w1(i,e,n,s){const l=i.children,{fillStyle:a,strokeStyle:c}=_1(i,e);a&&n?n={...n,...a}:a&&(n=a),c&&s?s={...s,...c}:c&&(s=c);const h=!n&&!s;h&&(n={color:0});let f,m,g,x,_,v,k,P,w,A,R,z,j,X,B,$,ce;switch(i.nodeName.toLowerCase()){case"path":{X=i.getAttribute("d");const he=i.getAttribute("fill-rule"),K=Ky(X),oe=he==="evenodd",Pe=K.length>1;if(oe&&Pe){const Se=K.map(ee=>({path:ee,area:Zy(ee)}));if(Se.sort((ee,ne)=>ne.area-ee.area),K.length>3||!Qy(Se))for(let ee=0;ee<Se.length;ee++){const ne=Se[ee],J=ee===0;e.context.beginPath();const Z=new On(void 0,!0);Vf(ne.path,Z),e.context.path(Z),J?(n&&e.context.fill(n),s&&e.context.stroke(s)):e.context.cut()}else for(let ee=0;ee<Se.length;ee++){const ne=Se[ee],J=ee%2===1;e.context.beginPath();const Z=new On(void 0,!0);Vf(ne.path,Z),e.context.path(Z),J?e.context.cut():(n&&e.context.fill(n),s&&e.context.stroke(s))}}else{const Se=he?he==="evenodd":!0;B=new On(X,Se),e.context.path(B),n&&e.context.fill(n),s&&e.context.stroke(s)}break}case"circle":k=rt(i,"cx",0),P=rt(i,"cy",0),w=rt(i,"r",0),e.context.ellipse(k,P,w,w),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"rect":f=rt(i,"x",0),m=rt(i,"y",0),$=rt(i,"width",0),ce=rt(i,"height",0),A=rt(i,"rx",0),R=rt(i,"ry",0),A||R?e.context.roundRect(f,m,$,ce,A||R):e.context.rect(f,m,$,ce),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"ellipse":k=rt(i,"cx",0),P=rt(i,"cy",0),A=rt(i,"rx",0),R=rt(i,"ry",0),e.context.beginPath(),e.context.ellipse(k,P,A,R),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"line":g=rt(i,"x1",0),x=rt(i,"y1",0),_=rt(i,"x2",0),v=rt(i,"y2",0),e.context.beginPath(),e.context.moveTo(g,x),e.context.lineTo(_,v),s&&e.context.stroke(s);break;case"polygon":j=i.getAttribute("points"),z=j.match(/\d+/g).map(he=>parseInt(he,10)),e.context.poly(z,!0),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"polyline":j=i.getAttribute("points"),z=j.match(/\d+/g).map(he=>parseInt(he,10)),e.context.poly(z,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{Yt(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(n=null);for(let he=0;he<l.length;he++)w1(l[he],e,n,s)}function e3(i){return nn.isColorLike(i)}function Wf(i){return i instanceof hg}function Yf(i){return i instanceof Ws}function t3(i){return i instanceof Ge}function n3(i,e,n){const s=nn.shared.setValue(e??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?n.alpha:s.alpha,i.texture=Ge.WHITE,{...n,...i}}function r3(i,e,n){return i.texture=e,{...n,...i}}function Xf(i,e,n){return i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,{...n,...i}}function qf(i,e,n){return e.buildGradient(),i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,i.textureSpace=e.textureSpace,{...n,...i}}function i3(i,e){const n={...e,...i},s=nn.shared.setValue(n.color);return n.alpha*=s.alpha,n.color=s.toNumber(),n}function Ds(i,e){if(i==null)return null;const n={},s=i;return e3(i)?n3(n,i,e):t3(i)?r3(n,i,e):Wf(i)?Xf(n,i,e):Yf(i)?qf(n,i,e):s.fill&&Wf(s.fill)?Xf(s,s.fill,e):s.fill&&Yf(s.fill)?qf(s,s.fill,e):i3(s,e)}function Qf(i,e){const{width:n,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...f}=e,m=Ds(i,f);return m?{width:n,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...m}:null}const s3=new Et,Kf=new Ee,hc=class Pn extends Gn{constructor(){super(...arguments),this.uid=lt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new On,this._transform=new Ee,this._fillStyle={...Pn.defaultFillStyle},this._strokeStyle={...Pn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new gn,this._boundsDirty=!0}clone(){const e=new Pn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ds(e,Pn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Qf(e,Pn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ds(e,Pn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ds(e,Pn.defaultStrokeStyle),this}texture(e,n,s,l,a,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:l||0,dw:a||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?nn.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new On,this}fill(e,n){let s;const l=this.instructions[this.instructions.length-1];return this._tick===0&&(l==null?void 0:l.action)==="stroke"?s=l.data.path:s=this._activePath.clone(),s?(e!=null&&(n!==void 0&&typeof e=="number"&&(Oe(dt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=Ds(e,Pn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(Et.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&(s==null?void 0:s.action)==="fill"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=Qf(e,Pn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(s);else{n.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,n,s,l,a,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*n+h.tx,h.b*e+h.d*n+h.ty,s,l,a,c),this}arcTo(e,n,s,l,a){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}arcToSvg(e,n,s,l,a,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,n,s,l,a,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(e,n,s,l,a,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*n+f.tx,f.b*e+f.d*n+f.ty,f.a*s+f.c*l+f.tx,f.b*s+f.d*l+f.ty,f.a*a+f.c*c+f.tx,f.b*a+f.d*c+f.ty,h),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,n,s,l){return this._tick++,this._activePath.ellipse(e,n,s,l,this._transform.clone()),this}circle(e,n,s){return this._tick++,this._activePath.circle(e,n,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*n+s.tx,s.b*e+s.d*n+s.ty),this}moveTo(e,n){this._tick++;const s=this._transform,l=this._activePath.instructions,a=s.a*e+s.c*n+s.tx,c=s.b*e+s.d*n+s.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=a,l[0].data[1]=c,this):(this._activePath.moveTo(a,c),this)}quadraticCurveTo(e,n,s,l,a){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}rect(e,n,s,l){return this._tick++,this._activePath.rect(e,n,s,l,this._transform.clone()),this}roundRect(e,n,s,l,a){return this._tick++,this._activePath.roundRect(e,n,s,l,a,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,s,l,a=0,c){return this._tick++,this._activePath.regularPoly(e,n,s,l,a,c),this}roundPoly(e,n,s,l,a,c){return this._tick++,this._activePath.roundPoly(e,n,s,l,a,c),this}roundShape(e,n,s,l){return this._tick++,this._activePath.roundShape(e,n,s,l),this}filletRect(e,n,s,l,a){return this._tick++,this._activePath.filletRect(e,n,s,l,a),this}chamferRect(e,n,s,l,a,c){return this._tick++,this._activePath.chamferRect(e,n,s,l,a,c),this}star(e,n,s,l,a=0,c=0){return this._tick++,this._activePath.star(e,n,s,l,a,c,this._transform.clone()),this}svg(e){return this._tick++,Jy(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,s,l,a,c){return e instanceof Ee?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,s,l,a,c),this)}transform(e,n,s,l,a,c){return e instanceof Ee?(this._transform.append(e),this):(Kf.set(e,n,s,l,a,c),this._transform.append(Kf),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n],l=s.action;if(l==="fill"){const a=s.data;e.addBounds(a.path.bounds)}else if(l==="texture"){const a=s.data;e.addFrame(a.dx,a.dy,a.dx+a.dw,a.dy+a.dh,a.transform)}if(l==="stroke"){const a=s.data,c=a.style.alignment,h=a.style.width*(1-c),f=a.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){var l;if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let s=!1;for(let a=0;a<n.length;a++){const c=n[a],h=c.data,f=h.path;if(!c.action||!f)continue;const m=h.style,g=f.shapePath.shapePrimitives;for(let x=0;x<g.length;x++){const _=g[x].shape;if(!m||!_)continue;const v=g[x].transform,k=v?v.applyInverse(e,s3):e;if(c.action==="fill")s=_.contains(k.x,k.y);else{const w=m;s=_.strokeContains(k.x,k.y,w.width,w.alignment)}const P=h.hole;if(P){const w=(l=P.shapePath)==null?void 0:l.shapePrimitives;if(w)for(let A=0;A<w.length;A++)w[A].shape.contains(k.x,k.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};hc.defaultFillStyle={color:16777215,alpha:1,texture:Ge.WHITE,matrix:null,fill:null,textureSpace:"local"};hc.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ge.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Es=hc;class Vs extends k0{constructor(e){e instanceof Es&&(e={context:e});const{context:n,roundPixels:s,...l}=e||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new Es,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Vs(this._context.clone()):(this._ownedContext=null,new Vs(this._context))}lineStyle(e,n,s){Oe(dt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return e&&(l.width=e),n&&(l.color=n),s&&(l.alpha=s),this.context.strokeStyle=l,this}beginFill(e,n){Oe(dt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),n!==void 0&&(s.alpha=n),this.context.fillStyle=s,this}endFill(){Oe(dt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Es.defaultStrokeStyle.width||e.color!==Es.defaultStrokeStyle.color||e.alpha!==Es.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Oe(dt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Oe(dt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Oe(dt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Oe(dt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Oe(dt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Oe(dt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}sn.add(gm,ym);const Cn={nom:{nomcomplet:"Test Hero"},niveauGlobal:1,classe:{1:{classeId:"fighter"}},pvActuels:12,pvMax:12,CA:16,caracs:{force:{FOR:16},dexterite:{DEX:14,modDEX:2},constitution:{CON:14}}},o3={player:{d:"m 69.048457,20.142976 c -0.141111,0.105834 -1.234722,0.282223 -2.434166,0.352778 -2.504723,0.176389 -3.633611,0.740834 -4.445,2.293056 -0.352778,0.599722 -0.9525,1.622778 -1.411111,2.328333 -0.881945,1.340556 -2.046111,4.233334 -2.328334,5.891389 -0.105833,0.564445 -0.599722,2.2225 -1.093611,3.633611 -0.458611,1.446389 -1.093611,4.021667 -1.375833,5.785556 -0.282222,1.763888 -0.740833,3.421944 -1.023056,3.774721 -0.282222,0.3175 -0.599722,0.811389 -0.740833,1.093611 -0.141111,0.282223 0.07056,0.141112 0.458611,-0.352777 0.846667,-1.023056 0.9525,-0.740834 0.211667,0.670277 -0.282222,0.564445 -0.423333,1.093612 -0.282222,1.199445 0.105833,0.105833 -0.176389,0.811389 -0.635,1.516944 -0.740834,1.234722 -0.811389,1.27 -1.128889,0.564445 -0.176389,-0.388056 -0.881945,-0.987778 -1.516945,-1.305278 -1.093611,-0.529167 -1.305277,-0.529167 -2.434166,0.03528 -1.940278,0.917222 -4.233333,3.139722 -5.115278,4.974167 -0.670278,1.411111 -1.27,1.975555 -3.598333,3.457222 -3.033889,1.905 -5.750277,4.797777 -7.161388,7.584722 -0.458612,0.917222 -1.305278,2.116666 -1.869723,2.681111 -1.305277,1.340555 -3.139722,6.0325 -2.575277,6.596944 0.246944,0.246945 1.411111,0.423334 2.892777,0.388056 l 2.434167,-0.03528 -0.176389,1.093611 c -0.105833,0.599722 -0.352778,2.187222 -0.564444,3.563056 -0.176389,1.340555 -0.599723,2.751666 -0.917223,3.069166 -0.423333,0.458611 -0.493888,1.023056 -0.3175,2.257778 0.211667,1.763889 0.705556,2.610555 1.481667,2.610555 0.352778,0 0.423333,0.3175 0.246945,1.093611 -0.105834,0.635 -0.03528,1.199445 0.176388,1.340556 0.246945,0.141111 0.282223,0.987778 0.07056,2.681111 -0.176388,1.375833 -0.211666,2.822222 -0.105833,3.280833 0.246945,1.093611 -0.529167,3.774722 -1.340555,4.515556 -0.388056,0.3175 -0.670278,0.846666 -0.670278,1.199444 0,0.317504 -0.493889,0.740834 -1.234722,1.023054 -1.693334,0.59972 -2.081389,1.44639 -1.799167,4.1275 0.352778,3.35139 -0.282222,6.70278 -1.446389,7.69056 -1.128889,0.98778 -1.234722,2.61055 -0.282222,4.40972 0.3175,0.635 0.635,1.79917 0.705555,2.61056 0.529167,5.53861 0.529167,5.82083 -0.03528,6.0325 -0.3175,0.10583 -0.599722,0.21166 -0.670277,0.21166 -0.03528,0 -0.176389,-0.635 -0.3175,-1.44639 -0.176388,-1.02305 -0.423333,-1.51694 -0.917222,-1.62277 -0.529166,-0.14112 -0.705555,-0.49389 -0.705555,-1.30528 -0.03528,-2.11667 -2.575278,-6.17361 -3.633611,-5.75028 -1.023056,0.38806 -1.093611,2.54 -0.246945,4.86833 0.705556,1.79917 0.740834,2.2225 0.352778,2.96334 -0.246944,0.49389 -0.352778,1.30527 -0.246944,1.905 0.141111,0.70555 0,1.5875 -0.458612,2.57527 -0.388055,0.84667 -0.705555,2.2225 -0.705555,3.06917 0,1.51694 0,1.51694 -0.776111,0.9525 -2.081389,-1.44639 -2.187222,-1.44639 -1.940278,-0.0706 0.105833,0.70556 0.529167,1.72862 0.881945,2.25778 0.846666,1.16417 3.563055,7.51417 4.656666,10.83028 1.305278,3.98639 3.386667,7.83167 5.432778,9.91305 2.786944,2.89278 3.986389,2.46945 5.185833,-1.86972 1.058333,-3.81 0.917222,-5.57389 -0.635,-7.83166 -0.705556,-1.02306 -1.340556,-1.76389 -1.375833,-1.5875 -0.03528,0.17639 -0.176389,0.74083 -0.282223,1.27 -0.3175,1.37583 -0.670277,1.23472 -1.340555,-0.56445 l -0.564444,-1.55222 2.151944,0.17639 c 1.199444,0.0705 3.175,0.28222 4.374444,0.49389 2.434166,0.35278 3.739444,0.0705 4.303889,-1.05834 0.599722,-1.05833 0.458611,-2.08138 -0.3175,-2.8575 -0.881945,-0.88194 -1.305278,-1.9 -1.093612,-2.75166 0.07056,-0.28223 0.105834,-0.21167 0.105834,0.14111 0,0.45861 0.211667,0.67028 0.740833,0.67028 0.670278,0 0.740834,0.17639 0.740834,1.905 0,1.69333 0.07056,1.86972 0.740833,2.68111 0.423333,0.49389 1.164167,1.09361 1.693333,1.34055 0.9525,0.42334 1.023055,0.635 1.058333,3.24556 0.03528,1.55278 0.141111,3.42139 0.211667,4.16222 0.105833,0.74084 0.3175,3.13973 0.529166,5.32112 0.388055,4.48027 0.388055,4.48027 1.728611,5.60916 1.199444,1.02306 1.481666,1.09361 3.845277,1.02306 2.504722,-0.0353 2.610555,0 2.328333,0.70555 -0.211667,0.49389 -0.740833,1.23473 -1.164167,1.65806 -0.881944,0.84667 -0.987777,1.5875 -0.423333,2.85139 0.3175,0.70556 0.3175,1.02306 0,1.51695 -0.776111,1.19944 -0.670278,2.43416 0.3175,3.59833 0.529167,0.59972 0.9525,1.34055 0.9525,1.65806 0,0.35278 0.176389,1.19944 0.352778,1.94028 0.388055,1.48167 0.03528,2.43417 -1.481667,4.19806 -1.763889,2.08139 -1.481667,3.28083 1.023055,4.33916 0.811389,0.35278 1.905,1.02306 2.434167,1.44639 0.529166,0.45861 1.340555,0.88195 1.799166,1.02306 0.423334,0.10583 1.234723,0.49389 1.763889,0.84667 0.493889,0.3175 1.481667,0.67028 2.187222,0.74083 1.128889,0.10584 1.411111,0 2.716389,-1.16416 0.846667,-0.70556 1.905,-1.55223 2.293056,-1.86973 0.387,-0.35278 1.093611,-0.70555 1.516944,-0.81139 0.388056,-0.10583 1.375834,-0.59972 2.187223,-1.12889 1.199444,-0.77611 1.728611,-0.9525 3.245555,-0.98778 1.411112,0 2.081389,-0.14111 3.069167,-0.635 1.234722,-0.59972 1.481667,-0.59972 3.633611,0.17639 1.234722,0.45861 2.681111,0.88195 3.245556,0.9525 2.610555,0.3175 3.915833,0.88195 5.432777,2.32834 0.776112,0.74083 2.116667,1.79916 2.963334,2.32833 0.846666,0.56445 1.799166,1.41111 2.151944,1.94028 0.387,0.56444 1.093611,1.16416 1.552222,1.37583 2.751667,1.34055 3.598333,1.72861 4.409722,1.94028 0.493889,0.14111 2.257778,0.59972 3.915833,1.02305 4.268056,1.16417 10.725278,2.08139 18.202223,2.50473 7.019999,0.35277 17.390555,0.21166 19.097777,-0.24695 0.917223,-0.24694 2.081389,-0.38805 2.575278,-0.28222 0.564445,0.17639 1.375834,-0.0353 2.469445,-0.70556 0.881944,-0.52916 1.5875,-1.05833 1.5875,-1.19944 0,-0.14111 -0.282223,-0.24695 -0.635,-0.24695 -0.388056,0 -1.093611,-0.21166 -1.587501,-0.45861 -0.493889,-0.24694 -1.446389,-0.49389 -2.187222,-0.56444 -0.705555,-0.0353 -2.046111,-0.24695 -2.928055,-0.45862 -0.846667,-0.24694 -2.504723,-0.52916 -3.739445,-0.67027 -1.234722,-0.17639 -2.716389,-0.38806 -3.245555,-0.49389 -0.493889,-0.0706 -2.116667,-0.21167 -3.598334,-0.24695 -4.621389,-0.10583 -10.5125,-0.81138 -13.688055,-1.65805 -1.763889,-0.49389 -3.951111,-1.16417 -4.898611,-1.44639 -2.187222,-0.67028 -6.243611,-3.21028 -7.979999,-4.93889 -0.846667,-0.84666 -2.151945,-1.97555 -2.998612,-2.50472 -2.681111,-1.76389 -7.373889,-6.0325 -8.431389,-7.72584 -0.776111,-1.23472 -2.116666,-3.10444 -3.033889,-4.09122 -1.763888,-1.86972 -3.457222,-4.86833 -3.351389,-5.89139 0.141111,-1.16999 0.987778,-1.48166 3.457222,-1.23471 1.481667,0.17639 2.434167,0.14111 3.774722,-0.17639 2.328333,-0.52917 3.421944,-0.52917 5.221111,0 0.846667,0.28222 2.681111,0.635 4.092222,0.81139 1.446389,0.17639 3.316111,0.49389 4.162778,0.67027 1.658055,0.38806 4.586111,0.74084 9.313889,1.16417 1.622777,0.14111 3.421944,0.38806 4.051111,0.56445 0.705555,0.17639 1.875555,0.35278 2.681111,0.35278 0.917222,0.0353 2.504444,0.24694 3.633333,0.49389 2.116666,0.42333 6.6675,0.45861 7.096389,0.0706 0.141111,-0.17639 -1.093611,-0.56444 -2.716389,-0.88194 -5.045833,-0.98778 -8.501111,-1.62278 -11.459722,-2.04611 -1.587778,-0.21167 -3.704444,-0.635 -4.768889,-0.88195 -1.093611,-0.24694 -2.822222,-0.49389 -3.845277,-0.59972 -1.058333,-0.0706 -3.245555,-0.3175 -4.938889,-0.52916 -1.693333,-0.21167 -3.598889,-0.49389 -4.303889,-0.59973 -0.776111,-0.10583 -2.963333,-0.49389 -4.898889,-0.84666 -1.940555,-0.3175 -4.409999,-0.70556 -5.468333,-0.84667 -3.774722,-0.45861 -6.491111,-1.34055 -9.172222,-2.99861 -3.104444,-1.97555 -3.916111,-3.28083 -2.681389,-4.51555 0.881944,-0.88194 1.37,-0.98778 4.233611,-0.98778 1.622778,0 3.316111,-0.14111 3.739445,-0.24694 0.423332,-0.14111 3.174999,-0.14111 6.102777,-0.0353 4.586111,0.17639 5.679722,0.10583 7.372778,-0.42334 1.058333,-0.35278 2.928055,-0.67028 4.198055,-0.74083 1.269999,-0.0353 2.963331,-0.21167 3.739442,-0.35278 0.77611,-0.17639 2.681666,-0.35278 4.2325,-0.38806 3.70417,-0.14111 10.51278,-1.12889 12.80584,-1.905 0.84666,-0.28222 2.71639,-0.67028 4.16278,-0.84667 1.48166,-0.14111 2.68111,-0.35278 2.68111,-0.45861 0,-0.14111 -0.42334,-0.17639 -0.98778,-0.14111 -1.37583,0.14111 -11.28805,1.34055 -13.93444,1.69333 -1.19945,0.17639 -3.77473,0.42333 -5.70945,0.52916 -3.35139,0.21167 -5.93334,0.52917 -9.87806,1.30528 -2.01056,0.38806 -3.81,0.35278 -7.51417,-0.0353 -2.53972,-0.24695 -5.29138,-0.67028 -6.19638,-0.9525 -0.91722,-0.24695 -3.21056,-0.52917 -5.11556,-0.67028 -1.905,-0.14111 -3.70417,-0.38806 -4.02167,-0.52917 -0.45861,-0.21167 -0.14111,-0.49389 1.44639,-1.27 2.08639,-0.98778 2.92805,-1.69333 3.81083,-3.35139 0.45861,-0.88194 1.19944,-1.97555 1.5875,-2.39889 0.77611,-0.77611 0.84666,-1.16416 0.387,-2.54 -0.387,-1.19944 -0.28223,-1.79916 0.35278,-2.50472 0.49389,-0.52916 0.635,-0.98778 0.635,-2.2225 0,-1.27 0.10583,-1.65805 0.56444,-1.97555 0.3175,-0.28223 0.74084,-0.88195 0.9525,-1.37584 0.21167,-0.49389 0.70556,-1.23472 1.09361,-1.65806 0.49389,-0.49389 0.74084,-1.05833 0.74084,-1.79916 0,-1.41111 0.70555,-2.11667 1.83444,-1.83445 0.77611,0.17639 0.84666,0.0706 0.77611,-1.19944 -0.0706,-1.41111 -0.0353,-1.44639 0.74083,-1.30528 0.77611,0.17639 0.84667,0.10584 0.74084,-0.67027 -0.0706,-0.49389 -0.0353,-1.16417 0.0706,-1.44639 0.14111,-0.38806 0.0706,-0.59972 -0.21167,-0.88051 -0.52917,-0.45861 -0.49389,-1.19944 0.14111,-1.83444 0.42334,-0.38806 0.45861,-0.56445 0.14111,-1.19945 -0.21167,-0.45861 -0.59972,-0.84666 -0.84667,-0.84666 -0.21166,0 -0.38805,-0.14111 -0.38805,-0.28223 0,-0.17639 -0.67028,-0.24694 -1.79917,-0.17639 -1.5875,0.07055 -1.86972,-0.03528 -2.8575,-1.09361 -0.59972,-0.635 -1.30528,-1.5875 -1.55222,-2.11667 -0.24695,-0.52916 -0.74084,-1.23472 -1.09361,-1.62278 -0.3175,-0.35277 -0.77611,-1.09361 -0.98778,-1.62277 -0.21167,-0.52917 -0.70555,-1.234723 -1.05833,-1.5875 -0.35278,-0.352778 -0.88195,-1.164167 -1.16417,-1.799167 -0.28222,-0.670278 -0.88194,-1.446389 -1.37583,-1.799167 -0.45861,-0.3175 -1.19944,-0.9525 -1.62278,-1.446389 -1.48166,-1.693333 -4.02166,-3.633611 -5.43278,-4.092222 -1.76389,-0.564444 -4.80361,-0.599722 -6.102778,-0.07056 -0.599722,0.246944 -1.875555,0.705555 -2.851666,1.023055 -0.987778,0.352778 -2.293056,0.776111 -2.892778,0.9525 -0.599722,0.141111 -1.763889,0.599722 -2.575278,0.987778 -0.811389,0.388056 -1.940278,0.740834 -2.504722,0.776111 -0.564445,0.03528 -1.234723,0.176389 -1.516945,0.3175 -0.3175,0.105833 -1.164167,0.211667 -1.940278,0.211667 -1.516944,0 -1.5875,-0.176389 -0.987778,-2.469722 0.211667,-0.846667 0.599723,-1.693333 0.881945,-1.905 0.282222,-0.211667 0.635,-0.987778 0.846667,-1.693333 0.176388,-0.705556 0.564444,-1.79851 0.881944,-2.434033 0.3175,-0.635523 0.882502,-2.04621 1.234723,-3.139822 0.352778,-1.128889 0.987778,-2.786944 1.446389,-3.704166 0.458611,-0.881944 0.9525,-2.257777 1.128889,-3.069166 0.176389,-0.846666 0.564444,-1.799166 0.881944,-2.151944 0.352778,-0.352778 0.776111,-1.234722 0.987778,-2.010833 0.176389,-0.776111 0.705555,-2.010833 1.128889,-2.751666 0.423333,-0.776111 1.023055,-2.081389 1.340555,-2.928056 0.352778,-0.811389 0.776111,-1.693333 1.023056,-1.875555 0.352777,-0.246944 0.493888,-0.670277 0.493888,-1.481666 0,-0.740833 0.141111,-1.340555 0.3175,-1.340555 0.176389,0 0.458611,-0.352778 0.670278,-0.776111 0.176388,-0.458611 0.740833,-1.164166 1.234722,-1.551944 0.493889,-0.352778 0.881944,-0.846667 0.881944,-1.128889 0,-0.246944 0.176389,-0.846667 0.352778,-1.340555 0.176389,-0.493889 0.387,-1.375833 0.493889,-1.975555 0.141111,-0.670278 0.529167,-1.269999 1.023056,-1.622777 0.529166,-0.388056 0.846666,-0.987778 0.846666,-1.552223 0,-0.529166 0.141111,-1.234722 0.352778,-1.552222 0.211667,-0.3175 0.564444,-1.093611 0.740833,-1.728611 0.176389,-0.670278 0.493889,-1.340555 0.740833,-1.516944 0.211667,-0.176389 0.387,-0.670278 0.387,-1.093611 0,-0.388055 0.211667,-0.987778 0.493889,-1.375833 0.282222,-0.387944 0.811389,-1.164055 1.128889,-1.7285 0.352778,-0.599722 0.8825,-1.340611 1.199889,-1.658111 0.352,0 0.247,-0.987889 0.5645,-1.623 0.352777,-0.705556 0.705555,-0.881944 1.869722,-0.987778 1.552223,-0.105833 1.552223,-0.105833 1.869723,1.164167 0.176389,0.705555 0.458611,1.375833 0.670278,1.446389 0.176389,0.03528 0.599722,0.599722 0.917222,1.234722 0.3175,0.635 0.781777,1.468666 1.076167,1.919499 0.294388,0.450833 0.939833,1.690666 1.583055,2.980388 0.643222,1.289722 1.510499,2.815777 1.927999,3.368277 0.416778,0.552389 0.757667,1.150389 0.757667,1.329222 0,0.178944 0.329389,0.595722 0.731556,0.926389 0.402167,0.330667 0.939833,1.038333 1.195611,1.570833 0.255776,0.532611 0.823,1.316777 1.260555,1.744944 0.437556,0.428167 0.795389,0.917389 0.795389,1.096333 0,0.178833 0.374389,0.792166 0.831445,1.362055 0.457055,0.569889 1.091944,1.418999 1.410111,1.887833 0.318167,0.468944 0.977444,1.184944 1.465444,1.591055 0.488111,0.406111 0.887611,0.896222 0.887611,1.089889 0,0.193778 0.494889,0.837 1.094611,1.43 0.599723,0.592889 1.539778,1.588222 2.088778,2.2105 0.549111,0.622389 1.180389,1.317889 1.402167,1.544167 0.221778,0.226389 0.860111,0.826 1.418889,1.333556 0.558777,0.507444 1.083555,1.053389 1.166777,1.213722 0.08334,0.160333 0.669945,0.701 1.3035,1.201667 0.633556,0.500667 1.603611,1.299333 2.155889,1.7755 0.552389,0.476167 1.509556,1.172611 2.126945,1.547111 0.617278,0.3745 1.573333,1.0155 2.124333,1.424111 0.551,0.4085 1.176944,0.882833 1.3905,1.053722 0.213556,0.171 0.754333,0.528833 1.201667,0.795389 0.447333,0.266556 1.184166,0.767222 1.637277,1.112833 0.453222,0.3455 1.050611,0.721333 1.327278,0.835166 0.276555,0.113944 0.789722,0.410056 1.140667,0.657 0.350944,0.246944 1.381555,0.806277 2.290333,1.242722 0.908889,0.436444 2.015666,0.993444 2.459222,1.237333 0.443555,0.243778 1.196444,0.565444 1.673277,0.714444 0.476833,0.148889 1.3895,0.526333 2.028833,0.839888 0.639444,0.313556 1.717278,0.714167 2.395722,0.890667 0.678333,0.176389 1.468555,0.446944 1.755,0.601611 0.286444,0.154555 1.060722,0.377833 1.720111,0.496944 0.659389,0.119111 1.574444,0.357 2.033166,0.528889 0.458722,0.171778 1.492111,0.442333 2.296444,0.600444 0.804444,0.158222 2.024222,0.438444 2.710444,0.623889 0.686333,0.185444 1.663667,0.395944 2.172,0.468889 0.508222,0.07283 1.410444,0.268389 2.004889,0.435889 0.594444,0.1675 1.582222,0.408389 2.195444,0.535167 0.613333,0.126778 1.599444,0.370666 2.191444,0.542444 0.592,0.171889 1.520889,0.373444 2.064222,0.448444 0.543444,0.07511 1.514333,0.268889 2.157667,0.430667 0.643444,0.161889 1.865444,0.410389 2.715444,0.5525 0.84989,0.142 1.78639,0.3605 2.08178,0.48617 0.2955,0.12578 1.12533,0.28389 1.84433,0.35178 0.71889,0.068 1.86122,0.298 2.53833,0.51167 0.67689,0.21367 1.82867,0.45872 2.5595,0.54422 0.73084,0.0854 1.63172,0.27717 2.00217,0.42617 0.37056,0.149 1.43917,0.3135 2.37578,0.36539 0.93672,0.0519 2.17939,0.18939 2.76139,0.3045 0.58189,0.11511 1.8165,0.29228 2.74339,0.39372 0.92689,0.10144 2.11311,0.27383 2.63683,0.38278 0.52383,0.10883 1.42094,0.16994 1.99372,0.13539 0.57289,-0.03467 1.63061,0.01489 2.35083,0.10922 0.72028,0.09422 2.401,0.20494 3.73594,0.24683 1.33494,0.04189 3.05067,0.136 3.81222,0.20906 0.76172,0.07294 2.485,0.13472 3.829,0.13772 3.08689,0.00689 7.66428,-0.17861 8.71728,-0.35928 0.35278,-0.06006 0.84678,-0.06439 1.09706,-0.00972 0.25017,0.05439 1.00928,0.03417 1.68628,-0.04583 1.0025,-0.11655 3.24011,-0.406 4.93172,-0.64611 0.42333,-0.06017 1.18683,-0.27082 1.69672,-0.46828 0.50978,-0.19739 1.50361,-0.48272 2.20917,-0.63494 0.70556,-0.15217 1.60444,-0.42772 1.997,-0.61283 0.39272,-0.18517 1.34739,-0.56017 2.12161,-0.83361 0.77428,-0.27339 1.91422,-0.78439 2.53328,-1.13517 0.61917,-0.35083 1.48372,-0.81817 1.92139,-1.03883 0.43761,-0.22061 1.08678,-0.6775 1.4425,-1.01589 0.35561,-0.33833 1.01683,-0.89461 1.46978,-1.23561 0.45294,-0.341 1.08428,-0.9035 1.40239,-1.25078 0.31811,-0.34728 0.98683,-1.01317 1.48683,-1.48094 0.5,-0.46778 1.20433,-1.28306 1.56583,-1.81183 0.3615,-0.52894 0.85239,-1.17483 1.09172,-1.43517 0.23944,-0.2605 0.91389,-1.12428 1.49828,-1.91872 0.5845,-0.79433 1.23983,-1.87694 1.456,-2.405 0.21628,-0.52811 0.68072,-1.48994 1.03272,-2.13772 0.35206,-0.64783 0.80994,-1.762 1.01878,-2.47689 0.20889,-0.71483 0.62422,-1.97339 0.92383,-2.79661 0.2995,-0.82322 0.71672,-2.16044 0.92711,-2.97194 0.21039,-0.81144 0.61194,-2.10578 0.89272,-2.87655 0.28083,-0.77078 0.61761,-2.08683 0.74894,-2.92444 0.13128,-0.83778 0.37683,-2.02228 0.54517,-2.632 0.16844,-0.60972 0.34106,-1.63789 0.38339,-2.28478 0.04222,-0.64694 0.23361,-1.88606 0.42528,-2.75372 0.19156,-0.86778 0.43689,-2.46183 0.54539,-3.54228 0.10856,-1.08044 0.37139,-2.81294 0.58456,-3.84978 0.21328,-1.03672 0.4635,-2.73011 0.5565,-3.763 0.09306,-1.03283 0.35561,-2.8205 0.58339,-3.97228 0.22789,-1.15183 0.47011,-2.92683 0.53894,-3.94483 0.06883,-1.01811 0.25628,-2.67305 0.41672,-3.67705 0.16039,-1.004 0.41472,-2.77617 0.56483,-3.93817 0.15011,-1.162 0.391,-2.9875 0.53511,-4.05683 0.14417,-1.06933 0.385,-2.89033 0.53528,-4.04644 0.15028,-1.15611 0.31372,-2.61217 0.36339,-3.23528 0.04961,-0.62311 0.27528,-2.17266 0.50183,-3.44333 0.22644,-1.27067 0.45711,-3.18594 0.51206,-4.25672 0.055,-1.07061 0.21339,-2.63294 0.35289,-3.47172 0.13939,-0.83878 0.31994,-2.20272 0.40111,-3.03161 0.08128,-0.82889 0.28772,-2.01983 0.45989,-2.64678 0.17228,-0.62694 0.32083,-1.48994 0.33017,-1.91789 0.0095,-0.42806 0.12039,-1.26328 0.24617,-1.856 0.12594,-0.59272 0.26094,-1.52361 0.29911,-2.06828 0.03806,-0.54461 0.21556,-1.49894 0.39472,-2.1205 0.17906,-0.62139 0.32661,-1.38417 0.32822,-1.69506 0.0016,-0.31089 0.19283,-1.11322 0.42467,-1.78255 0.23178,-0.66944 0.42206,-1.63778 0.42383,-2.15278 0.0018,-0.51511 0.20394,-1.53589 0.44928,-2.26861 0.24522,-0.73272 0.44678,-1.655 0.44833,-2.04939 0.0017,-0.3945 0.19744,-1.31183 0.43411,-2.038 0.23667,-0.72617 0.43317,-1.64222 0.436,-2.03578 0.0028,-0.39367 0.20789,-1.22106 0.45578,-1.83822 0.24789,-0.61728 0.45756,-1.42428 0.465,-1.79339 0.0074,-0.369 0.22272,-1.18461 0.47839,-1.81272 0.25561,-0.62822 0.49028,-1.434 0.52139,-1.79017 0.031,-0.35628 0.23072,-1.1445 0.44322,-1.75183 0.21261,-0.60744 0.51589,-1.62622 0.67372,-2.26461 0.15761,-0.63828 0.44789,-1.5725 0.64472,-2.07672 0.19672,-0.50433 0.48472,-1.3785 0.639,-1.94261 0.15422,-0.56411 0.48972,-1.47228 0.74572,-2.01839 0.25589,-0.54622 0.64239,-1.60294 0.85856,-2.34878 0.21633,-0.74583 0.61039,-1.84255 0.87528,-2.43727 0.26494,-0.59472 0.61333,-1.59523 0.77333,-2.22306 0.16006,-0.62783 0.50594,-1.69339 0.76833,-2.36894 0.26244,-0.67556 0.61617,-1.83172 0.78606,-2.56994 0.16978,-0.73822 0.55039,-1.94983 0.84689,-2.69239 0.29644,-0.74256 0.67261,-1.95439 0.83539,-2.69389 0.16278,-0.73961 0.50984,-1.87483 0.77172,-2.52239 0.26194,-0.64756 0.63994,-1.76306 0.84,-2.47839 0.20011,-0.71533 0.56767,-1.81761 0.81678,-2.44994 0.249,-0.63222 0.64372,-1.85317 0.87706,-2.71339 0.23328,-0.86039 0.67694,-2.20211 0.98539,-2.98128 0.30861,-0.77928 0.70611,-1.98083 0.88367,-2.67028 0.17761,-0.68956 0.55384,-1.80894 0.83678,-2.48794 0.28294,-0.67889 0.69461,-1.89217 0.91483,-2.69683 0.38928,-1.4355 1.3175,-4.20078 2.68261,-7.9785 0.35883,-0.980611 0.89511,-2.721444 1.19183,-3.868278 0.29678,-1.146833 0.7955,-2.7675 1.10822,-3.601389 0.31283,-0.833889 0.82489,-2.5315 1.1375,-3.772833 0.31267,-1.241333 0.84139,-3.220889 1.17583,-4.399389 0.33444,-1.178611 0.85656,-3.381555 1.16011,-4.8955 0.30356,-1.513833 0.79583,-3.507167 1.09356,-4.429167 0.29772,-0.921889 0.7165,-2.530889 0.93044,-3.575 0.21389,-1.044 0.58589,-2.541111 0.82633,-3.326778 0.24044,-0.785778 0.43889,-1.709833 0.44044,-2.053444 0.0016,-0.343722 0.23044,-1.267777 0.50839,-2.053555 0.27789,-0.785667 0.63739,-2.101389 0.7985,-2.923277 0.16106,-0.821889 0.53989,-2.407 0.84117,-3.522556 0.30117,-1.115611 0.73589,-3.0315 0.96683,-4.257833 0.23094,-1.226444 0.71694,-3.310778 1.07933,-4.632778 0.3625,-1.321944 0.85572,-3.402611 1.09511,-4.623722 0.23928,-1.221 0.57411,-2.715889 0.74389,-3.321777 0.16978,-0.605889 0.51194,-1.9815 0.76072,-3.056167 0.24872,-1.074722 0.74495,-2.972611 1.10245,-4.217444 0.35756,-1.244888 0.8845,-3.341555 1.17072,-4.659277 0.28628,-1.317611 0.76589,-3.127778 1.06583,-4.022555 0.29983,-0.894778 0.80656,-2.67 1.12606,-3.944389 0.31939,-1.274389 0.86728,-3.3005 1.21761,-4.502389 0.35044,-1.201944 0.87778,-3.158389 1.1715,-4.3475 0.29367,-1.189056 0.83022,-3.119611 1.19228,-4.290833 0.36206,-1.171166 0.88183,-2.996166 1.15417,-4.055555 0.27233,-1.059333 0.75661,-2.857 1.07606,-3.994722 0.31939,-1.137667 0.83506,-3.096777 1.14694,-4.354389 0.31183,-1.257611 0.82945,-3.217777 1.15011,-4.355444 0.32061,-1.137611 0.78672,-2.808611 1.03578,-3.713944 0.24906,-0.905278 0.71328,-2.546111 1.03161,-3.646889 0.31833,-1.100778 0.75872,-2.769555 0.97861,-3.708444 0.21983,-0.938944 0.68267,-2.629889 1.02839,-3.757777 0.34572,-1.127889 0.86506,-3.024667 1.154,-4.215667 0.28889,-1.191 0.80239,-3.003389 1.14139,-4.027722 0.33889,-1.024278 0.79417,-2.728722 1.0115,-3.787 0.21733,-1.058333 0.598,-2.583389 0.84617,-3.389278 0.24811,-0.805889 0.69211,-2.393833 0.986,-3.5285 0.29389,-1.134722 0.82694,-2.976333 1.18456,-4.092833 0.35756,-1.1165 0.79428,-2.792 0.97,-3.723167 0.17578,-0.931222 0.59411,-2.464555 0.92983,-3.407555 0.33578,-0.942889 0.77394,-2.553722 0.97317,-3.5795 0.19933,-1.025722 0.62489,-2.600611 0.94583,-3.499444 0.32095,-0.898889 0.77378,-2.437389 1.00645,-3.418278 0.23256,-0.980778 0.65517,-2.438889 0.93923,-3.2405 0.28406,-0.801667 0.72639,-2.207278 0.98211,-3.123445 0.25578,-0.916167 0.70483,-2.3405 0.99794,-3.1655 0.29306,-0.825 0.73417,-2.177833 0.98033,-3.006278 0.24622,-0.8285 0.72056,-2.269611 1.05389,-3.202222 0.33333,-0.932667 0.75506,-2.248722 0.93739,-2.924611 0.18244,-0.675833 0.64067,-2.077889 1.01806,-3.1155 0.37739,-1.037667 0.8335,-2.404944 1.013,-3.038333 0.17956,-0.633278 0.59378,-1.839889 0.92094,-2.681055 0.32706,-0.841167 0.79633,-2.1785 1.04244,-2.971889 0.24622,-0.793333 0.67167,-2.028444 0.94506,-2.744611 0.27328,-0.716222 0.66428,-1.892055 0.86894,-2.612611 0.20456,-0.720556 0.59089,-1.865444 0.85861,-2.544444 l 0.4855,-1.234055 -3.09375,-0.310889 c -6.65289,-0.663667 -9.5625,-0.759667 -13.99072,-0.468667 -3.07817,0.201833 -5.63994,0.5735 -7.30667,1.053444 -1.47494,0.424111 -4.29244,1.160289 -6.26,1.636289 z",transform:"translate(-5, 5)"},enemy:{d:"m 1179.4102,3716.9922 c -17.3907,-74.8555 -35.9414,-120.9844 -69.0313,-171.7774 -30.6094,-46.9726 -82.0898,-92.3789 -115.62499,-102 -9.15235,-2.625 -10.1875,-2.039 -14.46875,8.211 -2.53907,6.0703 -9.29688,27.6328 -15.01954,47.9101 -11.40625,40.4102 -25.3125,77.6563 -29,77.6563 -1.29296,0 -4.19531,-12.1133 -6.44921,-26.918 -6.85938,-45.0625 -25.47266,-111.832 -39.1875,-140.5703 -15.55469,-32.5898 -37.56641,-58.125 -60.26954,-69.918 -13.26171,-6.8906 -21.32421,-8.6875 -39.5039,-8.7929 -26.72266,-0.1563 -41.25781,5.8086 -60.45703,24.8164 -14.30469,14.164 -16.1836,14.9531 -16.28516,6.8594 -0.14062,-11.0079 -12.54687,-33.0313 -25.9375,-46.0235 -52.17578,-50.6328 -129.63672,-52.4961 -178.97266,-4.3008 -10.42578,10.1836 -21.48828,22.1836 -24.58203,26.6719 -5.5625,8.0625 -5.60937,7.9258 -4.17187,-11.4219 0.92187,-12.4336 11.65625,-51.1172 29.42578,-106.0351 62.49609,-193.1406 112.14844,-389.7969 155.69141,-616.6485 18.38671,-95.7812 35.44921,-222.3007 35.53125,-263.4609 l 0.0391,-17.1289 h -13.9961 c -32.30859,0 -86.14843,-21.6016 -135.19531,-54.2305 C 451.2891,2202.9102 384.21879,2073.8789 376.1602,1931.6914 l -2.07813,-36.6133 -92.28125,-185.9687 C 231.04687,1606.8203 167.20703,1474.6797 139.93359,1415.4609 76.816406,1278.4102 44.253906,1214.0586 17.546875,1173.6094 1.621094,1149.4805 -2.457031,1141.1289 1.300781,1140.3281 c 9.125,-1.9375 67.613281,12.9532 128.253909,32.6524 63.97656,20.789 114.91015,41.039 149.80859,59.5781 11.91406,6.3203 22.19141,10.9727 22.83203,10.332 0.64453,-0.6406 -6.85156,-34.75 -16.65625,-75.8008 -39.96484,-167.3398 -42.8164,-188.92964 -42.79297,-324.23043 0.0117,-82.66015 1.15625,-109.98046 5.83985,-139.60937 5.70703,-36.10156 23.48047,-112.28125 28.19531,-120.85156 2.13672,-3.87891 46.05469,69.26172 73.13281,121.80078 4.625,8.97265 11.3086,19.98047 14.85938,24.46094 l 6.44922,8.14843 7.98046,-17.9375 C 383.59375,709.01172 394.86328,683.32031 404.25,661.78125 442.76172,573.42969 496.08984,474 550.375,389.35156 c 9.78125,-15.26172 42.82031,-62.97265 73.42187,-106.04297 92.47657,-130.14843 130.32813,-180.25 132.13282,-174.89843 0.52734,1.57031 -3.46485,20.37109 -8.8711,41.78906 C 721.60937,251 718.21094,332 737.92187,367.83984 c 6.26954,11.39844 9.09766,13.5 19.33985,14.35157 15.53515,1.29687 20.58203,-1.5 82.62109,-45.72266 88.19531,-62.85938 122.33594,-82.6875 262.98829,-152.70703 50.1602,-24.97266 103.6289,-53.5 118.8008,-63.40234 40.8789,-26.64063 78.0976,-63.898442 97.6562,-97.757818 18.8321,-32.570312 19.3516,-32.203124 22.7032,16.007813 4.6406,66.839845 14.1093,105.718745 36.3984,149.460935 39.6289,77.75781 131.8516,149.3711 209.5,162.69141 26.8906,4.60937 41.2109,1.53906 61.5508,-13.20313 14.6797,-10.6289 35.6992,-47.6875 45.5781,-80.34765 10.5898,-35.05078 6.3516,-154.75 -7.5391,-212.890628 -0.9687,-4.039062 -0.3476,-7.339843 1.3711,-7.339843 5.0391,0 37.711,72.480471 57.3477,127.238281 9.9805,27.82031 29.4219,85.8125 43.2031,128.88281 29.3477,91.63672 46.9688,137.10938 72.8789,188.08985 19.2891,37.9375 83.0508,148.6289 89,154.48828 2.2188,2.1914 5.0313,0.57031 8.5195,-4.89844 19.4883,-30.47266 67.8711,-61.78125 106.2383,-68.76172 30.1407,-5.46875 31.6211,-2.66016 10.6211,20.03125 -22.9492,24.77734 -41.9375,63.57813 -49.4179,100.9375 -6.1602,30.76172 -5.543,104.87109 1.8984,228.39063 6.1016,101.17189 1.6406,283.24219 -8.4883,346.44139 l -1.9297,12.0078 35.5469,-20.2773 c 63.1797,-36.0625 178.2109,-81.5899 255.332,-101.082 17.0508,-4.3086 31.5782,-7.3204 32.3008,-6.6875 0.7188,0.6289 -6.7226,11.8085 -16.5312,24.8476 -42.1719,56.0508 -67.0704,92.3399 -95.8086,139.6328 -20.2422,33.3086 -84.3907,159.8594 -122.0118,240.6875 -34.7109,74.5703 -100.9687,208.5625 -127.4492,257.7422 l -23.3711,43.3789 8.5899,35.9297 c 16.332,68.2813 18.1992,120.6406 6.5,181.9883 -25.9492,136.0625 -111.0977,238.8125 -220.3477,265.8828 -25.1523,6.2305 -61.0625,6.8594 -84.3633,1.4805 -9.0976,-2.1094 -17.7031,-3.4141 -19.1328,-2.8984 -1.5,0.539 -13.2031,5.4765 -25.918,10.9687 -12.7148,5.4922 -29.6797,11.9668 -37.6992,14.3907 -95.7851,28.9882 -207.6836,34.25 -292.2891,13.2343 -8.3946,-2.1016 -15.6875,-3.4804 -16.2071,-3.0664 -1.3203,1.0781 1.8672,8.539 4.9453,11.9101 6.2383,6.8399 19.1797,15.7461 31.5117,21.7618 6.8086,3.2852 13.4492,6.6562 14.7578,7.4492 3.293,1.9532 8.6328,12.6289 11.5938,23.1719 2.0781,7.5078 2.4062,11.875 2.4062,31.8906 0,20.0742 -0.332,24.3359 -2.4414,31.9375 -1.3438,4.934 -4.125,11.6094 -6.2032,14.8399 -5.9189,9.2305 -19.1523,21.9492 -30.1367,28.6641 -2.8164,1.7148 -9.6016,5.4336 -15.0821,8.2734 -12.2071,6.2696 -13.9571,7.7266 -20.5899,17.2149 -8.1796,11.6914 -11.9804,14.4687 -24.2148,17.9961 -6.0312,1.7226 -12.1797,1.9609 -17.3828,0.6797 -2.4336,-0.6094 -4.7812,-0.9141 -5.2149,-0.6719 -0.4336,0.2422 -1.789,2.6445 -3.0117,5.3398 -3.2812,7.2696 -3.3164,12.9297 -0.125,20.3359 1.957,4.5664 5.8398,9.5313 10.3555,12.8008 4.1562,3 26,15.2383 40.0273,22.32 27.3672,13.6953 70.2969,31.5352 111.4961,46.6758 16.8164,6.1484 36.9648,13.75 44.7773,16.8906 7.8125,3.1406 22.1172,8.8789 31.7852,12.75 19.0351,7.6523 32.793,13.6914 39.7304,17.2812 2.8944,1.4844 7.2851,3.7618 9.7577,5.0625 4.75,2.5312 14.8281,11.0664 22.8672,19.1367 12.7968,12.8672 20.5546,26.6445 24.4453,43.6523 2.3398,10.1406 3.1406,35.5117 1.5117,46.8477 l -1.0782,7.6016 -24.914,0.085 c -13.7032,0.046 -37.8008,-0.1367 -53.5508,-0.4024 -32.8672,-0.5469 -87.1172,-2.168 -120.9102,-3.6211 -18.4102,-0.789 -25.1328,-0.7383 -25.1328,0.1875 0,0.8281 1.332,7.6367 2.9922,15.1289 1.664,7.4883 3.0273,13.8242 3.0312,14.0781 0,0.8281 -3.2344,1.3828 -11.3906,1.9688 -12.5704,0.9062 -52.2813,0.9062 -66.30473,0 -14.02339,-0.9141 -41.83594,-2.9883 -57.30469,-4.418 -5.82422,-0.5391 -17.48828,-1.582 -25.92187,-2.3242 -8.42969,-0.7461 -19.13282,-1.8008 -23.78125,-2.3555 -4.64844,-0.5547 -13.04688,-1.5391 -18.66407,-2.1914 -5.61718,-0.6563 -14.44922,-1.8125 -19.625,-2.5821 -5.17578,-0.7695 -13.30469,-1.9883 -18.0625,-2.707 -9.96875,-1.5039 -31.07813,-5.1328 -47.28516,-8.0234 -18.35156,-3.2383 -53.61328,-10.3047 -69.72656,-14.1211 -18.53907,-4.414 -30.53516,-7.0117 -39.95313,-8.6875 -15.79687,-2.8203 -32.78125,-6.6953 -47.48047,-10.8399 -7.61328,-2.1367 -14.70703,-3.9179 -15.76562,-3.9571 -3.16016,-0.1172 -2.16407,1.4258 4.17187,6.4492 3.41016,2.7422 16.42578,10.2149 36.37891,20.1758 17.28516,8.4844 31.63281,16.1172 29.66015,15.7695 -0.48828,-0.085 -4.40234,0.7071 -8.6875,1.7579 -19.33203,4.7812 -41.10156,7.2695 -65.16016,7.4414 -23.5664,0.168 -39.35156,-1.1953 -59.94921,-5.1797 -11.19532,-2.1953 -39.52735,-8.8281 -42.78907,-9.914 -2.61328,-0.8671 -1.13672,1.4805 5.17969,8.2305 6.70703,7.1563 11.48437,15.1797 18.22656,30.0547 4.45313,9.8437 16.75782,47.1797 19.83985,60.2148 1.42187,6.0743 7.01562,39.6133 7.01562,41.7735 0,0.6602 -3.82422,3.3555 -8.5039,6.0039 -17.83594,10.0274 -30.85156,10.789 -44.59766,14.3008 -23.10937,5.9101 -32.80468,9.6406 -25.05859,9.6406 1.75,0 15.57812,-3.1094 30.72266,-6.9219 z",transform:void 0}},l3="#87CEFA",a3="#FF0000";function u3(i){return i==="player"?l3:a3}function Zf(i){return i.replace(/"/g,"&quot;")}function c3(i){const e=i==="player"?"player":"enemy",{d:n,transform:s}=o3[e],l=u3(i),a=s?` transform="${Zf(s)}"`:"";return['<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" style="background:none">',"<g>",`<path d="${Zf(n)}"${a} fill="${l}" />`,"</g>","</svg>"].join("")}function Jf(i){const e=c3(i);return`data:image/svg+xml,${encodeURIComponent(e).replace(/'/g,"%27").replace(/"/g,"%22")}`}const h3=["./brute.json","./archer.json","./assassin.json","./ghost.json"],e0={types:h3},d3="brute",f3="Brute",p3="Frontliner robuste qui avance pour engager le joueur.",m3="brute",g3={hp:10,moveRange:3,attackDamage:2,armorClass:14},y3={type:"ground",speed:3,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},x3={id:d3,label:f3,description:p3,aiRole:m3,baseStats:g3,movement:y3},v3="archer",_3="Archer",w3="Tireur qui prefere garder une distance de securite avant de frapper.",S3="archer",C3={hp:7,moveRange:2,attackDamage:2,armorClass:13},k3={type:"ground",speed:2,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},b3={id:v3,label:_3,description:w3,aiRole:S3,baseStats:C3,movement:k3},P3="assassin",T3="Assassin",M3="Frappeur rapide qui cherche a se rapprocher pour porter un coup decisif.",E3="assassin",A3={hp:6,moveRange:3,attackDamage:3,armorClass:15},R3={type:"ground",speed:3,canPassThroughWalls:!1,canPassThroughEntities:!0,canStopOnOccupiedTile:!1},I3={id:P3,label:T3,description:M3,aiRole:E3,baseStats:A3,movement:R3},z3="ghost",D3="Fantome",L3="Esprit intangible capable de traverser les autres creatures.",j3="ghost",F3={hp:8,moveRange:4,attackDamage:3,armorClass:12},N3={type:"ghost",speed:4,canPassThroughWalls:!0,canPassThroughEntities:!0,canStopOnOccupiedTile:!1},B3={id:z3,label:D3,description:L3,aiRole:j3,baseStats:F3,movement:N3},$3=["./melee-strike.json","./dash.json","./second-wind.json","./throw-dagger.json"],t0={actions:$3},O3="melee-strike",G3="Frappe basique",U3="Attaque de melee simple contre une cible a 1 case.",H3="attack",V3={actionType:"action",movementCost:0},W3={target:"enemy",range:{min:0,max:1,shape:"single"},maxTargets:1,requiresLos:!0},Y3={perTurn:1,perEncounter:null,resource:null},X3=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"distance_max",target:"primary",max:1,reason:"Portee de melee uniquement."},{type:"target_alive",target:"primary",reason:"La cible doit avoir des PV restants."}],q3={bonus:5,critRange:20},Q3={formula:"1d6+3",critRule:"double-dice",damageType:"slashing"},K3=[{type:"damage",target:"primary",formula:"1d6 + modFOR",damageType:"slashing"},{type:"log",message:"Frappe basique inflige 1d6+FOR a la cible."}],Z3={priority:"finish_low_hp_target",successLog:"Attaque de melee effectuee.",failureLog:"Cible hors portee ou deja a terre."},J3=["martial","arme","starter"],ex={id:O3,name:G3,summary:U3,category:H3,actionCost:V3,targeting:W3,usage:Y3,conditions:X3,attack:q3,damage:Q3,effects:K3,aiHints:Z3,tags:J3},tx="dash",nx="Course",rx="Transforme l'action en 3 cases de mouvement en plus.",ix="movement",sx={actionType:"action",movementCost:0},ox={target:"self",range:{min:0,max:0,shape:"self"},maxTargets:1,requiresLos:!1},lx={perTurn:1,perEncounter:null,resource:null},ax=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."}],ux=[{type:"modify_path_limit",target:"self",delta:3,duration:"this_turn"},{type:"log",message:"Course: +3 cases de mouvement pour ce tour."}],cx={priority:"close_gap",successLog:"Course utilisee pour approcher.",failureLog:"Deja a portee, course ignoree."},hx=["mobilite","deplacement"],dx={id:tx,name:nx,summary:rx,category:ix,actionCost:sx,targeting:ox,usage:lx,conditions:ax,effects:ux,aiHints:cx,tags:hx},fx="second-wind",px="Second souffle",mx="Restaure une partie des PV en bonus action.",gx="support",yx={actionType:"bonus",movementCost:0},xx={target:"self",range:{min:0,max:0,shape:"self"},maxTargets:1,requiresLos:!1},vx={perTurn:null,perEncounter:1,resource:null},_x=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"stat_below_percent",who:"self",stat:"hp",percentMax:.75,reason:"Economiser tant que les PV sont hauts."}],wx=[{type:"heal",target:"self",formula:"1d10 + niveau",min:1},{type:"temp_hp",target:"self",amount:2,duration:"end_of_turn"},{type:"log",message:"Second souffle: soigne 1d10 + niveau."}],Sx={priority:"survive",successLog:"Second souffle declenche.",failureLog:"PV trop hauts ou tour non joueur."},Cx=["soin","defense","survie"],kx={id:fx,name:px,summary:mx,category:gx,actionCost:yx,targeting:xx,usage:vx,conditions:_x,effects:wx,aiHints:Sx,tags:Cx},bx="throw-dagger",Px="Lancer de dague",Tx="Attaque a distance courte avec une dague a lancer.",Mx="attack",Ex={actionType:"action",movementCost:0},Ax={target:"enemy",range:{min:1,max:4,shape:"single"},maxTargets:1,requiresLos:!0},Rx={perTurn:1,perEncounter:null,resource:{name:"dagger",pool:"bandolier",min:1}},Ix=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"distance_between",target:"primary",min:1,max:4,reason:"Hors de melee mais a portee de lancer."},{type:"resource_at_least",resource:"dagger",pool:"bandolier",value:1,reason:"Besoin d'une dague a lancer."}],zx={bonus:4,critRange:20},Dx={formula:"1d4+2",critRule:"double-dice",damageType:"piercing"},Lx=[{type:"damage",target:"primary",formula:"1d4 + modDEX",damageType:"piercing"},{type:"resource_spend",resource:"dagger",pool:"bandolier",amount:1},{type:"log",message:"Dague lancee: 1d4+DEX degats perforants."}],jx={priority:"poke_from_range",successLog:"Dague lancee.",failureLog:"Pas de dague ou cible hors portee."},Fx=["distance","arme","jet"],Nx={id:bx,name:Px,summary:Tx,category:Mx,actionCost:Ex,targeting:Ax,usage:Rx,conditions:Ix,attack:zx,damage:Dx,effects:Lx,aiHints:jx,tags:Fx},mr=12,Bn=8,xt=64,vl=mr*xt,Du=Bn*xt,S1=xt,dc=xt*.5,C1=vl/2,k1=dc*2,Bx=1841961;function Ri(i,e){return i>=0&&i<mr&&e>=0&&e<Bn}function kn(i,e){const n=S1/2,s=dc/2,l=(i-e)*n+C1,a=(i+e)*s+k1;return{x:l,y:a}}function $x(i,e){const n=S1/2,s=dc/2,l=i-C1,a=e-k1,c=l/n,h=a/s,f=(c+h)/2,m=(h-c)/2,g=Math.round(f),x=Math.round(m);return{x:g,y:x}}function Ox(i,e,n,s){const l=[];for(let a=-s;a<=s;a++)for(let c=-s;c<=s;c++){const h=e+c,f=n+a;if(!Ri(h,f))continue;Math.sqrt(c*c+a*a)<=s+.01&&l.push({x:h,y:f})}return{id:i,type:"circle",cells:l}}function Gx(i,e,n,s,l){const a=[],c=Math.floor(s/2),h=Math.floor(l/2);for(let f=n-h;f<=n+h;f++)for(let m=e-c;m<=e+c;m++)Ri(m,f)&&a.push({x:m,y:f});return{id:i,type:"rectangle",cells:a}}function Ux(i,e,n,s,l){const a=[];for(let c=1;c<=s;c++)for(let h=-c;h<=c;h++){let f=e,m=n;switch(l){case"right":f=e+c,m=n+h;break;case"left":f=e-c,m=n+h;break;case"down":f=e+h,m=n+c;break;case"up":f=e+h,m=n-c;break}Ri(f,m)&&a.push({x:f,y:m})}return{id:i,type:"cone",cells:a}}function Pi(i,e=1){const n=[];for(let l=0;l<e;l++)n.push(1+Math.floor(Math.random()*i));const s=n.reduce((l,a)=>l+a,0);return{rolls:n,total:s}}function Hx(i,e="normal",n=20){if(e==="advantage"){const l=Pi(20),a=Pi(20),c=Math.max(l.total,a.total);return{d20:{rolls:[l.total,a.total],total:c},bonus:i,total:c+i,mode:e,isCrit:c>=n}}if(e==="disadvantage"){const l=Pi(20),a=Pi(20),c=Math.min(l.total,a.total);return{d20:{rolls:[l.total,a.total],total:c},bonus:i,total:c+i,mode:e,isCrit:c>=n}}const s=Pi(20);return{d20:s,bonus:i,total:s.total+i,mode:e,isCrit:s.total>=n}}function Vx(i){const e=[],s=i.replace(/\s+/g,"").split(/(?=[+-])/);for(const l of s){if(!l)continue;const a=l.startsWith("-")?-1:1,c=l.replace(/^[+-]/,""),h=c.match(/^(\d*)d(\d+)$/i);if(h){const m=h[1]?parseInt(h[1],10):1,g=parseInt(h[2],10);e.push({diceCount:a*m,diceSides:g,modifier:0});continue}const f=parseInt(c,10);Number.isNaN(f)||e.push({diceCount:0,diceSides:0,modifier:a*f})}return e}function Wx(i,e){const n=!!(e!=null&&e.isCrit),s=(e==null?void 0:e.critRule)??"double-dice",l=Vx(i),a=[];let c=0;for(const m of l)if(m.diceCount!==0&&m.diceSides>0){const g=Math.abs(m.diceCount),x=n&&s==="double-dice"?g*2:g,_=Pi(m.diceSides,x);a.push(m.diceCount<0?{rolls:_.rolls,total:-_.total}:_)}else c+=m.modifier;let f=a.reduce((m,g)=>m+g.total,0)+c;return n&&s==="double-total"&&(f*=2),{dice:a,flatModifier:c,total:f,formula:i,isCrit:n}}function Lu(i,e){return`${i},${e}`}function Yx(i){return i.movementProfile?i.movementProfile:typeof i.moveRange=="number"?{type:"ground",speed:i.moveRange,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1}:null}function Xx(i,e,n,s,l,a,c){if(n<0||s<0||n>=mr||s>=Bn||!Ri(n,s))return!1;const h=n===c.x&&s===c.y;return!l.some(m=>m.id!==i.id&&m.hp>0&&m.x===n&&m.y===s)||h&&a?!0:e&&e.canPassThroughEntities?!(h&&e.canStopOnOccupiedTile===!1):!1}function n0(i,e,n,s){const l=Yx(i),a=l&&l.speed>0?Math.min(s.maxDistance,l.speed):s.maxDistance,c={x:i.x,y:i.y};if(c.x===e.x&&c.y===e.y)return[];const h=new Set,f=new Map,m=new Map,g=[],x=Lu(c.x,c.y);h.add(x),f.set(x,null),m.set(x,0),g.push(c);let _=null;const v=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}];for(;g.length>0;){const z=g.shift(),j=Lu(z.x,z.y),X=m.get(j)??0;if(!(X>=a))for(const B of v){const $=z.x+B.x,ce=z.y+B.y,he=Lu($,ce);if(h.has(he)||!Xx(i,l,$,ce,n,s.allowTargetOccupied??!1,e))continue;h.add(he),f.set(he,j),m.set(he,X+1);const K={x:$,y:ce};if(g.push(K),$===e.x&&ce===e.y){_=he,g.length=0;break}}}let k=_;if(!k){let z=null,j=Number.POSITIVE_INFINITY;for(const X of h){const[B,$]=X.split(",").map(Number),ce=Math.abs(B-e.x)+Math.abs($-e.y),he=m.get(X)??0;he!==0&&(he>a||ce<j&&(j=ce,z=X))}if(!z)return[];k=z}const P=[];let w=k;for(;w;){const[z,j]=w.split(",").map(Number);if(P.push({x:z,y:j}),w===x)break;w=f.get(w)??null}const A=P.reverse(),R=a+1;return A.length>R?A.slice(0,R):A}function qx(i,e){return e.find(n=>n.hp>0&&n.x===i.x&&n.y===i.y)??null}const Qx={"./melee-strike.json":ex,"./dash.json":dx,"./second-wind.json":kx,"./throw-dagger.json":Nx},Kx={"./brute.json":x3,"./archer.json":b3,"./assassin.json":I3,"./ghost.json":B3};function Zx(){const i=Array.isArray(e0.types)?e0.types:[],e=[];for(const n of i){const s=Kx[n];s?e.push(s):console.warn("[enemy-types] Type path missing in bundle:",n)}return e.length===0&&console.warn("[enemy-types] No enemy types loaded from index.json"),e}function Jx(i,e,n){const{x:s,y:l}=n;return{id:`enemy-${i+1}`,type:"enemy",enemyTypeId:e.id,enemyTypeLabel:e.label,aiRole:e.aiRole,moveRange:e.baseStats.moveRange,attackDamage:e.baseStats.attackDamage,armorClass:e.baseStats.armorClass,movementProfile:e.movement?e.movement:{type:"ground",speed:e.baseStats.moveRange,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},x:s,y:l,hp:e.baseStats.hp,maxHp:e.baseStats.hp}}function r0(i,e,n){return Math.max(e,Math.min(n,i))}function ju(i,e){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)}function e4(i){const e=Bn,n=mr,s=Math.floor(i/e),l=i%e;return{x:Math.max(0,n-1-s),y:l}}const i0=[{action:"move",label:"Se deplacer jusqu'a 3 cases (Manhattan)",color:"#2ecc71"},{action:"attack",label:"Attaque le joueur a distance 1 (2 degats)",color:"#e74c3c"},{action:"wait",label:"Attend si aucune action viable",color:"#7f8c8d"}],t4=()=>{var Oi,Gi,Js,eo;const i=ke.useRef(null),e=ke.useRef(null),n=ke.useRef(null),s=ke.useRef(null),[l,a]=ke.useState([]),[c,h]=ke.useState({id:"player-1",type:"player",x:0,y:Math.floor(Bn/2),hp:Cn.pvActuels,maxHp:Cn.pvMax}),[f,m]=ke.useState([]),[g,x]=ke.useState([]),[_,v]=ke.useState("player"),[k,P]=ke.useState(1),[w,A]=ke.useState(!1),[R,z]=ke.useState(!1),[j,X]=ke.useState(null),[B,$]=ke.useState([]),[ce,he]=ke.useState(0),[K,oe]=ke.useState(!1),[Pe,be]=ke.useState(3),[Se,ut]=ke.useState([]),[ee,ne]=ke.useState(null),[J,Z]=ke.useState(null),[te,M]=ke.useState("normal"),[N,ge]=ke.useState(null),[ye,we]=ke.useState(null),[Ce,De]=ke.useState([]),[Me,Ae]=ke.useState(!1),[it,on]=ke.useState({usedAction:!1,usedBonus:!1}),[Ve,wt]=ke.useState([]),[We,At]=ke.useState(null),[Hr,ln]=ke.useState("none"),[yr,Ot]=ke.useState([]),[Tn,Un]=ke.useState(null),[Hn,xr]=ke.useState(null),[Ii,zi]=ke.useState(null),[Di,Mn]=ke.useState(!1);function Vr(S){if(Di)return"Fallback local : poursuite/attaque basique du joueur";if(Hn===null)return"IA non appele pour l'instant";const F=Hn.find(O=>O.enemyId===S);if(!F)return"Aucune dcision reue pour cet ennemi";if(F.action==="move"){const O=typeof F.targetX=="number"?F.targetX:"?",re=typeof F.targetY=="number"?F.targetY:"?";return`Dplacement vers (${O}, ${re})`}return F.action==="attack"?"Attaque le joueur (distance 1)":"Attend ce tour"}function Wr(){if(!R||B.length===0)return null;const S=ce>=0&&ce<B.length?ce:0;return B[S]??null}function Vn(){B.length!==0&&he(S=>{const F=(S+1)%B.length;return F===0&&P(O=>O+1),F})}function vr(){if(R)return;const S=Cn.caracs.dexterite.modDEX,F=()=>Math.floor(Math.random()*20)+1,O=F(),re=O+S,G=[];G.push({id:c.id,kind:"player",initiative:re});const q=g.map(W=>{const Ie=F();return G.push({id:W.id,kind:"enemy",initiative:Ie}),{...W,initiative:Ie}});X(re),x(q),G.sort((W,se)=>se.initiative-W.initiative),$(G),he(0),z(!0);const Q=G[0];Q&&(Q.kind==="player"?fe(`Initiative: Joueur ${re} (d20=${O}, mod=${S})  le joueur commence.`):fe(`Initiative: Joueur ${re} (d20=${O}, mod=${S})  ${Q.id} commence (initiative ${Q.initiative}).`))}function fe(S){a(F=>[S,...F].slice(0,12))}function Yr(S){De(F=>[S,...F].slice(0,6)),fe(S)}ke.useEffect(()=>{const S=Zx();m(S)},[]),ke.useEffect(()=>{K&&!R&&g.length>0&&vr()},[K,R,g.length]),ke.useEffect(()=>{const S=Array.isArray(t0.actions)?t0.actions:[],F=[];for(const O of S){const re=Qx[O];re?F.push(re):console.warn("[actions] Action path missing in bundle:",O)}F.length===0&&console.warn("[actions] No actions loaded from index.json"),ut(F),ne(F.length?F[0].id:null)},[]),ke.useEffect(()=>{if(!K||!R)return;const S=Wr();if(S){if(S.kind==="player"){v("player"),on({usedAction:!1,usedBonus:!1}),Ae(!1),ge(null),we(null);return}w||(v("enemies"),Cr(S.id))}},[K,R,B,ce,w]);function Xr(){if(g.length===0)return null;let S=null;for(const F of g){const O=ju(c,F);(S===null||O<S)&&(S=O)}return S}function Ys(S,F,O){if(F.type!=="enemy")return{ok:!1,reason:"La cible selectionnee n'est pas un ennemi."};if(F.hp<=0)return{ok:!1,reason:"La cible est deja a terre."};const re=S.targeting;if(!re||re.target!=="enemy")return{ok:!1,reason:"Cette action ne cible pas un ennemi."};const G=ju(O,F),q=re.range;if(q){if(typeof q.min=="number"&&G<q.min)return{ok:!1,reason:`Cible trop proche pour ${S.name} (distance ${G}, min ${q.min}).`};if(typeof q.max=="number"&&G>q.max)return{ok:!1,reason:`Cible hors portee pour ${S.name} (distance ${G}, max ${q.max}).`}}for(const Q of S.conditions||[]){if(Q.type==="distance_max"&&typeof Q.max=="number"&&G>Q.max)return{ok:!1,reason:Q.reason||`Distance cible > ${Q.max}.`};if(Q.type==="distance_between"){const W=typeof Q.min=="number"?Q.min:typeof(q==null?void 0:q.min)=="number"?q.min:null,se=typeof Q.max=="number"?Q.max:typeof(q==null?void 0:q.max)=="number"?q.max:null;if(W!==null&&G<W)return{ok:!1,reason:Q.reason||`Distance cible < ${W}.`};if(se!==null&&G>se)return{ok:!1,reason:Q.reason||`Distance cible > ${se}.`}}if(Q.type==="target_alive"&&F.hp<=0)return{ok:!1,reason:Q.reason||"La cible doit avoir des PV restants."}}return{ok:!0}}function _r(S){var q,Q;const F=[],O=[];_!=="player"&&F.push("Action bloquee pendant le tour des ennemis.");const re=(q=S.targeting)==null?void 0:q.target,G=(Q=S.targeting)==null?void 0:Q.range;if(re==="enemy"){const W=Xr();W===null?F.push("Aucune cible ennemie presente."):(O.push(`Distance mini ennemie: ${W}`),typeof(G==null?void 0:G.min)=="number"&&W<G.min&&F.push(`Trop proche (< ${G.min}).`),typeof(G==null?void 0:G.max)=="number"&&W>G.max&&F.push(`Hors portee (> ${G.max}).`))}for(const W of S.conditions||[]){if(W.type==="phase"&&W.mustBe&&W.mustBe!==_&&F.push(W.reason||"Phase incorrecte."),W.type==="distance_max"&&re==="enemy"){const se=Xr();se!==null&&typeof W.max=="number"&&se>W.max&&F.push(W.reason||`Distance > ${W.max}.`)}if(W.type==="distance_between"&&re==="enemy"){const se=Xr();se!==null&&(typeof W.min=="number"&&se<W.min&&F.push(W.reason||`Distance < ${W.min}.`),typeof W.max=="number"&&se>W.max&&F.push(W.reason||`Distance > ${W.max}.`))}}return{enabled:F.length===0,reasons:F,details:O}}function qr(S){var O;const F=[];if(S.perTurn&&F.push(`${S.perTurn}/tour`),S.perEncounter&&F.push(`${S.perEncounter}/rencontre`),(O=S.resource)!=null&&O.name){const re=S.resource.pool?` (${S.resource.pool})`:"";F.push(`Ressource: ${S.resource.name}${re}`)}return F.length?F.join(" | "):"Libre"}function Qr(S){const{range:F,target:O}=S;return F.shape==="self"?"Portee: soi-meme":F.min===F.max?`Portee: ${F.max} (${O})`:`Portee: ${F.min}-${F.max} (${O})`}function Li(S){switch(S.type){case"phase":return`Phase requise: ${S.mustBe??"?"}`;case"distance_max":return`Distance <= ${S.max??"?"}`;case"distance_between":return`Distance ${S.min??0}-${S.max??"?"}`;case"stat_below_percent":return`Stat ${S.stat} < ${Math.round((S.percentMax??0)*100)}%`;case"target_alive":return"Cible doit etre vivante";case"resource_at_least":return`Ressource ${S.resource??"?"} >= ${S.value??"?"}`;default:return S.reason||S.type}}function ji(S){switch(S.type){case"damage":return`Degats ${S.damageType??""} (${S.formula??"?"})`;case"heal":return`Soin (${S.formula??"?"})`;case"status":return`Etat: ${S.status??"?"} (${S.duration??"?"} tour)`;case"temp_hp":return`PV temporaires: ${S.amount??"?"}`;case"move":return`Deplacement +${S.maxSteps??"?"} (${S.direction??"direction libre"})`;case"resource_spend":return`Consomme ${S.amount??1} ${S.resource??"ressource"}`;case"modify_path_limit":return`+${S.delta??"?"} cases de mouvement ce tour`;default:return S.type}}function Wn(S){var re;const F=(re=S.targeting)==null?void 0:re.range;if(!F)return;const O=`preview-${S.id}`;if(F.shape==="rectangle"){Ot([{id:O,kind:"rectangle",width:Math.max(1,F.max),height:Math.max(1,F.max)}]),fe(`Previsualisation rectangle pour ${S.name}.`);return}if(F.shape==="cone"){Ot([{id:O,kind:"cone",range:Math.max(1,F.max),direction:"right"}]),fe(`Previsualisation cone (direction droite) pour ${S.name}.`);return}Ot([{id:O,kind:"circle",radius:Math.max(1,F.max)}]),fe(`Previsualisation de portee pour ${S.name}.`)}function Yn(S){var Q,W,se;const F=(Q=S.actionCost)==null?void 0:Q.actionType,O=F==="action",re=F==="bonus";if(O&&it.usedAction){fe(`Action ${S.name} refusee: action principale deja utilisee ce tour.`);return}if(re&&it.usedBonus){fe(`Action ${S.name} refusee: action bonus deja utilisee ce tour.`);return}const G=_r(S);if(!G.enabled){fe(`Action ${S.name} bloque: ${G.reasons.join(" | ")}`);return}Z(S.id),ge(null),we(null),Ae(!1),on(Ie=>({usedAction:Ie.usedAction||O,usedBonus:Ie.usedBonus||re}));const q=((W=S.aiHints)==null?void 0:W.successLog)||"Action validee. Prets pour les jets.";fe(`${S.name}: ${q}`),((se=S.targeting)==null?void 0:se.target)==="enemy"?(ln("selecting"),At(null),fe("Selection de cible: cliquez sur un ennemi sur la grille ou dans la liste.")):(ln("none"),At(null))}function Xn(){return J&&Se.find(S=>S.id===J)||null}function Xs(S){return S?S.attack||S.damage||S.skillCheck?!0:(S.effects||[]).some(O=>typeof O.formula=="string"&&O.formula.trim().length>0):!1}function Fi(){var Q,W;const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.attack){fe("Cette action ne requiert pas de jet de touche.");return}if(Me){fe("Jet de touche deja effectue pour cette action ce tour. Validez une nouvelle action ou terminez le tour.");return}let F=null;if(((Q=S.targeting)==null?void 0:Q.target)==="enemy"){if(!We){fe("Aucune cible ennemie selectionnee pour cette action. Selectionnez une cible avant le jet.");return}const se=g.find(Ie=>Ie.id===We);if(!se){fe("Cible ennemie introuvable ou deja vaincue.");return}F=typeof se.armorClass=="number"?se.armorClass:null}const O=Hx(S.attack.bonus,te,S.attack.critRange??20);ge(O),Ae(!0),we(null);const re=O.mode==="normal"?`${O.d20.total}`:`${O.d20.rolls.join(" / ")} -> ${O.d20.total}`,G=((W=S.targeting)==null?void 0:W.target)==="enemy"&&We?` sur ${We}`:"",q=`Jet de touche (${S.name})${G} : ${re} + ${O.bonus} = ${O.total}`;if(F!==null){const Ie=O.total>=F||O.isCrit?`TOUCHE (CA ${F})${O.isCrit?" (critique!)":""}`:`RATE (CA ${F})`;Yr(`${q} -> ${Ie}`)}else Yr(`${q}${O.isCrit?" (critique!)":""}`)}function Kr(){var se,Ie,ve;const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.damage){fe("Cette action ne requiert pas de jet de degats.");return}if(S.attack&&!N){fe("Un jet de touche est requis avant les degats pour cette action.");return}let F=null,O=null;if(((se=S.targeting)==null?void 0:se.target)==="enemy"){if(!We){fe("Aucune cible ennemie selectionnee pour cette action. Selectionnez une cible avant le jet de degats.");return}if(F=g.findIndex(je=>je.id===We),F===-1){fe("Cible ennemie introuvable ou deja vaincue.");return}const _e=g[F];O=typeof _e.armorClass=="number"?_e.armorClass:null}const re=!!(N!=null&&N.isCrit);if(O!==null&&S.attack&&N&&!(N.total>=O||N.isCrit)){const Be=((Ie=S.targeting)==null?void 0:Ie.target)==="enemy"&&We?` sur ${We}`:"";fe(`L'attaque (${S.name})${Be} a manque la cible (CA ${O}). Pas de degats.`);return}const G=Wx(S.damage.formula,{isCrit:re,critRule:S.damage.critRule});we(G);const q=G.dice.map(_e=>_e.rolls.join("+")).join(" | "),Q=G.total,W=((ve=S.targeting)==null?void 0:ve.target)==="enemy"&&We?` sur ${We}`:"";Yr(`Degats (${S.name})${W} : ${q||"0"} + ${G.flatModifier} = ${Q}${re?" (critique)":""}`),typeof F=="number"&&F>=0&&x(_e=>{if(F===null||F<0||F>=_e.length)return _e;const je=[..._e],Be={...je[F]};return Be.hp=Math.max(0,Be.hp-Q),je[F]=Be,je})}function qs(){const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.attack){fe("Mode auto: pas de jet de touche necessaire."),S.damage&&Kr();return}Fi(),setTimeout(()=>{S.damage&&Kr()},50)}function Ni(S){if(_!=="player")return;const F=i.current;if(!F)return;const O=F.querySelector("canvas");if(!O)return;const re=O.getBoundingClientRect(),G=S.clientX-re.left,q=S.clientY-re.top,Q=G/re.width*vl,W=q/re.height*Du,{x:se,y:Ie}=$x(Q,W),ve=se,_e=Ie;if(!Ri(ve,_e))return;if(Hr==="selecting"){const Be=[c,...g],Ue=qx({x:ve,y:_e},Be);if(!Ue||Ue.type!=="enemy"){fe(`Pas d'ennemi sur (${ve}, ${_e}).`);return}const $e=Xn();if(!$e){fe("Aucune action validee pour selectionner une cible.");return}const ft=Ys($e,Ue,c);if(!ft.ok){fe(ft.reason||"Cette cible n'est pas valide pour cette action.");return}At(Ue.id),ln("none"),fe(`Cible selectionnee: ${Ue.id}.`);return}const je=(Be,Ue)=>g.some($e=>$e.hp>0&&$e.x===Be&&$e.y===Ue);if(je(ve,_e)){fe(`Case (${ve}, ${_e}) occupee par un ennemi : impossible de s'y deplacer.`);return}wt(Be=>{const $e=[...Be];if($e.length>=5)return fe("Limite de 5 cases atteinte pour ce tour."),$e;let ft=$e.length>0?$e[$e.length-1]:{x:c.x,y:c.y};if(ft.x===ve&&ft.y===_e)return $e;let st=ft.x,pt=ft.y,kr=5-$e.length;for(;st!==ve&&kr>0;){const br=Math.sign(ve-st),xn=st+br;if(je(xn,pt)){fe(`Trajectoire bloquee par un ennemi en (${xn}, ${pt}).`);break}st=xn,$e.push({x:st,y:pt}),kr--}for(;pt!==_e&&kr>0;){const br=Math.sign(_e-pt),xn=pt+br;if(je(st,xn)){fe(`Trajectoire bloquee par un ennemi en (${st}, ${xn}).`);break}pt=xn,$e.push({x:st,y:pt}),kr--}return fe(kr===0&&(st!==ve||pt!==_e)?"Trajectoire tronquee: limite de 5 cases atteinte.":`Trajectoire: ajout de la case (${ve}, ${_e}).`),$e})}function Qs(){if(_!=="player"||Ve.length===0)return;const S=Ve[Ve.length-1];h(F=>({...F,x:S.x,y:S.y})),fe(`Deplacement valide vers (${S.x}, ${S.y}) via ${Ve.length} etape(s).`),wt([])}function wr(){_==="player"&&(wt([]),fe("Trajectoire reinitialisee."))}function Bi(){const S={x:c.x,y:c.y,hp:c.hp,maxHp:c.maxHp},F=g.map(O=>({id:O.id,x:O.x,y:O.y,hp:O.hp,maxHp:O.maxHp,type:O.enemyTypeId,aiRole:O.aiRole??null,moveRange:O.moveRange??null,attackDamage:O.attackDamage??null}));return{round:k,phase:_,grid:{cols:mr,rows:Bn},player:S,enemies:F}}function Sr(S){const F=new Set(g.map(G=>G.id)),O=new Set(["move","attack","wait"]),re=[];for(const G of S){if(!G||typeof G!="object")continue;if(!F.has(G.enemyId)){console.warn("[enemy-ai] Decision ignoree (enemyId inconnu):",G);continue}const q=(G.action||"wait").toLowerCase();if(!O.has(q)){console.warn("[enemy-ai] Decision ignoree (action invalide):",G);continue}if(q==="move"&&(typeof G.targetX!="number"||typeof G.targetY!="number")){console.warn("[enemy-ai] Decision move ignoree (cible manquante):",G);continue}re.push({...G,action:q})}return re}async function Tl(S){console.log("[enemy-ai] Envoi tat au backend:",S),Un(S),zi(null),Mn(!1);try{const F=await fetch("/api/enemy-ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!F.ok)throw new Error(`HTTP ${F.status}`);const O=await F.json();if(!O.decisions||!Array.isArray(O.decisions))throw new Error("Rponse backend invalide (decisions manquant).");const re=Sr(O.decisions);return console.log("[enemy-ai] Dcisions reues (filtres):",re),xr(re),re.length===0&&Mn(!0),re}catch(F){return console.warn("[enemy-ai] Erreur lors de la requete IA:",F),zi(F instanceof Error?F.message:String(F??"unknown")),xr(null),Mn(!0),console.warn("[enemy-ai] Dcisions manquantes, utilisation du fallback local."),[]}}async function Cr(S){A(!0),wt([]),Ot([]);const F=Bi(),re=(await Tl(F)).filter(G=>G.enemyId===S);re.length===0?(Mn(!0),xr([]),x(G=>{const q=G.map(_e=>({..._e}));let Q={...c};const W=q.find(_e=>_e.id===S);if(!W)return G;const se=typeof W.moveRange=="number"?W.moveRange:3,Ie=[Q,...q],ve=n0(W,{x:Q.x,y:Q.y},Ie,{maxDistance:se,allowTargetOccupied:!0});if(W.plannedPath=ve,ve.length===0)fe(`${W.id} ne trouve pas de chemin valide vers le joueur (fallback, reste en place).`);else{const _e=ve[ve.length-1];if(W.x=_e.x,W.y=_e.y,Math.abs(W.x-Q.x)+Math.abs(W.y-Q.y)<=1){const Be=typeof W.attackDamage=="number"?W.attackDamage:2;Q={...Q,hp:Math.max(0,Q.hp-Be)},fe(`${W.id} suit un chemin et attaque le joueur pour ${Be} degats (fallback).`)}else fe(`${W.id} suit un chemin vers (${_e.x}, ${_e.y}) (fallback).`)}return h(Q),q})):(Mn(!1),xr(re),x(G=>{const q=G.map(W=>({...W}));let Q={...c};for(const W of re){const se=q.find(ve=>ve.id===W.enemyId);if(!se)continue;const Ie=(W.action||"wait").toLowerCase();if(Ie==="wait"){fe(`${se.id} attend.`);continue}if(Ie==="move"){let ve=W.targetX,_e=W.targetY;const je=W;if((typeof ve!="number"||typeof _e!="number")&&je.target&&typeof je.target.x=="number"&&typeof je.target.y=="number"&&(ve=je.target.x,_e=je.target.y),typeof ve!="number"||typeof _e!="number"){fe(`${se.id}: decision MOVE ignoree (pas de cible valide).`);continue}const Be=typeof se.moveRange=="number"?se.moveRange:3,Ue=r0(ve,0,mr-1),$e=r0(_e,0,Bn-1),ft=[Q,...q],st=n0(se,{x:Ue,y:$e},ft,{maxDistance:Be,allowTargetOccupied:!0});if(se.plannedPath=st,st.length===0){fe(`${se.id}: aucun trajet valide vers (${Ue}, ${$e}), reste en place.`);continue}const pt=st[st.length-1];se.x=pt.x,se.y=pt.y,fe(`${se.id} suit un chemin vers (${pt.x}, ${pt.y}).`);continue}if(Ie==="attack")if(ju(se,Q)<=1){const _e=typeof se.attackDamage=="number"?se.attackDamage:2;Q={...Q,hp:Math.max(0,Q.hp-_e)},fe(`${se.id} attaque le joueur pour ${_e} degats.`)}else fe(`${se.id} voulait attaquer mais est trop loin (ignore).`)}return h(Q),q})),A(!1),Vn()}function Zr(){const S=Wr();!S||S.kind!=="player"||(fe(`Fin du tour joueur (round ${k}).`),Vn())}function Jr(){Ot([{id:"demo-circle",kind:"circle",radius:2}]),fe("Zone d'effet: cercle (rayon 2) autour du joueur.")}function $i(){Ot([{id:"demo-rect",kind:"rectangle",width:3,height:3}]),fe("Zone d'effet: rectangle 3x3 centre sur le joueur.")}function Ml(){Ot([{id:"demo-cone",kind:"cone",range:4,direction:"right"}]),fe("Zone d'effet: cone vers la droite (portee 4).")}function El(){Ot([]),fe("Zones d'effet effacees.")}ke.useEffect(()=>{if(!K||!i.current||e.current)return;const S=new i1;e.current=S;let F=!1,O=null,re=!1;return(async()=>{if(await S.init({width:vl,height:Du,background:Bx,antialias:!0}),re=!0,F)return;const q=i.current;if(!q)return;q.appendChild(S.canvas);const Q=new mn;S.stage.addChild(Q);const W=new Vs;Q.addChild(W),(()=>{W.clear();for(let je=0;je<Bn;je++)for(let Be=0;Be<mr;Be++){if(!Ri(Be,je))continue;const Ue=kn(Be,je),$e=xt,ft=xt*.5,st=[Ue.x,Ue.y-ft/2,Ue.x+$e/2,Ue.y,Ue.x,Ue.y+ft/2,Ue.x-$e/2,Ue.y],pt=(Be+je)%2===0;W.poly(st).fill({color:pt?1381666:1908016,alpha:1})}})();const Ie=new Vs;Q.addChild(Ie),s.current=Ie;const ve=new mn;Q.addChild(ve),n.current=ve;const _e=()=>{const je=S.canvas,Be=je.parentElement;if(!Be)return;const Ue=Math.min(Be.clientWidth/vl,Be.clientHeight/Du);je.style.transformOrigin="top left",je.style.transform=`scale(${Ue})`};O=_e,_e(),window.addEventListener("resize",_e)})(),()=>{F=!0,O&&window.removeEventListener("resize",O),re&&e.current&&e.current.destroy(!0),e.current=null,n.current=null,s.current=null}},[K]),ke.useEffect(()=>{const S=n.current;if(!S)return;S.removeChildren();const F=[c,...g];for(const O of F){const re=new mn,G=Jf(O.type==="player"?"player":"enemy"),q=Ge.from(G),Q=new Ei(q);Q.anchor.set(.5),Q.width=xt*.9,Q.height=xt*.9,re.addChild(Q);const W=kn(O.x,O.y);re.x=W.x+xt*.05,re.y=W.y-xt*.1,S.addChild(re)}},[c,g]),ke.useEffect(()=>{const S=s.current;if(!S)return;S.clear();const F=yr.map(G=>{switch(G.kind){case"circle":return Ox(G.id,c.x,c.y,G.radius??1);case"rectangle":return Gx(G.id,c.x,c.y,G.width??1,G.height??1);case"cone":return Ux(G.id,c.x,c.y,G.range??1,G.direction??"right");default:return{id:G.id,type:"circle",cells:[]}}});for(const G of F)for(const q of G.cells){const Q=kn(q.x,q.y),W=xt,se=xt*.5,Ie=[Q.x,Q.y-se/2,Q.x+W/2,Q.y,Q.x,Q.y+se/2,Q.x-W/2,Q.y],ve=G.type==="circle"?3447003:G.type==="rectangle"?3066993:15158332;S.poly(Ie).fill({color:ve,alpha:.45})}const O=[c,...g];for(const G of O){const q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y],Ie=G.type==="player"?3066993:15158332;S.poly(se).fill({color:Ie,alpha:.2})}if(We){const G=g.find(q=>q.id===We);if(G){const q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y];S.poly(se).fill({color:3447003,alpha:.6})}}if(Ve.length>0){const G=Ve[Ve.length-1],q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y];S.poly(se).fill({color:15844367,alpha:.2})}for(const G of g){if(!G.plannedPath||G.plannedPath.length===0)continue;const q=G.plannedPath,Q=q[0],W=kn(Q.x,Q.y);S.setStrokeStyle({width:3,color:15158332,alpha:.9}),S.moveTo(W.x,W.y);for(const se of q.slice(1)){const Ie=kn(se.x,se.y);S.lineTo(Ie.x,Ie.y)}S.stroke()}if(Ve.length===0)return;S.setStrokeStyle({width:6,color:15844367,alpha:1});const re=kn(c.x,c.y);S.moveTo(re.x,re.y);for(const G of Ve){const q=kn(G.x,G.y);S.lineTo(q.x,q.y)}S.stroke()},[c,g,Ve,yr,We]);const Ke=Se.find(S=>S.id===ee)||Se[0]||null,Ze=Ke?_r(Ke):null,Le=Xn(),Ks=Xs(Le),Xt=_==="player",En=Wr(),Zs=B;return K?D.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"16px",height:"100vh",background:"#0b0b12",color:"#f5f5f5",fontFamily:"system-ui, sans-serif",padding:"16px",boxSizing:"border-box"},children:[D.jsxs("div",{style:{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"},children:[D.jsxs("div",{style:{marginBottom:8,padding:"6px 10px",background:"#111322",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:4,maxWidth:"100%"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[D.jsxs("span",{style:{fontSize:12,color:"#b0b8c4"},children:["Ordre d'initiative (round ",k,")"]}),En&&D.jsxs("span",{style:{fontSize:11,color:"#f1c40f"},children:["Tour actuel :"," ",En.kind==="player"?"Joueur":En.id]})]}),D.jsx("div",{style:{display:"flex",gap:8,alignItems:"center",overflowX:"auto",paddingBottom:2},children:Zs.map(S=>{const F=En&&S.id===En.id&&S.kind===En.kind,O=S.kind==="player",re=Jf(O?"player":"enemy"),G=O?{svg:re,label:"PJ"}:{svg:re,label:S.id};return D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:4,borderRadius:6,border:F?"2px solid #f1c40f":"1px solid #333",background:F?"#1b1b30":"#101020",minWidth:48},children:[D.jsx("img",{src:G.svg,alt:G.label,style:{width:32,height:32,objectFit:"contain",filter:O?"none":"grayscale(0.2)"}}),D.jsx("span",{style:{fontSize:10,marginTop:2,color:"#d0d6e0",whiteSpace:"nowrap"},children:G.label}),D.jsxs("span",{style:{fontSize:9,color:"#9aa0b5"},children:["Init ",S.initiative]})]},`${S.kind}-${S.id}`)})})]}),D.jsx("h1",{style:{marginBottom:8},children:"Mini Donjon (test-GAME)"}),D.jsx("p",{style:{marginBottom:8},children:"Tour par tour simple. Cliquez sur la grille pour definir une trajectoire (max 5 cases), validez le dplacement, puis terminez le tour pour laisser l'IA des ennemis jouer."}),D.jsx("div",{ref:i,onClick:Ni,style:{flex:"1 1 auto",border:"1px solid #333",overflow:"hidden",maxHeight:"min(80vh, 640px)",maxWidth:"min(100%, 1024px)"}}),D.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:Qs,style:{padding:"4px 8px",background:Xt&&Ve.length?"#2ecc71":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt&&Ve.length?"pointer":"default"},disabled:!Xt||Ve.length===0,children:"Valider le deplacement"}),D.jsx("button",{type:"button",onClick:wr,style:{padding:"4px 8px",background:Xt?"#e67e22":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt?"pointer":"default"},disabled:!Xt,children:"Reinitialiser trajet"}),D.jsx("button",{type:"button",onClick:Zr,style:{padding:"4px 8px",background:Xt?"#9b59b6":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt?"pointer":"default"},disabled:!Xt||w,children:"Fin du tour joueur"}),!Xt&&D.jsx("span",{style:{fontSize:12,alignSelf:"center"},children:"Tour des ennemis en cours..."})]})]}),D.jsxs("div",{style:{width:"360px",display:"flex",flexDirection:"column",gap:"12px"},children:[D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333"},children:[D.jsx("h2",{style:{margin:"0 0 8px"},children:"Etat du combat"}),D.jsxs("div",{children:[D.jsx("strong",{children:"Round :"})," ",k," |"," ",D.jsx("strong",{children:"Phase :"})," ",_==="player"?"Joueur":"Ennemis"]}),D.jsxs("div",{style:{fontSize:12,marginTop:4},children:[D.jsx("strong",{children:"Initiative PJ :"})," ",j??"en cours..."," "]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Nom :"})," ",Cn.nom.nomcomplet]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Niveau :"})," ",Cn.niveauGlobal," |"," ",D.jsx("strong",{children:"Classe :"})," ",Cn.classe[1].classeId]}),D.jsxs("div",{children:[D.jsx("strong",{children:"PV :"})," ",c.hp," / ",c.maxHp]}),D.jsxs("div",{children:[D.jsx("strong",{children:"CA :"})," ",Cn.CA]}),D.jsxs("div",{style:{marginTop:8},children:[D.jsx("strong",{children:"Caracs :"})," ","FOR ",Cn.caracs.force.FOR," | DEX"," ",Cn.caracs.dexterite.DEX," | CON"," ",Cn.caracs.constitution.CON]}),D.jsxs("div",{style:{marginTop:8,fontSize:12},children:[D.jsx("strong",{children:"Trajectoire :"})," ",Ve.length===0?"aucune":`(${c.x}, ${c.y}) -> `+Ve.map(S=>`(${S.x}, ${S.y})`).join(" -> ")]}),D.jsxs("div",{style:{marginTop:8,fontSize:11,opacity:.85},children:[D.jsx("strong",{children:"IA ennemis (debug) :"}),D.jsxs("div",{children:["Dernier appel :"," ",Tn?`round ${Tn.round}, phase ${Tn.phase}`:"aucun"]}),D.jsxs("div",{children:["Dcisions reues :"," ",Hn===null?"n/a":`${Hn.length} (fallback: ${Di?"oui":"non"})`]}),Ii&&D.jsxs("div",{children:["Erreur : ",Ii]})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#151524",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Ennemis"}),D.jsx("p",{style:{margin:0,fontSize:12,opacity:.85},children:"Chaque ennemi est une entit propre. Capacits IA : dplacement, attaque au contact, attente si aucune option."}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,maxHeight:"180px",overflowY:"auto",paddingRight:4},children:g.map(S=>{var F;return D.jsxs("div",{style:{background:"#0f0f19",border:"1px solid #2a2a3a",borderRadius:8,padding:"8px 10px",display:"flex",flexDirection:"column",gap:6},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[D.jsx("strong",{style:{color:"#f5f5f5"},children:S.id}),D.jsxs("span",{style:{fontSize:12,color:"#b0b8c4"},children:["PV ",S.hp," / ",S.maxHp]})]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Position : (",S.x,", ",S.y,")"]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Initiative :"," ",typeof S.initiative=="number"?S.initiative:"non definie"]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Type : ",S.enemyTypeLabel||S.enemyTypeId||"inconnu"," ",S.aiRole?`(role: ${S.aiRole})`:""]}),D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:i0.map(O=>D.jsx("span",{style:{background:O.color,color:"#0b0b12",borderRadius:4,padding:"2px 6px",fontSize:11,fontWeight:700},children:O.action.toUpperCase()},`${S.id}-${O.action}`))}),D.jsxs("div",{style:{fontSize:12,color:"#d0d6e0"},children:["Ce qu'il peut faire :"," ",i0.map(O=>O.label).join(" | ")]}),Le&&((F=Le.targeting)==null?void 0:F.target)==="enemy"&&(()=>{const O=Ys(Le,S,c),re=O.ok,G=We===S.id;return D.jsx("button",{type:"button",onClick:()=>{if(!re){fe(O.reason||`Cible ${S.id} invalide pour ${Le.name}.`);return}At(S.id),ln("none"),fe(`Cible selectionnee: ${S.id}.`)},disabled:!re,style:{marginTop:6,alignSelf:"flex-start",padding:"4px 8px",fontSize:11,borderRadius:4,border:"none",cursor:re?"pointer":"default",background:re?"#3498db":"#555",color:"#fff",opacity:G?1:.9},children:G?"Cible actuelle":"Cibler avec l'action validee"})})(),D.jsxs("div",{style:{fontSize:12,color:"#9cb2ff"},children:["Dernire dcision IA : ",Vr(S.id)]})]},S.id)})})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Actions detaillees"}),D.jsxs("p",{style:{margin:0,fontSize:12,opacity:.85},children:["Source: ",D.jsx("code",{children:"action-game/actions/index.json"}),". Liste chargee et verifiee localement (phase, distance)."]}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:"180px",overflowY:"auto",paddingRight:4},children:[Se.map(S=>{const F=_r(S),O=(Ke==null?void 0:Ke.id)===S.id,re=S.actionCost.actionType==="action"?"#8e44ad":S.actionCost.actionType==="bonus"?"#27ae60":S.actionCost.actionType==="reaction"?"#e67e22":"#2980b9",G=O?"#6c5ce7":"#2a2a3a";return D.jsxs("button",{type:"button",onClick:()=>ne(S.id),style:{textAlign:"left",background:O?"#1e1e2f":"#0f0f19",color:"#f5f5f5",border:`1px solid ${G}`,borderRadius:6,padding:"8px 10px",cursor:"pointer"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,marginBottom:4,alignItems:"center"},children:[D.jsx("span",{style:{fontWeight:600},children:S.name}),D.jsx("span",{style:{fontSize:11,padding:"2px 6px",borderRadius:4,background:re,color:"#fff"},children:S.actionCost.actionType})]}),D.jsx("div",{style:{fontSize:12,opacity:.9},children:S.summary||S.category}),D.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4,fontSize:11,alignItems:"center"},children:[D.jsx("span",{style:{color:F.enabled?"#2ecc71":"#e74c3c"},children:F.enabled?"Disponible":F.reasons[0]||"Bloquee"}),D.jsx("span",{style:{color:"#9aa0b5"},children:Qr(S.targeting)}),D.jsx("span",{style:{color:"#9aa0b5"},children:qr(S.usage)})]})]},S.id)}),Se.length===0&&D.jsx("div",{style:{fontSize:12,opacity:.8},children:"Aucune action chargee pour le moment."})]}),Ke&&D.jsxs("div",{style:{borderTop:"1px solid #2a2a3a",paddingTop:8,display:"flex",flexDirection:"column",gap:6},children:[D.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",fontSize:11},children:[D.jsx("span",{style:{background:"#2d2d40",color:"#d0d4f7",padding:"2px 6px",borderRadius:4},children:Ke.category}),(Oi=Ke.tags)==null?void 0:Oi.slice(0,4).map(S=>D.jsx("span",{style:{background:"#1f2a38",color:"#9bb0d6",padding:"2px 6px",borderRadius:4},children:S},S))]}),D.jsx("div",{style:{fontSize:12},children:Ke.summary||"Pas de resume."}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Cout:"})," ",Ke.actionCost.actionType," ","| Mouvement ",Ke.actionCost.movementCost]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Portee:"})," ",Qr(Ke.targeting)]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Usage:"})," ",qr(Ke.usage)]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Conditions:"}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginTop:4},children:[Ke.conditions.length===0&&D.jsx("span",{style:{color:"#9aa0b5"},children:"Aucune condition."}),Ke.conditions.map((S,F)=>D.jsxs("div",{style:{color:"#cfd3ec"},children:[Li(S),S.reason?`  ${S.reason}`:""]},`${S.type}-${F}`)),Ze&&D.jsxs("div",{style:{color:Ze.enabled?"#2ecc71":"#e74c3c"},children:["Etat:"," ",Ze.enabled?"OK pour ce tour":Ze.reasons.join(" | ")||"Bloque",Ze.details.length>0&&D.jsx("div",{style:{color:"#9aa0b5",marginTop:2},children:Ze.details.join(" / ")})]})]})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Effets:"}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,marginTop:4},children:Ke.effects.map((S,F)=>D.jsx("div",{style:{color:"#cfd3ec"},children:ji(S)},`${S.type}-${F}`))})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Hints IA:"})," ",((Gi=Ke.aiHints)==null?void 0:Gi.priority)||"n/a",D.jsxs("div",{style:{color:"#9aa0b5"},children:["Success: ",((Js=Ke.aiHints)==null?void 0:Js.successLog)||"n/a"]}),D.jsxs("div",{style:{color:"#9aa0b5"},children:["Failure: ",((eo=Ke.aiHints)==null?void 0:eo.failureLog)||"n/a"]})]}),D.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:()=>Wn(Ke),style:{padding:"4px 8px",background:"#2980b9",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Previsualiser"}),D.jsx("button",{type:"button",onClick:()=>Yn(Ke),disabled:!(Ze!=null&&Ze.enabled),style:{padding:"4px 8px",background:Ze!=null&&Ze.enabled?"#2ecc71":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Ze!=null&&Ze.enabled?"pointer":"default",fontSize:12},children:"Valider l'action"})]})]})]})]}),Ks&&D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Jets de des"}),D.jsx("p",{style:{margin:0,fontSize:12,opacity:.85},children:"Choisir une action, la valider, puis lancer le jet de touche et/ou de degats. Mode auto: enchaine touche + degats."}),D.jsxs("div",{style:{fontSize:12},children:["Action validee :"," ",Le?`${Le.name} (${Le.id})`:"aucune (valider une action d'abord)"]}),D.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["normal","advantage","disadvantage"].map(S=>D.jsx("button",{type:"button",onClick:()=>M(S),style:{padding:"4px 8px",background:te===S?"#8e44ad":"#2c2c3a",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:S},S))}),D.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:Fi,disabled:!(Le!=null&&Le.attack),style:{padding:"4px 8px",background:Le!=null&&Le.attack?"#2980b9":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Le!=null&&Le.attack?"pointer":"default",fontSize:12},children:"Lancer jet de touche"}),D.jsx("button",{type:"button",onClick:Kr,disabled:!(Le!=null&&Le.damage),style:{padding:"4px 8px",background:Le!=null&&Le.damage?"#27ae60":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Le!=null&&Le.damage?"pointer":"default",fontSize:12},children:"Lancer degats"}),D.jsx("button",{type:"button",onClick:qs,style:{padding:"4px 8px",background:"#9b59b6",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Mode auto (touche + degats)"})]}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[D.jsxs("div",{style:{background:"#101020",borderRadius:6,padding:8,border:"1px solid #26263a"},children:[D.jsx("div",{style:{fontWeight:600,marginBottom:4,fontSize:12},children:"Jet de touche"}),N?D.jsxs("div",{style:{fontSize:12,lineHeight:1.4},children:["d20: ",N.d20.rolls.join(" / "),"  ",N.d20.total," ","| bonus ",N.bonus," | total ",N.total," ",N.isCrit?"(critique)":""]}):D.jsx("div",{style:{fontSize:12,opacity:.7},children:"Pas encore lance."})]}),D.jsxs("div",{style:{background:"#101020",borderRadius:6,padding:8,border:"1px solid #26263a"},children:[D.jsx("div",{style:{fontWeight:600,marginBottom:4,fontSize:12},children:"Jet de degats"}),ye?D.jsxs("div",{style:{fontSize:12,lineHeight:1.4},children:["Des:"," ",ye.dice.length?ye.dice.map(S=>S.rolls.join("+")).join(" | "):""," ","| mod ",ye.flatModifier," | total ",ye.total," ",ye.isCrit?"(critique)":""]}):D.jsx("div",{style:{fontSize:12,opacity:.7},children:"Pas encore lance."})]})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Logs des jets:"}),D.jsxs("div",{style:{marginTop:4,display:"flex",flexDirection:"column",gap:2},children:[Ce.map((S,F)=>D.jsxs("div",{style:{color:"#dfe6ff"},children:["- ",S]},F)),Ce.length===0&&D.jsx("div",{style:{color:"#9aa0b5"},children:"Aucun jet enregistre."})]})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Zones d'effet (demo)"}),D.jsxs("p",{style:{margin:0,fontSize:12},children:["Ces boutons utilisent les helpers de ",D.jsx("code",{children:"boardEffects.ts"})," ","pour dessiner des zones en coordonnees de grille autour du joueur."]}),D.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[D.jsx("button",{type:"button",onClick:Jr,style:{padding:"4px 8px",background:"#2980b9",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Cercle R=2"}),D.jsx("button",{type:"button",onClick:$i,style:{padding:"4px 8px",background:"#27ae60",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Rectangle 3x3"}),D.jsx("button",{type:"button",onClick:Ml,style:{padding:"4px 8px",background:"#c0392b",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Cone portee 4"}),D.jsx("button",{type:"button",onClick:El,style:{padding:"4px 8px",background:"#7f8c8d",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Effacer zones"})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",flex:"1 1 auto",display:"flex",flexDirection:"column"},children:[D.jsx("h2",{style:{margin:"0 0 8px"},children:"Log"}),D.jsx("div",{style:{flex:"1 1 auto",overflowY:"auto",fontSize:12,lineHeight:1.4},children:l.map((S,F)=>D.jsxs("div",{children:["- ",S]},F))})]})]})]}):D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0b0b12",color:"#f5f5f5",fontFamily:"system-ui, sans-serif",padding:16,boxSizing:"border-box"},children:[D.jsx("h1",{style:{marginBottom:8},children:"Prparation du combat"}),D.jsx("p",{style:{marginBottom:16,fontSize:13,maxWidth:480,textAlign:"center"},children:"Configurez le combat avant de lancer la grille : nombre d'ennemis, puis dmarrez pour effectuer les jets d'initiative et entrer en mode tour par tour."}),D.jsxs("div",{style:{padding:16,borderRadius:8,background:"#141421",border:"1px solid #333",minWidth:260,display:"flex",flexDirection:"column",gap:12},children:[D.jsxs("label",{style:{fontSize:13},children:["Nombre d'ennemis :",D.jsx("input",{type:"number",min:1,max:8,value:Pe,onChange:S=>be(Math.max(1,Math.min(8,Number(S.target.value)||1))),style:{marginLeft:8,width:60,background:"#0f0f19",color:"#f5f5f5",border:"1px solid #333",borderRadius:4,padding:"2px 4px"}})]}),D.jsxs("p",{style:{fontSize:11,color:"#b0b8c4",margin:0},children:["Taille de la carte : actuellement fixe (",mr," x ",Bn,"). Un redimensionnement dynamique demandera une refonte de boardConfig.ts."]}),D.jsx("button",{type:"button",onClick:()=>{if(f.length===0){fe("Aucun type d'ennemi charge (enemyTypes). Impossible de generer le combat.");return}const S=[],F=O=>f[O%f.length];for(let O=0;O<Pe;O++)S.push(Jx(O,F(O),e4(O)));x(S),P(1),z(!1),$([]),he(0),oe(!0)},style:{marginTop:8,padding:"6px 12px",background:"#2ecc71",color:"#0b0b12",border:"none",borderRadius:4,cursor:"pointer",fontWeight:600,fontSize:13},children:"Lancer le combat"})]})]})},n4=document.getElementById("root");fm.createRoot(n4).render(D.jsx(t4,{}));export{o2 as $,e1 as A,$t as B,mn as C,gr as D,Ne as E,gn as F,Cl as G,C0 as H,lf as I,Ei as J,R2 as K,$2 as L,Ee as M,lt as N,_t as O,Et as P,ig as Q,Vu as R,sc as S,ul as T,Gu as U,uf as V,Su as W,cf as X,a2 as Y,c0 as Z,nn as _,bl as a,v0 as a0,t1 as a1,Oe as a2,dt as a3,ug as a4,Ig as a5,bg as a6,Kg as a7,Jg as a8,iy as a9,oy as aa,ly as ab,Es as ac,Ds as ad,Qf as ae,Ws as af,hg as ag,wl as ah,bi as ai,p1 as aj,Tf as ak,bf as al,Vs as am,Em as an,y1 as ao,G0 as b,Gn as c,Sg as d,sn as e,Pf as f,vg as g,Us as h,xl as i,ic as j,K0 as k,R0 as l,yn as m,Yd as n,W0 as o,Qg as p,Zg as q,Um as r,ny as s,sy as t,Ge as u,Mm as v,Yt as w,ay as x,rn as y,g0 as z};
