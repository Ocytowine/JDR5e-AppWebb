const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-BLTtb-rQ.js","assets/webworkerAll-dQdwEMNC.js","assets/colorToUniform-HZf-4tCc.js","assets/CanvasPool-PTxqZyKP.js","assets/WebGPURenderer-DcpEzpUM.js","assets/SharedSystems-CvoUS2QM.js","assets/WebGLRenderer-CO69RTTs.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ec(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lu={exports:{}},ws={},uu={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function i2(){if(Ld)return Te;Ld=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function w(M,N,ge){this.props=M,this.context=N,this.refs=P,this.updater=ge||v}w.prototype.isReactComponent={},w.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=w.prototype;function R(M,N,ge){this.props=M,this.context=N,this.refs=P,this.updater=ge||v}var z=R.prototype=new A;z.constructor=R,k(z,w.prototype),z.isPureReactComponent=!0;var j=Array.isArray,X=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function ce(M,N,ge){var ye,we={},Ce=null,De=null;if(N!=null)for(ye in N.ref!==void 0&&(De=N.ref),N.key!==void 0&&(Ce=""+N.key),N)X.call(N,ye)&&!$.hasOwnProperty(ye)&&(we[ye]=N[ye]);var Me=arguments.length-2;if(Me===1)we.children=ge;else if(1<Me){for(var Ae=Array(Me),it=0;it<Me;it++)Ae[it]=arguments[it+2];we.children=Ae}if(M&&M.defaultProps)for(ye in Me=M.defaultProps,Me)we[ye]===void 0&&(we[ye]=Me[ye]);return{$$typeof:i,type:M,key:Ce,ref:De,props:we,_owner:B.current}}function he(M,N){return{$$typeof:i,type:M.type,key:N,ref:M.ref,props:M.props,_owner:M._owner}}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function oe(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return N[ge]})}var Pe=/\/+/g;function be(M,N){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):N.toString(36)}function Se(M,N,ge,ye,we){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(Ce){case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case i:case e:De=!0}}if(De)return De=M,we=we(De),M=ye===""?"."+be(De,0):ye,j(we)?(ge="",M!=null&&(ge=M.replace(Pe,"$&/")+"/"),Se(we,N,ge,"",function(it){return it})):we!=null&&(K(we)&&(we=he(we,ge+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(Pe,"$&/")+"/")+M)),N.push(we)),1;if(De=0,ye=ye===""?".":ye+":",j(M))for(var Me=0;Me<M.length;Me++){Ce=M[Me];var Ae=ye+be(Ce,Me);De+=Se(Ce,N,ge,Ae,we)}else if(Ae=_(M),typeof Ae=="function")for(M=Ae.call(M),Me=0;!(Ce=M.next()).done;)Ce=Ce.value,Ae=ye+be(Ce,Me++),De+=Se(Ce,N,ge,Ae,we);else if(Ce==="object")throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return De}function ut(M,N,ge){if(M==null)return M;var ye=[],we=0;return Se(M,ye,"","",function(Ce){return N.call(ge,Ce,we++)}),ye}function ee(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var ne={current:null},J={transition:null},Z={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function te(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:ut,forEach:function(M,N,ge){ut(M,function(){N.apply(this,arguments)},ge)},count:function(M){var N=0;return ut(M,function(){N++}),N},toArray:function(M){return ut(M,function(N){return N})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Te.Component=w,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=R,Te.StrictMode=s,Te.Suspense=f,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Te.act=te,Te.cloneElement=function(M,N,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ye=k({},M.props),we=M.key,Ce=M.ref,De=M._owner;if(N!=null){if(N.ref!==void 0&&(Ce=N.ref,De=B.current),N.key!==void 0&&(we=""+N.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for(Ae in N)X.call(N,Ae)&&!$.hasOwnProperty(Ae)&&(ye[Ae]=N[Ae]===void 0&&Me!==void 0?Me[Ae]:N[Ae])}var Ae=arguments.length-2;if(Ae===1)ye.children=ge;else if(1<Ae){Me=Array(Ae);for(var it=0;it<Ae;it++)Me[it]=arguments[it+2];ye.children=Me}return{$$typeof:i,type:M.type,key:we,ref:Ce,props:ye,_owner:De}},Te.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Te.createElement=ce,Te.createFactory=function(M){var N=ce.bind(null,M);return N.type=M,N},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:h,render:M}},Te.isValidElement=K,Te.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ee}},Te.memo=function(M,N){return{$$typeof:m,type:M,compare:N===void 0?null:N}},Te.startTransition=function(M){var N=J.transition;J.transition={};try{M()}finally{J.transition=N}},Te.unstable_act=te,Te.useCallback=function(M,N){return ne.current.useCallback(M,N)},Te.useContext=function(M){return ne.current.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M){return ne.current.useDeferredValue(M)},Te.useEffect=function(M,N){return ne.current.useEffect(M,N)},Te.useId=function(){return ne.current.useId()},Te.useImperativeHandle=function(M,N,ge){return ne.current.useImperativeHandle(M,N,ge)},Te.useInsertionEffect=function(M,N){return ne.current.useInsertionEffect(M,N)},Te.useLayoutEffect=function(M,N){return ne.current.useLayoutEffect(M,N)},Te.useMemo=function(M,N){return ne.current.useMemo(M,N)},Te.useReducer=function(M,N,ge){return ne.current.useReducer(M,N,ge)},Te.useRef=function(M){return ne.current.useRef(M)},Te.useState=function(M){return ne.current.useState(M)},Te.useSyncExternalStore=function(M,N,ge){return ne.current.useSyncExternalStore(M,N,ge)},Te.useTransition=function(){return ne.current.useTransition()},Te.version="18.3.1",Te}var jd;function tc(){return jd||(jd=1,uu.exports=i2()),uu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function s2(){if(Fd)return ws;Fd=1;var i=tc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,x={},_=null,v=null;m!==void 0&&(_=""+m),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(x[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)x[g]===void 0&&(x[g]=f[g]);return{$$typeof:e,type:h,key:_,ref:v,props:x,_owner:a.current}}return ws.Fragment=n,ws.jsx=c,ws.jsxs=c,ws}var Nd;function o2(){return Nd||(Nd=1,lu.exports=s2()),lu.exports}var D=o2(),na={},cu={exports:{}},Bt={},hu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function a2(){return Bd||(Bd=1,(function(i){function e(J,Z){var te=J.length;J.push(Z);e:for(;0<te;){var M=te-1>>>1,N=J[M];if(0<a(N,Z))J[M]=Z,J[te]=N,te=M;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var Z=J[0],te=J.pop();if(te!==Z){J[0]=te;e:for(var M=0,N=J.length,ge=N>>>1;M<ge;){var ye=2*(M+1)-1,we=J[ye],Ce=ye+1,De=J[Ce];if(0>a(we,te))Ce<N&&0>a(De,we)?(J[M]=De,J[Ce]=te,M=Ce):(J[M]=we,J[ye]=te,M=ye);else if(Ce<N&&0>a(De,te))J[M]=De,J[Ce]=te,M=Ce;else break e}}return Z}function a(J,Z){var te=J.sortIndex-Z.sortIndex;return te!==0?te:J.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,x=null,_=3,v=!1,k=!1,P=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(J){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=J)s(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function j(J){if(P=!1,z(J),!k)if(n(f)!==null)k=!0,ee(X);else{var Z=n(m);Z!==null&&ne(j,Z.startTime-J)}}function X(J,Z){k=!1,P&&(P=!1,A(ce),ce=-1),v=!0;var te=_;try{for(z(Z),x=n(f);x!==null&&(!(x.expirationTime>Z)||J&&!oe());){var M=x.callback;if(typeof M=="function"){x.callback=null,_=x.priorityLevel;var N=M(x.expirationTime<=Z);Z=i.unstable_now(),typeof N=="function"?x.callback=N:x===n(f)&&s(f),z(Z)}else s(f);x=n(f)}if(x!==null)var ge=!0;else{var ye=n(m);ye!==null&&ne(j,ye.startTime-Z),ge=!1}return ge}finally{x=null,_=te,v=!1}}var B=!1,$=null,ce=-1,he=5,K=-1;function oe(){return!(i.unstable_now()-K<he)}function Pe(){if($!==null){var J=i.unstable_now();K=J;var Z=!0;try{Z=$(!0,J)}finally{Z?be():(B=!1,$=null)}}else B=!1}var be;if(typeof R=="function")be=function(){R(Pe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ut=Se.port2;Se.port1.onmessage=Pe,be=function(){ut.postMessage(null)}}else be=function(){w(Pe,0)};function ee(J){$=J,B||(B=!0,be())}function ne(J,Z){ce=w(function(){J(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){k||v||(k=!0,ee(X))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(f)},i.unstable_next=function(J){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var te=_;_=Z;try{return J()}finally{_=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=_;_=J;try{return Z()}finally{_=te}},i.unstable_scheduleCallback=function(J,Z,te){var M=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?M+te:M):te=M,J){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=te+N,J={id:g++,callback:Z,priorityLevel:J,startTime:te,expirationTime:N,sortIndex:-1},te>M?(J.sortIndex=te,e(m,J),n(f)===null&&J===n(m)&&(P?(A(ce),ce=-1):P=!0,ne(j,te-M))):(J.sortIndex=N,e(f,J),k||v||(k=!0,ee(X))),J},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(J){var Z=_;return function(){var te=_;_=Z;try{return J.apply(this,arguments)}finally{_=te}}}})(du)),du}var $d;function l2(){return $d||($d=1,hu.exports=a2()),hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function u2(){if(Od)return Bt;Od=1;var i=tc(),e=l2();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function _(t){return f.call(x,t)?!0:f.call(g,t)?!1:m.test(t)?x[t]=!0:(g[t]=!0,!1)}function v(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,r,o,u){if(r===null||typeof r>"u"||v(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function P(t,r,o,u,d,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){w[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];w[r]=new P(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){w[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){w[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){w[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){w[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){w[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){w[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){w[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(A,R);w[r]=new P(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){w[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),w.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){w[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});function z(t,r,o,u){var d=w.hasOwnProperty(r)?w[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,o,d,u)&&(o=null),u||d===null?_(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var j=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),oe=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,M;function N(t){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var ge=!1;function ye(t,r){if(!t||ge)return"";ge=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var u=L}Reflect.construct(t,[],r)}else{try{r.call()}catch(L){u=L}t.call(r.prototype)}else{try{throw Error()}catch(L){u=L}t()}}catch(L){if(L&&u&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),p=u.stack.split(`
`),y=d.length-1,C=p.length-1;1<=y&&0<=C&&d[y]!==p[C];)C--;for(;1<=y&&0<=C;y--,C--)if(d[y]!==p[C]){if(y!==1||C!==1)do if(y--,C--,0>C||d[y]!==p[C]){var b=`
`+d[y].replace(" at new "," at ");return t.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",t.displayName)),b}while(1<=y&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?N(t):""}function we(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=ye(t.type,!1),t;case 11:return t=ye(t.type.render,!1),t;case 1:return t=ye(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case B:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case be:return"Suspense";case Se:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oe:return(t.displayName||"Context")+".Consumer";case K:return(t._context.displayName||"Context")+".Provider";case Pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ut:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function De(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ae(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function it(t){var r=Ae(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function on(t){t._valueTracker||(t._valueTracker=it(t))}function Ve(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Ae(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function We(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function At(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hr(t,r){r=r.checked,r!=null&&z(t,"checked",r,!1)}function an(t,r){Hr(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ot(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ot(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function yr(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ot(t,r,o){(r!=="number"||wt(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Tn=Array.isArray;function Un(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Hn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Tn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Ii(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function zi(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Di(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mn(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Di(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vr,Wr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Vn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){fe.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),vr[r]=vr[t]})});function Yr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||vr.hasOwnProperty(t)&&vr[t]?(""+r).trim():r+"px"}function Xr(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Yr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var Ys=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(t,r){if(r){if(Ys[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function qr(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Li(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Wn=null,Yn=null;function Xn(t){if(t=os(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=yo(r),ji(t.stateNode,t.type,r))}}function Xs(t){Wn?Yn?Yn.push(t):Yn=[t]:Wn=t}function Fi(){if(Wn){var t=Wn,r=Yn;if(Yn=Wn=null,Xn(t),r)for(t=0;t<r.length;t++)Xn(r[t])}}function Kr(t,r){return t(r)}function qs(){}var Ni=!1;function Qs(t,r,o){if(Ni)return t(r,o);Ni=!0;try{return Kr(t,r,o)}finally{Ni=!1,(Wn!==null||Yn!==null)&&(qs(),Fi())}}function wr(t,r){var o=t.stateNode;if(o===null)return null;var u=yo(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Bi=!1;if(h)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Bi=!1}function Ta(t,r,o,u,d,p,y,C,b){var L=Array.prototype.slice.call(arguments,3);try{r.apply(o,L)}catch(H){this.onError(H)}}var Cr=!1,Zr=null,Jr=!1,$i=null,Ma={onError:function(t){Cr=!0,Zr=t}};function Ea(t,r,o,u,d,p,y,C,b){Cr=!1,Zr=null,Ta.apply(Ma,arguments)}function Ke(t,r,o,u,d,p,y,C,b){if(Ea.apply(this,arguments),Cr){if(Cr){var L=Zr;Cr=!1,Zr=null}else throw Error(n(198));Jr||(Jr=!0,$i=L)}}function Ze(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Le(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ks(t){if(Ze(t)!==t)throw Error(n(188))}function Xt(t){var r=t.alternate;if(!r){if(r=Ze(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Ks(d),t;if(p===u)return Ks(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=p;else{for(var y=!1,C=d.child;C;){if(C===o){y=!0,o=d,u=p;break}if(C===u){y=!0,u=d,o=p;break}C=C.sibling}if(!y){for(C=p.child;C;){if(C===o){y=!0,o=p,u=d;break}if(C===u){y=!0,u=p,o=d;break}C=C.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function En(t){return t=Xt(t),t!==null?Zs(t):null}function Zs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zs(t);if(r!==null)return r;t=t.sibling}return null}var Oi=e.unstable_scheduleCallback,Gi=e.unstable_cancelCallback,Js=e.unstable_shouldYield,eo=e.unstable_requestPaint,S=e.unstable_now,F=e.unstable_getCurrentPriorityLevel,O=e.unstable_ImmediatePriority,re=e.unstable_UserBlockingPriority,G=e.unstable_NormalPriority,q=e.unstable_LowPriority,Q=e.unstable_IdlePriority,W=null,se=null;function Ie(t){if(se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(W,t,void 0,(t.current.flags&128)===128)}catch{}}var ve=Math.clz32?Math.clz32:Be,_e=Math.log,je=Math.LN2;function Be(t){return t>>>=0,t===0?32:31-(_e(t)/je|0)|0}var Ue=64,$e=4194304;function ft(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function st(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var C=y&~d;C!==0?u=ft(C):(p&=y,p!==0&&(u=ft(p)))}else y=o&~d,y!==0?u=ft(y):p!==0&&(u=ft(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-ve(r),d=1<<o,u|=t[o],r&=~d;return u}function pt(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-ve(p),C=1<<y,b=d[y];b===-1?((C&o)===0||(C&u)!==0)&&(d[y]=pt(C,r)):b<=r&&(t.expiredLanes|=C),p&=~C}}function br(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xn(){var t=Ue;return Ue<<=1,(Ue&4194240)===0&&(Ue=64),t}function Aa(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ui(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-ve(r),t[r]=o}function b0(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-ve(o),p=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~p}}function Ra(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-ve(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Fe=0;function fc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var pc,Ia,mc,gc,yc,za=!1,to=[],qn=null,Qn=null,Kn=null,Hi=new Map,Vi=new Map,Zn=[],P0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xc(t,r){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Hi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(r.pointerId)}}function Wi(t,r,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=os(r),r!==null&&Ia(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function T0(t,r,o,u,d){switch(r){case"focusin":return qn=Wi(qn,t,r,o,u,d),!0;case"dragenter":return Qn=Wi(Qn,t,r,o,u,d),!0;case"mouseover":return Kn=Wi(Kn,t,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Hi.set(p,Wi(Hi.get(p)||null,t,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Vi.set(p,Wi(Vi.get(p)||null,t,r,o,u,d)),!0}return!1}function vc(t){var r=Pr(t.target);if(r!==null){var o=Ze(r);if(o!==null){if(r=o.tag,r===13){if(r=Le(o),r!==null){t.blockedOn=r,yc(t.priority,function(){mc(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=La(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Qr=u,o.target.dispatchEvent(u),Qr=null}else return r=os(o),r!==null&&Ia(r),t.blockedOn=o,!1;r.shift()}return!0}function _c(t,r,o){no(t)&&o.delete(r)}function M0(){za=!1,qn!==null&&no(qn)&&(qn=null),Qn!==null&&no(Qn)&&(Qn=null),Kn!==null&&no(Kn)&&(Kn=null),Hi.forEach(_c),Vi.forEach(_c)}function Yi(t,r){t.blockedOn===r&&(t.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,M0)))}function Xi(t){function r(d){return Yi(d,t)}if(0<to.length){Yi(to[0],t);for(var o=1;o<to.length;o++){var u=to[o];u.blockedOn===t&&(u.blockedOn=null)}}for(qn!==null&&Yi(qn,t),Qn!==null&&Yi(Qn,t),Kn!==null&&Yi(Kn,t),Hi.forEach(r),Vi.forEach(r),o=0;o<Zn.length;o++)u=Zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Zn.length&&(o=Zn[0],o.blockedOn===null);)vc(o),o.blockedOn===null&&Zn.shift()}var ei=j.ReactCurrentBatchConfig,ro=!0;function E0(t,r,o,u){var d=Fe,p=ei.transition;ei.transition=null;try{Fe=1,Da(t,r,o,u)}finally{Fe=d,ei.transition=p}}function A0(t,r,o,u){var d=Fe,p=ei.transition;ei.transition=null;try{Fe=4,Da(t,r,o,u)}finally{Fe=d,ei.transition=p}}function Da(t,r,o,u){if(ro){var d=La(t,r,o,u);if(d===null)Za(t,r,u,io,o),xc(t,u);else if(T0(d,t,r,o,u))u.stopPropagation();else if(xc(t,u),r&4&&-1<P0.indexOf(t)){for(;d!==null;){var p=os(d);if(p!==null&&pc(p),p=La(t,r,o,u),p===null&&Za(t,r,u,io,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Za(t,r,u,null,o)}}var io=null;function La(t,r,o,u){if(io=null,t=Li(u),t=Pr(t),t!==null)if(r=Ze(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Le(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return io=t,null}function wc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F()){case O:return 1;case re:return 4;case G:case q:return 16;case Q:return 536870912;default:return 16}default:return 16}}var Jn=null,ja=null,so=null;function Sc(){if(so)return so;var t,r=ja,o=r.length,u,d="value"in Jn?Jn.value:Jn.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===d[p-u];u++);return so=d.slice(t,1<u?1-u:void 0)}function oo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ao(){return!0}function Cc(){return!1}function Gt(t){function r(o,u,d,p,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ao:Cc,this.isPropagationStopped=Cc,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),r}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Gt(ti),qi=te({},ti,{view:0,detail:0}),R0=Gt(qi),Na,Ba,Qi,lo=te({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Na=t.screenX-Qi.screenX,Ba=t.screenY-Qi.screenY):Ba=Na=0,Qi=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),kc=Gt(lo),I0=te({},lo,{dataTransfer:0}),z0=Gt(I0),D0=te({},qi,{relatedTarget:0}),$a=Gt(D0),L0=te({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=Gt(L0),F0=te({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N0=Gt(F0),B0=te({},ti,{data:0}),bc=Gt(B0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=G0[t])?!!r[t]:!1}function Oa(){return U0}var H0=te({},qi,{key:function(t){if(t.key){var r=$0[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V0=Gt(H0),W0=te({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Gt(W0),Y0=te({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),X0=Gt(Y0),q0=te({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=Gt(q0),K0=te({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Gt(K0),J0=[9,13,27,32],Ga=h&&"CompositionEvent"in window,Ki=null;h&&"documentMode"in document&&(Ki=document.documentMode);var ep=h&&"TextEvent"in window&&!Ki,Tc=h&&(!Ga||Ki&&8<Ki&&11>=Ki),Mc=" ",Ec=!1;function Ac(t,r){switch(t){case"keyup":return J0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function tp(t,r){switch(t){case"compositionend":return Rc(r);case"keypress":return r.which!==32?null:(Ec=!0,Mc);case"textInput":return t=r.data,t===Mc&&Ec?null:t;default:return null}}function np(t,r){if(ni)return t==="compositionend"||!Ga&&Ac(t,r)?(t=Sc(),so=ja=Jn=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tc&&r.locale!=="ko"?null:r.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!rp[t.type]:r==="textarea"}function zc(t,r,o,u){Xs(u),r=po(r,"onChange"),0<r.length&&(o=new Fa("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Zi=null,Ji=null;function ip(t){Kc(t,0)}function uo(t){var r=ai(t);if(Ve(r))return t}function sp(t,r){if(t==="change")return r}var Dc=!1;if(h){var Ua;if(h){var Ha="oninput"in document;if(!Ha){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Ha=typeof Lc.oninput=="function"}Ua=Ha}else Ua=!1;Dc=Ua&&(!document.documentMode||9<document.documentMode)}function jc(){Zi&&(Zi.detachEvent("onpropertychange",Fc),Ji=Zi=null)}function Fc(t){if(t.propertyName==="value"&&uo(Ji)){var r=[];zc(r,Ji,t,Li(t)),Qs(ip,r)}}function op(t,r,o){t==="focusin"?(jc(),Zi=r,Ji=o,Zi.attachEvent("onpropertychange",Fc)):t==="focusout"&&jc()}function ap(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Ji)}function lp(t,r){if(t==="click")return uo(r)}function up(t,r){if(t==="input"||t==="change")return uo(r)}function cp(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ln=typeof Object.is=="function"?Object.is:cp;function es(t,r){if(ln(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!f.call(r,d)||!ln(t[d],r[d]))return!1}return!0}function Nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bc(t,r){var o=Nc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nc(o)}}function $c(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$c(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Oc(){for(var t=window,r=wt();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wt(t.document)}return r}function Va(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function hp(t){var r=Oc(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&$c(o.ownerDocument.documentElement,o)){if(u!==null&&Va(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!t.extend&&p>u&&(d=u,u=p,p=d),d=Bc(o,p);var y=Bc(o,u);d&&y&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dp=h&&"documentMode"in document&&11>=document.documentMode,ri=null,Wa=null,ts=null,Ya=!1;function Gc(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ya||ri==null||ri!==wt(u)||(u=ri,"selectionStart"in u&&Va(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ts&&es(ts,u)||(ts=u,u=po(Wa,"onSelect"),0<u.length&&(r=new Fa("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ri)))}function co(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ii={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Xa={},Uc={};h&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function ho(t){if(Xa[t])return Xa[t];if(!ii[t])return t;var r=ii[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Uc)return Xa[t]=r[o];return t}var Hc=ho("animationend"),Vc=ho("animationiteration"),Wc=ho("animationstart"),Yc=ho("transitionend"),Xc=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,r){Xc.set(t,r),l(r,[t])}for(var qa=0;qa<qc.length;qa++){var Qa=qc[qa],fp=Qa.toLowerCase(),pp=Qa[0].toUpperCase()+Qa.slice(1);er(fp,"on"+pp)}er(Hc,"onAnimationEnd"),er(Vc,"onAnimationIteration"),er(Wc,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Yc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Qc(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ke(u,r,void 0,t),t.currentTarget=null}function Kc(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var C=u[y],b=C.instance,L=C.currentTarget;if(C=C.listener,b!==p&&d.isPropagationStopped())break e;Qc(d,C,L),p=b}else for(y=0;y<u.length;y++){if(C=u[y],b=C.instance,L=C.currentTarget,C=C.listener,b!==p&&d.isPropagationStopped())break e;Qc(d,C,L),p=b}}}if(Jr)throw t=$i,Jr=!1,$i=null,t}function Xe(t,r){var o=r[il];o===void 0&&(o=r[il]=new Set);var u=t+"__bubble";o.has(u)||(Zc(r,t,2,!1),o.add(u))}function Ka(t,r,o){var u=0;r&&(u|=4),Zc(o,t,u,r)}var fo="_reactListening"+Math.random().toString(36).slice(2);function rs(t){if(!t[fo]){t[fo]=!0,s.forEach(function(o){o!=="selectionchange"&&(mp.has(o)||Ka(o,!1,t),Ka(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[fo]||(r[fo]=!0,Ka("selectionchange",!1,r))}}function Zc(t,r,o,u){switch(wc(r)){case 1:var d=E0;break;case 4:d=A0;break;default:d=Da}o=d.bind(null,r,o,t),d=void 0,!Bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Za(t,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var C=u.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;y=y.return}for(;C!==null;){if(y=Pr(C),y===null)return;if(b=y.tag,b===5||b===6){u=p=y;continue e}C=C.parentNode}}u=u.return}Qs(function(){var L=p,H=Li(o),V=[];e:{var U=Xc.get(t);if(U!==void 0){var ie=Fa,le=t;switch(t){case"keypress":if(oo(o)===0)break e;case"keydown":case"keyup":ie=V0;break;case"focusin":le="focus",ie=$a;break;case"focusout":le="blur",ie=$a;break;case"beforeblur":case"afterblur":ie=$a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=X0;break;case Hc:case Vc:case Wc:ie=j0;break;case Yc:ie=Q0;break;case"scroll":ie=R0;break;case"wheel":ie=Z0;break;case"copy":case"cut":case"paste":ie=N0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Pc}var ue=(r&4)!==0,ot=!ue&&t==="scroll",E=ue?U!==null?U+"Capture":null:U;ue=[];for(var T=L,I;T!==null;){I=T;var Y=I.stateNode;if(I.tag===5&&Y!==null&&(I=Y,E!==null&&(Y=wr(T,E),Y!=null&&ue.push(is(T,Y,I)))),ot)break;T=T.return}0<ue.length&&(U=new ie(U,le,null,o,H),V.push({event:U,listeners:ue}))}}if((r&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",U&&o!==Qr&&(le=o.relatedTarget||o.fromElement)&&(Pr(le)||le[An]))break e;if((ie||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=L,le=le?Pr(le):null,le!==null&&(ot=Ze(le),le!==ot||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=L),ie!==le)){if(ue=kc,Y="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Pc,Y="onPointerLeave",E="onPointerEnter",T="pointer"),ot=ie==null?U:ai(ie),I=le==null?U:ai(le),U=new ue(Y,T+"leave",ie,o,H),U.target=ot,U.relatedTarget=I,Y=null,Pr(H)===L&&(ue=new ue(E,T+"enter",le,o,H),ue.target=I,ue.relatedTarget=ot,Y=ue),ot=Y,ie&&le)t:{for(ue=ie,E=le,T=0,I=ue;I;I=si(I))T++;for(I=0,Y=E;Y;Y=si(Y))I++;for(;0<T-I;)ue=si(ue),T--;for(;0<I-T;)E=si(E),I--;for(;T--;){if(ue===E||E!==null&&ue===E.alternate)break t;ue=si(ue),E=si(E)}ue=null}else ue=null;ie!==null&&Jc(V,U,ie,ue,!1),le!==null&&ot!==null&&Jc(V,ot,le,ue,!0)}}e:{if(U=L?ai(L):window,ie=U.nodeName&&U.nodeName.toLowerCase(),ie==="select"||ie==="input"&&U.type==="file")var de=sp;else if(Ic(U))if(Dc)de=up;else{de=ap;var pe=op}else(ie=U.nodeName)&&ie.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(de=lp);if(de&&(de=de(t,L))){zc(V,de,o,H);break e}pe&&pe(t,U,L),t==="focusout"&&(pe=U._wrapperState)&&pe.controlled&&U.type==="number"&&Ot(U,"number",U.value)}switch(pe=L?ai(L):window,t){case"focusin":(Ic(pe)||pe.contentEditable==="true")&&(ri=pe,Wa=L,ts=null);break;case"focusout":ts=Wa=ri=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Gc(V,o,H);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Gc(V,o,H)}var me;if(Ga)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ni?Ac(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Tc&&o.locale!=="ko"&&(ni||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ni&&(me=Sc()):(Jn=H,ja="value"in Jn?Jn.value:Jn.textContent,ni=!0)),pe=po(L,xe),0<pe.length&&(xe=new bc(xe,t,null,o,H),V.push({event:xe,listeners:pe}),me?xe.data=me:(me=Rc(o),me!==null&&(xe.data=me)))),(me=ep?tp(t,o):np(t,o))&&(L=po(L,"onBeforeInput"),0<L.length&&(H=new bc("onBeforeInput","beforeinput",null,o,H),V.push({event:H,listeners:L}),H.data=me))}Kc(V,r)})}function is(t,r,o){return{instance:t,listener:r,currentTarget:o}}function po(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=wr(t,o),p!=null&&u.unshift(is(t,p,d)),p=wr(t,r),p!=null&&u.push(is(t,p,d))),t=t.return}return u}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jc(t,r,o,u,d){for(var p=r._reactName,y=[];o!==null&&o!==u;){var C=o,b=C.alternate,L=C.stateNode;if(b!==null&&b===u)break;C.tag===5&&L!==null&&(C=L,d?(b=wr(o,p),b!=null&&y.unshift(is(o,b,C))):d||(b=wr(o,p),b!=null&&y.push(is(o,b,C)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var gp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function eh(t){return(typeof t=="string"?t:""+t).replace(gp,`
`).replace(yp,"")}function mo(t,r,o){if(r=eh(r),eh(t)!==r&&o)throw Error(n(425))}function go(){}var Ja=null,el=null;function tl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,th=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof th<"u"?function(t){return th.resolve(null).then(t).catch(_p)}:nl;function _p(t){setTimeout(function(){throw t})}function rl(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Xi(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xi(r)}function tr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function nh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),vn="__reactFiber$"+oi,ss="__reactProps$"+oi,An="__reactContainer$"+oi,il="__reactEvents$"+oi,wp="__reactListeners$"+oi,Sp="__reactHandles$"+oi;function Pr(t){var r=t[vn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[An]||o[vn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=nh(t);t!==null;){if(o=t[vn])return o;t=nh(t)}return r}t=o,o=t.parentNode}return null}function os(t){return t=t[vn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function yo(t){return t[ss]||null}var sl=[],li=-1;function nr(t){return{current:t}}function qe(t){0>li||(t.current=sl[li],sl[li]=null,li--)}function Ye(t,r){li++,sl[li]=t.current,t.current=r}var rr={},kt=nr(rr),Dt=nr(!1),Tr=rr;function ui(t,r){var o=t.type.contextTypes;if(!o)return rr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Lt(t){return t=t.childContextTypes,t!=null}function xo(){qe(Dt),qe(kt)}function rh(t,r,o){if(kt.current!==rr)throw Error(n(168));Ye(kt,r),Ye(Dt,o)}function ih(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,De(t)||"Unknown",d));return te({},o,u)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Tr=kt.current,Ye(kt,t),Ye(Dt,Dt.current),!0}function sh(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=ih(t,r,Tr),u.__reactInternalMemoizedMergedChildContext=t,qe(Dt),qe(kt),Ye(kt,t)):qe(Dt),Ye(Dt,o)}var Rn=null,_o=!1,ol=!1;function oh(t){Rn===null?Rn=[t]:Rn.push(t)}function Cp(t){_o=!0,oh(t)}function ir(){if(!ol&&Rn!==null){ol=!0;var t=0,r=Fe;try{var o=Rn;for(Fe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Rn=null,_o=!1}catch(d){throw Rn!==null&&(Rn=Rn.slice(t+1)),Oi(O,ir),d}finally{Fe=r,ol=!1}}return null}var ci=[],hi=0,wo=null,So=0,qt=[],Qt=0,Mr=null,In=1,zn="";function Er(t,r){ci[hi++]=So,ci[hi++]=wo,wo=t,So=r}function ah(t,r,o){qt[Qt++]=In,qt[Qt++]=zn,qt[Qt++]=Mr,Mr=t;var u=In;t=zn;var d=32-ve(u)-1;u&=~(1<<d),o+=1;var p=32-ve(r)+d;if(30<p){var y=d-d%5;p=(u&(1<<y)-1).toString(32),u>>=y,d-=y,In=1<<32-ve(r)+d|o<<d|u,zn=p+t}else In=1<<p|o<<d|u,zn=t}function al(t){t.return!==null&&(Er(t,1),ah(t,1,0))}function ll(t){for(;t===wo;)wo=ci[--hi],ci[hi]=null,So=ci[--hi],ci[hi]=null;for(;t===Mr;)Mr=qt[--Qt],qt[Qt]=null,zn=qt[--Qt],qt[Qt]=null,In=qt[--Qt],qt[Qt]=null}var Ut=null,Ht=null,Qe=!1,un=null;function lh(t,r){var o=en(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function uh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ut=t,Ht=tr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ut=t,Ht=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Mr!==null?{id:In,overflow:zn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=en(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ut=t,Ht=null,!0):!1;default:return!1}}function ul(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cl(t){if(Qe){var r=Ht;if(r){var o=r;if(!uh(t,r)){if(ul(t))throw Error(n(418));r=tr(o.nextSibling);var u=Ut;r&&uh(t,r)?lh(u,o):(t.flags=t.flags&-4097|2,Qe=!1,Ut=t)}}else{if(ul(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,Ut=t}}}function ch(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Co(t){if(t!==Ut)return!1;if(!Qe)return ch(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!tl(t.type,t.memoizedProps)),r&&(r=Ht)){if(ul(t))throw hh(),Error(n(418));for(;r;)lh(t,r),r=tr(r.nextSibling)}if(ch(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ht=tr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ht=null}}else Ht=Ut?tr(t.stateNode.nextSibling):null;return!0}function hh(){for(var t=Ht;t;)t=tr(t.nextSibling)}function di(){Ht=Ut=null,Qe=!1}function hl(t){un===null?un=[t]:un.push(t)}var kp=j.ReactCurrentBatchConfig;function as(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var C=d.refs;y===null?delete C[p]:C[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ko(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function dh(t){var r=t._init;return r(t._payload)}function fh(t){function r(E,T){if(t){var I=E.deletions;I===null?(E.deletions=[T],E.flags|=16):I.push(T)}}function o(E,T){if(!t)return null;for(;T!==null;)r(E,T),T=T.sibling;return null}function u(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function d(E,T){return E=dr(E,T),E.index=0,E.sibling=null,E}function p(E,T,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<T?(E.flags|=2,T):I):(E.flags|=2,T)):(E.flags|=1048576,T)}function y(E){return t&&E.alternate===null&&(E.flags|=2),E}function C(E,T,I,Y){return T===null||T.tag!==6?(T=nu(I,E.mode,Y),T.return=E,T):(T=d(T,I),T.return=E,T)}function b(E,T,I,Y){var de=I.type;return de===$?H(E,T,I.props.children,Y,I.key):T!==null&&(T.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&dh(de)===T.type)?(Y=d(T,I.props),Y.ref=as(E,T,I),Y.return=E,Y):(Y=Xo(I.type,I.key,I.props,null,E.mode,Y),Y.ref=as(E,T,I),Y.return=E,Y)}function L(E,T,I,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=ru(I,E.mode,Y),T.return=E,T):(T=d(T,I.children||[]),T.return=E,T)}function H(E,T,I,Y,de){return T===null||T.tag!==7?(T=Fr(I,E.mode,Y,de),T.return=E,T):(T=d(T,I),T.return=E,T)}function V(E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=nu(""+T,E.mode,I),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case X:return I=Xo(T.type,T.key,T.props,null,E.mode,I),I.ref=as(E,null,T),I.return=E,I;case B:return T=ru(T,E.mode,I),T.return=E,T;case ee:var Y=T._init;return V(E,Y(T._payload),I)}if(Tn(T)||Z(T))return T=Fr(T,E.mode,I,null),T.return=E,T;ko(E,T)}return null}function U(E,T,I,Y){var de=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return de!==null?null:C(E,T,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case X:return I.key===de?b(E,T,I,Y):null;case B:return I.key===de?L(E,T,I,Y):null;case ee:return de=I._init,U(E,T,de(I._payload),Y)}if(Tn(I)||Z(I))return de!==null?null:H(E,T,I,Y,null);ko(E,I)}return null}function ie(E,T,I,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return E=E.get(I)||null,C(T,E,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return E=E.get(Y.key===null?I:Y.key)||null,b(T,E,Y,de);case B:return E=E.get(Y.key===null?I:Y.key)||null,L(T,E,Y,de);case ee:var pe=Y._init;return ie(E,T,I,pe(Y._payload),de)}if(Tn(Y)||Z(Y))return E=E.get(I)||null,H(T,E,Y,de,null);ko(T,Y)}return null}function le(E,T,I,Y){for(var de=null,pe=null,me=T,xe=T=0,yt=null;me!==null&&xe<I.length;xe++){me.index>xe?(yt=me,me=null):yt=me.sibling;var ze=U(E,me,I[xe],Y);if(ze===null){me===null&&(me=yt);break}t&&me&&ze.alternate===null&&r(E,me),T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze,me=yt}if(xe===I.length)return o(E,me),Qe&&Er(E,xe),de;if(me===null){for(;xe<I.length;xe++)me=V(E,I[xe],Y),me!==null&&(T=p(me,T,xe),pe===null?de=me:pe.sibling=me,pe=me);return Qe&&Er(E,xe),de}for(me=u(E,me);xe<I.length;xe++)yt=ie(me,E,xe,I[xe],Y),yt!==null&&(t&&yt.alternate!==null&&me.delete(yt.key===null?xe:yt.key),T=p(yt,T,xe),pe===null?de=yt:pe.sibling=yt,pe=yt);return t&&me.forEach(function(fr){return r(E,fr)}),Qe&&Er(E,xe),de}function ue(E,T,I,Y){var de=Z(I);if(typeof de!="function")throw Error(n(150));if(I=de.call(I),I==null)throw Error(n(151));for(var pe=de=null,me=T,xe=T=0,yt=null,ze=I.next();me!==null&&!ze.done;xe++,ze=I.next()){me.index>xe?(yt=me,me=null):yt=me.sibling;var fr=U(E,me,ze.value,Y);if(fr===null){me===null&&(me=yt);break}t&&me&&fr.alternate===null&&r(E,me),T=p(fr,T,xe),pe===null?de=fr:pe.sibling=fr,pe=fr,me=yt}if(ze.done)return o(E,me),Qe&&Er(E,xe),de;if(me===null){for(;!ze.done;xe++,ze=I.next())ze=V(E,ze.value,Y),ze!==null&&(T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze);return Qe&&Er(E,xe),de}for(me=u(E,me);!ze.done;xe++,ze=I.next())ze=ie(me,E,xe,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?xe:ze.key),T=p(ze,T,xe),pe===null?de=ze:pe.sibling=ze,pe=ze);return t&&me.forEach(function(r2){return r(E,r2)}),Qe&&Er(E,xe),de}function ot(E,T,I,Y){if(typeof I=="object"&&I!==null&&I.type===$&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case X:e:{for(var de=I.key,pe=T;pe!==null;){if(pe.key===de){if(de=I.type,de===$){if(pe.tag===7){o(E,pe.sibling),T=d(pe,I.props.children),T.return=E,E=T;break e}}else if(pe.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&dh(de)===pe.type){o(E,pe.sibling),T=d(pe,I.props),T.ref=as(E,pe,I),T.return=E,E=T;break e}o(E,pe);break}else r(E,pe);pe=pe.sibling}I.type===$?(T=Fr(I.props.children,E.mode,Y,I.key),T.return=E,E=T):(Y=Xo(I.type,I.key,I.props,null,E.mode,Y),Y.ref=as(E,T,I),Y.return=E,E=Y)}return y(E);case B:e:{for(pe=I.key;T!==null;){if(T.key===pe)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){o(E,T.sibling),T=d(T,I.children||[]),T.return=E,E=T;break e}else{o(E,T);break}else r(E,T);T=T.sibling}T=ru(I,E.mode,Y),T.return=E,E=T}return y(E);case ee:return pe=I._init,ot(E,T,pe(I._payload),Y)}if(Tn(I))return le(E,T,I,Y);if(Z(I))return ue(E,T,I,Y);ko(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(o(E,T.sibling),T=d(T,I),T.return=E,E=T):(o(E,T),T=nu(I,E.mode,Y),T.return=E,E=T),y(E)):o(E,T)}return ot}var fi=fh(!0),ph=fh(!1),bo=nr(null),Po=null,pi=null,dl=null;function fl(){dl=pi=Po=null}function pl(t){var r=bo.current;qe(bo),t._currentValue=r}function ml(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function mi(t,r){Po=t,dl=pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(jt=!0),t.firstContext=null)}function Kt(t){var r=t._currentValue;if(dl!==t)if(t={context:t,memoizedValue:r,next:null},pi===null){if(Po===null)throw Error(n(308));pi=t,Po.dependencies={lanes:0,firstContext:t}}else pi=pi.next=t;return r}var Ar=null;function gl(t){Ar===null?Ar=[t]:Ar.push(t)}function mh(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,gl(r)):(o.next=d.next,d.next=o),r.interleaved=o,Dn(t,u)}function Dn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var sr=!1;function yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function or(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Re&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,Dn(t,o)}return d=u.interleaved,d===null?(r.next=r,gl(u)):(r.next=d.next,d.next=r),u.interleaved=r,Dn(t,o)}function To(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ra(t,o)}}function yh(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Mo(t,r,o,u){var d=t.updateQueue;sr=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var b=C,L=b.next;b.next=null,y===null?p=L:y.next=L,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==y&&(C===null?H.firstBaseUpdate=L:C.next=L,H.lastBaseUpdate=b))}if(p!==null){var V=d.baseState;y=0,H=L=b=null,C=p;do{var U=C.lane,ie=C.eventTime;if((u&U)===U){H!==null&&(H=H.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var le=t,ue=C;switch(U=r,ie=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){V=le.call(ie,V,U);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,U=typeof le=="function"?le.call(ie,V,U):le,U==null)break e;V=te({},V,U);break e;case 2:sr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,U=d.effects,U===null?d.effects=[C]:U.push(C))}else ie={eventTime:ie,lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(L=H=ie,b=V):H=H.next=ie,y|=U;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;U=C,C=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(H===null&&(b=V),d.baseState=b,d.firstBaseUpdate=L,d.lastBaseUpdate=H,r=d.shared.interleaved,r!==null){d=r;do y|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);zr|=y,t.lanes=y,t.memoizedState=V}}function xh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var ls={},_n=nr(ls),us=nr(ls),cs=nr(ls);function Rr(t){if(t===ls)throw Error(n(174));return t}function xl(t,r){switch(Ye(cs,r),Ye(us,t),Ye(_n,ls),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Mn(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Mn(r,t)}qe(_n),Ye(_n,r)}function gi(){qe(_n),qe(us),qe(cs)}function vh(t){Rr(cs.current);var r=Rr(_n.current),o=Mn(r,t.type);r!==o&&(Ye(us,t),Ye(_n,o))}function vl(t){us.current===t&&(qe(_n),qe(us))}var Je=nr(0);function Eo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _l=[];function wl(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Ao=j.ReactCurrentDispatcher,Sl=j.ReactCurrentBatchConfig,Ir=0,et=null,ct=null,mt=null,Ro=!1,hs=!1,ds=0,bp=0;function bt(){throw Error(n(321))}function Cl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!ln(t[o],r[o]))return!1;return!0}function kl(t,r,o,u,d,p){if(Ir=p,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ao.current=t===null||t.memoizedState===null?Ep:Ap,t=o(u,d),hs){p=0;do{if(hs=!1,ds=0,25<=p)throw Error(n(301));p+=1,mt=ct=null,r.updateQueue=null,Ao.current=Rp,t=o(u,d)}while(hs)}if(Ao.current=Do,r=ct!==null&&ct.next!==null,Ir=0,mt=ct=et=null,Ro=!1,r)throw Error(n(300));return t}function bl(){var t=ds!==0;return ds=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?et.memoizedState=mt=t:mt=mt.next=t,mt}function Zt(){if(ct===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=mt===null?et.memoizedState:mt.next;if(r!==null)mt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?et.memoizedState=mt=t:mt=mt.next=t}return mt}function fs(t,r){return typeof r=="function"?r(t):r}function Pl(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var C=y=null,b=null,L=p;do{var H=L.lane;if((Ir&H)===H)b!==null&&(b=b.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),u=L.hasEagerState?L.eagerState:t(u,L.action);else{var V={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};b===null?(C=b=V,y=u):b=b.next=V,et.lanes|=H,zr|=H}L=L.next}while(L!==null&&L!==p);b===null?y=u:b.next=C,ln(u,r.memoizedState)||(jt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=b,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do p=d.lane,et.lanes|=p,zr|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Tl(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do p=t(p,y.action),y=y.next;while(y!==d);ln(p,r.memoizedState)||(jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function _h(){}function wh(t,r){var o=et,u=Zt(),d=r(),p=!ln(u.memoizedState,d);if(p&&(u.memoizedState=d,jt=!0),u=u.queue,Ml(kh.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,ps(9,Ch.bind(null,o,u,d,r),void 0,null),gt===null)throw Error(n(349));(Ir&30)!==0||Sh(o,r,d)}return d}function Sh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ch(t,r,o,u){r.value=o,r.getSnapshot=u,bh(r)&&Ph(t)}function kh(t,r,o){return o(function(){bh(r)&&Ph(t)})}function bh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!ln(t,o)}catch{return!0}}function Ph(t){var r=Dn(t,1);r!==null&&fn(r,t,1,-1)}function Th(t){var r=wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},r.queue=t,t=t.dispatch=Mp.bind(null,et,t),[r.memoizedState,t]}function ps(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Mh(){return Zt().memoizedState}function Io(t,r,o,u){var d=wn();et.flags|=t,d.memoizedState=ps(1|r,o,void 0,u===void 0?null:u)}function zo(t,r,o,u){var d=Zt();u=u===void 0?null:u;var p=void 0;if(ct!==null){var y=ct.memoizedState;if(p=y.destroy,u!==null&&Cl(u,y.deps)){d.memoizedState=ps(r,o,p,u);return}}et.flags|=t,d.memoizedState=ps(1|r,o,p,u)}function Eh(t,r){return Io(8390656,8,t,r)}function Ml(t,r){return zo(2048,8,t,r)}function Ah(t,r){return zo(4,2,t,r)}function Rh(t,r){return zo(4,4,t,r)}function Ih(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zh(t,r,o){return o=o!=null?o.concat([t]):null,zo(4,4,Ih.bind(null,r,t),o)}function El(){}function Dh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cl(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Lh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cl(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function jh(t,r,o){return(Ir&21)===0?(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=o):(ln(o,r)||(o=xn(),et.lanes|=o,zr|=o,t.baseState=!0),r)}function Pp(t,r){var o=Fe;Fe=o!==0&&4>o?o:4,t(!0);var u=Sl.transition;Sl.transition={};try{t(!1),r()}finally{Fe=o,Sl.transition=u}}function Fh(){return Zt().memoizedState}function Tp(t,r,o){var u=cr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Nh(t))Bh(r,o);else if(o=mh(t,r,o,u),o!==null){var d=It();fn(o,t,u,d),$h(o,r,u)}}function Mp(t,r,o){var u=cr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))Bh(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,C=p(y,o);if(d.hasEagerState=!0,d.eagerState=C,ln(C,y)){var b=r.interleaved;b===null?(d.next=d,gl(r)):(d.next=b.next,b.next=d),r.interleaved=d;return}}catch{}finally{}o=mh(t,r,d,u),o!==null&&(d=It(),fn(o,t,u,d),$h(o,r,u))}}function Nh(t){var r=t.alternate;return t===et||r!==null&&r===et}function Bh(t,r){hs=Ro=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function $h(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ra(t,o)}}var Do={readContext:Kt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Ep={readContext:Kt,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Eh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Io(4194308,4,Ih.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Io(4194308,4,t,r)},useInsertionEffect:function(t,r){return Io(4,2,t,r)},useMemo:function(t,r){var o=wn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=wn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Tp.bind(null,et,t),[u.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:Th,useDebugValue:El,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Th(!1),r=t[0];return t=Pp.bind(null,t[1]),wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=et,d=wn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));(Ir&30)!==0||Sh(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Eh(kh.bind(null,u,p,t),[t]),u.flags|=2048,ps(9,Ch.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=wn(),r=gt.identifierPrefix;if(Qe){var o=zn,u=In;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ds++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=bp++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ap={readContext:Kt,useCallback:Dh,useContext:Kt,useEffect:Ml,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:Lh,useReducer:Pl,useRef:Mh,useState:function(){return Pl(fs)},useDebugValue:El,useDeferredValue:function(t){var r=Zt();return jh(r,ct.memoizedState,t)},useTransition:function(){var t=Pl(fs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:wh,useId:Fh,unstable_isNewReconciler:!1},Rp={readContext:Kt,useCallback:Dh,useContext:Kt,useEffect:Ml,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:Lh,useReducer:Tl,useRef:Mh,useState:function(){return Tl(fs)},useDebugValue:El,useDeferredValue:function(t){var r=Zt();return ct===null?r.memoizedState=t:jh(r,ct.memoizedState,t)},useTransition:function(){var t=Tl(fs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:wh,useId:Fh,unstable_isNewReconciler:!1};function cn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Al(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Lo={isMounted:function(t){return(t=t._reactInternals)?Ze(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=It(),d=cr(t),p=Ln(u,d);p.payload=r,o!=null&&(p.callback=o),r=or(t,p,d),r!==null&&(fn(r,t,d,u),To(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=It(),d=cr(t),p=Ln(u,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=or(t,p,d),r!==null&&(fn(r,t,d,u),To(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=It(),u=cr(t),d=Ln(o,u);d.tag=2,r!=null&&(d.callback=r),r=or(t,d,u),r!==null&&(fn(r,t,u,o),To(r,t,u))}};function Oh(t,r,o,u,d,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!es(o,u)||!es(d,p):!0}function Gh(t,r,o){var u=!1,d=rr,p=r.contextType;return typeof p=="object"&&p!==null?p=Kt(p):(d=Lt(r)?Tr:kt.current,u=r.contextTypes,p=(u=u!=null)?ui(t,d):rr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Lo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Uh(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Lo.enqueueReplaceState(r,r.state,null)}function Rl(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},yl(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=Kt(p):(p=Lt(r)?Tr:kt.current,d.context=ui(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Al(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Lo.enqueueReplaceState(d,d.state,null),Mo(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Il(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function zl(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function Hh(t,r,o){o=Ln(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Go||(Go=!0,Xl=u),zl(t,r)},o}function Vh(t,r,o){o=Ln(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){zl(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){zl(t,r),typeof u!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Wh(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Ip;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=Wp.bind(null,t,r,o),r.then(t,t))}function Yh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Xh(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Ln(-1,1),r.tag=2,or(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var zp=j.ReactCurrentOwner,jt=!1;function Rt(t,r,o,u){r.child=t===null?ph(r,null,o,u):fi(r,t.child,o,u)}function qh(t,r,o,u,d){o=o.render;var p=r.ref;return mi(r,d),u=kl(t,r,o,u,p,d),o=bl(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,jn(t,r,d)):(Qe&&o&&al(r),r.flags|=1,Rt(t,r,u,d),r.child)}function Qh(t,r,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!tu(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Kh(t,r,p,u,d)):(t=Xo(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&d)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:es,o(y,u)&&t.ref===r.ref)return jn(t,r,d)}return r.flags|=1,t=dr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Kh(t,r,o,u,d){if(t!==null){var p=t.memoizedProps;if(es(p,u)&&t.ref===r.ref)if(jt=!1,r.pendingProps=u=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,jn(t,r,d)}return Dl(t,r,o,u,d)}function Zh(t,r,o){var u=r.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(vi,Vt),Vt|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ye(vi,Vt),Vt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ye(vi,Vt),Vt|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Ye(vi,Vt),Vt|=u;return Rt(t,r,d,o),r.child}function Jh(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Dl(t,r,o,u,d){var p=Lt(o)?Tr:kt.current;return p=ui(r,p),mi(r,d),o=kl(t,r,o,u,p,d),u=bl(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,jn(t,r,d)):(Qe&&u&&al(r),r.flags|=1,Rt(t,r,o,d),r.child)}function ed(t,r,o,u,d){if(Lt(o)){var p=!0;vo(r)}else p=!1;if(mi(r,d),r.stateNode===null)Fo(t,r),Gh(r,o,u),Rl(r,o,u,d),u=!0;else if(t===null){var y=r.stateNode,C=r.memoizedProps;y.props=C;var b=y.context,L=o.contextType;typeof L=="object"&&L!==null?L=Kt(L):(L=Lt(o)?Tr:kt.current,L=ui(r,L));var H=o.getDerivedStateFromProps,V=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==u||b!==L)&&Uh(r,y,u,L),sr=!1;var U=r.memoizedState;y.state=U,Mo(r,u,y,d),b=r.memoizedState,C!==u||U!==b||Dt.current||sr?(typeof H=="function"&&(Al(r,o,H,u),b=r.memoizedState),(C=sr||Oh(r,o,C,u,U,b,L))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=b),y.props=u,y.state=b,y.context=L,u=C):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,gh(t,r),C=r.memoizedProps,L=r.type===r.elementType?C:cn(r.type,C),y.props=L,V=r.pendingProps,U=y.context,b=o.contextType,typeof b=="object"&&b!==null?b=Kt(b):(b=Lt(o)?Tr:kt.current,b=ui(r,b));var ie=o.getDerivedStateFromProps;(H=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==V||U!==b)&&Uh(r,y,u,b),sr=!1,U=r.memoizedState,y.state=U,Mo(r,u,y,d);var le=r.memoizedState;C!==V||U!==le||Dt.current||sr?(typeof ie=="function"&&(Al(r,o,ie,u),le=r.memoizedState),(L=sr||Oh(r,o,L,u,U,le,b)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,b)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),y.props=u,y.state=le,y.context=b,u=L):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),u=!1)}return Ll(t,r,o,u,p,d)}function Ll(t,r,o,u,d,p){Jh(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return d&&sh(r,o,!1),jn(t,r,p);u=r.stateNode,zp.current=r;var C=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=fi(r,t.child,null,p),r.child=fi(r,null,C,p)):Rt(t,r,C,p),r.memoizedState=u.state,d&&sh(r,o,!0),r.child}function td(t){var r=t.stateNode;r.pendingContext?rh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&rh(t,r.context,!1),xl(t,r.containerInfo)}function nd(t,r,o,u,d){return di(),hl(d),r.flags|=256,Rt(t,r,o,u),r.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Fl(t){return{baseLanes:t,cachePool:null,transitions:null}}function rd(t,r,o){var u=r.pendingProps,d=Je.current,p=!1,y=(r.flags&128)!==0,C;if((C=y)||(C=t!==null&&t.memoizedState===null?!1:(d&2)!==0),C?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ye(Je,d&1),t===null)return cl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=qo(y,u,0,null),t=Fr(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Fl(o),r.memoizedState=jl,t):Nl(r,y));if(d=t.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return Dp(t,r,y,u,C,d,o);if(p){p=u.fallback,y=r.mode,d=t.child,C=d.sibling;var b={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=b,r.deletions=null):(u=dr(d,b),u.subtreeFlags=d.subtreeFlags&14680064),C!==null?p=dr(C,p):(p=Fr(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?Fl(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=jl,u}return p=t.child,t=p.sibling,u=dr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Nl(t,r){return r=qo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function jo(t,r,o,u){return u!==null&&hl(u),fi(r,t.child,null,o),t=Nl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Dp(t,r,o,u,d,p,y){if(o)return r.flags&256?(r.flags&=-257,u=Il(Error(n(422))),jo(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=qo({mode:"visible",children:u.children},d,0,null),p=Fr(p,d,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&fi(r,t.child,null,y),r.child.memoizedState=Fl(y),r.memoizedState=jl,p);if((r.mode&1)===0)return jo(t,r,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var C=u.dgst;return u=C,p=Error(n(419)),u=Il(p,u,void 0),jo(t,r,y,u)}if(C=(y&t.childLanes)!==0,jt||C){if(u=gt,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Dn(t,d),fn(u,t,d,-1))}return eu(),u=Il(Error(n(421))),jo(t,r,y,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Yp.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,Ht=tr(d.nextSibling),Ut=r,Qe=!0,un=null,t!==null&&(qt[Qt++]=In,qt[Qt++]=zn,qt[Qt++]=Mr,In=t.id,zn=t.overflow,Mr=r),r=Nl(r,u.children),r.flags|=4096,r)}function id(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ml(t.return,r,o)}function Bl(t,r,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function sd(t,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(Rt(t,r,u.children,o),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&id(t,o,r);else if(t.tag===19)id(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ye(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&Eo(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Bl(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Eo(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Bl(r,!0,o,null,p);break;case"together":Bl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function jn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),zr|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=dr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=dr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Lp(t,r,o){switch(r.tag){case 3:td(r),di();break;case 5:vh(r);break;case 1:Lt(r.type)&&vo(r);break;case 4:xl(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Ye(bo,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ye(Je,Je.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?rd(t,r,o):(Ye(Je,Je.current&1),t=jn(t,r,o),t!==null?t.sibling:null);Ye(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return sd(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Zh(t,r,o)}return jn(t,r,o)}var od,$l,ad,ld;od=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},$l=function(){},ad=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Rr(_n.current);var p=null;switch(o){case"input":d=We(t,d),u=We(t,u),p=[];break;case"select":d=te({},d,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":d=Hn(t,d),u=Hn(t,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=go)}_r(o,u);var y;o=null;for(L in d)if(!u.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var C=d[L];for(y in C)C.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?p||(p=[]):(p=p||[]).push(L,null));for(L in u){var b=u[L];if(C=d!=null?d[L]:void 0,u.hasOwnProperty(L)&&b!==C&&(b!=null||C!=null))if(L==="style")if(C){for(y in C)!C.hasOwnProperty(y)||b&&b.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in b)b.hasOwnProperty(y)&&C[y]!==b[y]&&(o||(o={}),o[y]=b[y])}else o||(p||(p=[]),p.push(L,o)),o=b;else L==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(p=p||[]).push(L,b)):L==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push(L,""+b):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(b!=null&&L==="onScroll"&&Xe("scroll",t),p||C===b||(p=[])):(p=p||[]).push(L,b))}o&&(p=p||[]).push("style",o);var L=p;(r.updateQueue=L)&&(r.flags|=4)}},ld=function(t,r,o,u){o!==u&&(r.flags|=4)};function ms(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function jp(t,r,o){var u=r.pendingProps;switch(ll(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return Lt(r.type)&&xo(),Pt(r),null;case 3:return u=r.stateNode,gi(),qe(Dt),qe(kt),wl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Co(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,un!==null&&(Kl(un),un=null))),$l(t,r),Pt(r),null;case 5:vl(r);var d=Rr(cs.current);if(o=r.type,t!==null&&r.stateNode!=null)ad(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Pt(r),null}if(t=Rr(_n.current),Co(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[vn]=r,u[ss]=p,t=(r.mode&1)!==0,o){case"dialog":Xe("cancel",u),Xe("close",u);break;case"iframe":case"object":case"embed":Xe("load",u);break;case"video":case"audio":for(d=0;d<ns.length;d++)Xe(ns[d],u);break;case"source":Xe("error",u);break;case"img":case"image":case"link":Xe("error",u),Xe("load",u);break;case"details":Xe("toggle",u);break;case"input":At(u,p),Xe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Xe("invalid",u);break;case"textarea":xr(u,p),Xe("invalid",u)}_r(o,p),d=null;for(var y in p)if(p.hasOwnProperty(y)){var C=p[y];y==="children"?typeof C=="string"?u.textContent!==C&&(p.suppressHydrationWarning!==!0&&mo(u.textContent,C,t),d=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&mo(u.textContent,C,t),d=["children",""+C]):a.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&Xe("scroll",u)}switch(o){case"input":on(u),yr(u,p,!0);break;case"textarea":on(u),zi(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=go)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Di(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[vn]=r,t[ss]=u,od(t,r,!1,!1),r.stateNode=t;e:{switch(y=qr(o,u),o){case"dialog":Xe("cancel",t),Xe("close",t),d=u;break;case"iframe":case"object":case"embed":Xe("load",t),d=u;break;case"video":case"audio":for(d=0;d<ns.length;d++)Xe(ns[d],t);d=u;break;case"source":Xe("error",t),d=u;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),d=u;break;case"details":Xe("toggle",t),d=u;break;case"input":At(t,u),d=We(t,u),Xe("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=te({},u,{value:void 0}),Xe("invalid",t);break;case"textarea":xr(t,u),d=Hn(t,u),Xe("invalid",t);break;default:d=u}_r(o,d),C=d;for(p in C)if(C.hasOwnProperty(p)){var b=C[p];p==="style"?Xr(t,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Wr(t,b)):p==="children"?typeof b=="string"?(o!=="textarea"||b!=="")&&Vn(t,b):typeof b=="number"&&Vn(t,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Xe("scroll",t):b!=null&&z(t,p,b,y))}switch(o){case"input":on(t),yr(t,u,!1);break;case"textarea":on(t),zi(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Un(t,!!u.multiple,p,!1):u.defaultValue!=null&&Un(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=go)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pt(r),null;case 6:if(t&&r.stateNode!=null)ld(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Rr(cs.current),Rr(_n.current),Co(r)){if(u=r.stateNode,o=r.memoizedProps,u[vn]=r,(p=u.nodeValue!==o)&&(t=Ut,t!==null))switch(t.tag){case 3:mo(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mo(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[vn]=r,r.stateNode=u}return Pt(r),null;case 13:if(qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Ht!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hh(),di(),r.flags|=98560,p=!1;else if(p=Co(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[vn]=r}else di(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),p=!1}else un!==null&&(Kl(un),un=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Je.current&1)!==0?ht===0&&(ht=3):eu())),r.updateQueue!==null&&(r.flags|=4),Pt(r),null);case 4:return gi(),$l(t,r),t===null&&rs(r.stateNode.containerInfo),Pt(r),null;case 10:return pl(r.type._context),Pt(r),null;case 17:return Lt(r.type)&&xo(),Pt(r),null;case 19:if(qe(Je),p=r.memoizedState,p===null)return Pt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)ms(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Eo(t),y!==null){for(r.flags|=128,ms(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ye(Je,Je.current&1|2),r.child}t=t.sibling}p.tail!==null&&S()>_i&&(r.flags|=128,u=!0,ms(p,!1),r.lanes=4194304)}else{if(!u)if(t=Eo(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ms(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Qe)return Pt(r),null}else 2*S()-p.renderingStartTime>_i&&o!==1073741824&&(r.flags|=128,u=!0,ms(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=S(),r.sibling=null,o=Je.current,Ye(Je,u?o&1|2:o&1),r):(Pt(r),null);case 22:case 23:return Jl(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Vt&1073741824)!==0&&(Pt(r),r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Fp(t,r){switch(ll(r),r.tag){case 1:return Lt(r.type)&&xo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return gi(),qe(Dt),qe(kt),wl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return vl(r),null;case 13:if(qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));di()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Je),null;case 4:return gi(),null;case 10:return pl(r.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var No=!1,Tt=!1,Np=typeof WeakSet=="function"?WeakSet:Set,ae=null;function xi(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(t,r,u)}else o.current=null}function Ol(t,r,o){try{o()}catch(u){nt(t,r,u)}}var ud=!1;function Bp(t,r){if(Ja=ro,t=Oc(),Va(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,C=-1,b=-1,L=0,H=0,V=t,U=null;t:for(;;){for(var ie;V!==o||d!==0&&V.nodeType!==3||(C=y+d),V!==p||u!==0&&V.nodeType!==3||(b=y+u),V.nodeType===3&&(y+=V.nodeValue.length),(ie=V.firstChild)!==null;)U=V,V=ie;for(;;){if(V===t)break t;if(U===o&&++L===d&&(C=y),U===p&&++H===u&&(b=y),(ie=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=ie}o=C===-1||b===-1?null:{start:C,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(el={focusedElem:t,selectionRange:o},ro=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,ot=le.memoizedState,E=r.stateNode,T=E.getSnapshotBeforeUpdate(r.elementType===r.type?ue:cn(r.type,ue),ot);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=r.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){nt(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=ud,ud=!1,le}function gs(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Ol(r,o,p)}d=d.next}while(d!==u)}}function Bo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Gl(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function cd(t){var r=t.alternate;r!==null&&(t.alternate=null,cd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[vn],delete r[ss],delete r[il],delete r[wp],delete r[Sp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hd(t){return t.tag===5||t.tag===3||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ul(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=go));else if(u!==4&&(t=t.child,t!==null))for(Ul(t,r,o),t=t.sibling;t!==null;)Ul(t,r,o),t=t.sibling}function Hl(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Hl(t,r,o),t=t.sibling;t!==null;)Hl(t,r,o),t=t.sibling}var St=null,hn=!1;function ar(t,r,o){for(o=o.child;o!==null;)fd(t,r,o),o=o.sibling}function fd(t,r,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(W,o)}catch{}switch(o.tag){case 5:Tt||xi(o,r);case 6:var u=St,d=hn;St=null,ar(t,r,o),St=u,hn=d,St!==null&&(hn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(hn?(t=St,o=o.stateNode,t.nodeType===8?rl(t.parentNode,o):t.nodeType===1&&rl(t,o),Xi(t)):rl(St,o.stateNode));break;case 4:u=St,d=hn,St=o.stateNode.containerInfo,hn=!0,ar(t,r,o),St=u,hn=d;break;case 0:case 11:case 14:case 15:if(!Tt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Ol(o,r,y),d=d.next}while(d!==u)}ar(t,r,o);break;case 1:if(!Tt&&(xi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(C){nt(o,r,C)}ar(t,r,o);break;case 21:ar(t,r,o);break;case 22:o.mode&1?(Tt=(u=Tt)||o.memoizedState!==null,ar(t,r,o),Tt=u):ar(t,r,o);break;default:ar(t,r,o)}}function pd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Np),r.forEach(function(u){var d=Xp.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function dn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=t,y=r,C=y;e:for(;C!==null;){switch(C.tag){case 5:St=C.stateNode,hn=!1;break e;case 3:St=C.stateNode.containerInfo,hn=!0;break e;case 4:St=C.stateNode.containerInfo,hn=!0;break e}C=C.return}if(St===null)throw Error(n(160));fd(p,y,d),St=null,hn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(L){nt(d,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)md(r,t),r=r.sibling}function md(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(r,t),Sn(t),u&4){try{gs(3,t,t.return),Bo(3,t)}catch(ue){nt(t,t.return,ue)}try{gs(5,t,t.return)}catch(ue){nt(t,t.return,ue)}}break;case 1:dn(r,t),Sn(t),u&512&&o!==null&&xi(o,o.return);break;case 5:if(dn(r,t),Sn(t),u&512&&o!==null&&xi(o,o.return),t.flags&32){var d=t.stateNode;try{Vn(d,"")}catch(ue){nt(t,t.return,ue)}}if(u&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,C=t.type,b=t.updateQueue;if(t.updateQueue=null,b!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&Hr(d,p),qr(C,y);var L=qr(C,p);for(y=0;y<b.length;y+=2){var H=b[y],V=b[y+1];H==="style"?Xr(d,V):H==="dangerouslySetInnerHTML"?Wr(d,V):H==="children"?Vn(d,V):z(d,H,V,L)}switch(C){case"input":an(d,p);break;case"textarea":Ii(d,p);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?Un(d,!!p.multiple,ie,!1):U!==!!p.multiple&&(p.defaultValue!=null?Un(d,!!p.multiple,p.defaultValue,!0):Un(d,!!p.multiple,p.multiple?[]:"",!1))}d[ss]=p}catch(ue){nt(t,t.return,ue)}}break;case 6:if(dn(r,t),Sn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ue){nt(t,t.return,ue)}}break;case 3:if(dn(r,t),Sn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xi(r.containerInfo)}catch(ue){nt(t,t.return,ue)}break;case 4:dn(r,t),Sn(t);break;case 13:dn(r,t),Sn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Yl=S())),u&4&&pd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Tt=(L=Tt)||H,dn(r,t),Tt=L):dn(r,t),Sn(t),u&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!H&&(t.mode&1)!==0)for(ae=t,H=t.child;H!==null;){for(V=ae=H;ae!==null;){switch(U=ae,ie=U.child,U.tag){case 0:case 11:case 14:case 15:gs(4,U,U.return);break;case 1:xi(U,U.return);var le=U.stateNode;if(typeof le.componentWillUnmount=="function"){u=U,o=U.return;try{r=u,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){nt(u,o,ue)}}break;case 5:xi(U,U.return);break;case 22:if(U.memoizedState!==null){xd(V);continue}}ie!==null?(ie.return=U,ae=ie):xd(V)}H=H.sibling}e:for(H=null,V=t;;){if(V.tag===5){if(H===null){H=V;try{d=V.stateNode,L?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=V.stateNode,b=V.memoizedProps.style,y=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=Yr("display",y))}catch(ue){nt(t,t.return,ue)}}}else if(V.tag===6){if(H===null)try{V.stateNode.nodeValue=L?"":V.memoizedProps}catch(ue){nt(t,t.return,ue)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;H===V&&(H=null),V=V.return}H===V&&(H=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:dn(r,t),Sn(t),u&4&&pd(t);break;case 21:break;default:dn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(hd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Vn(d,""),u.flags&=-33);var p=dd(t);Hl(t,p,d);break;case 3:case 4:var y=u.stateNode.containerInfo,C=dd(t);Ul(t,C,y);break;default:throw Error(n(161))}}catch(b){nt(t,t.return,b)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $p(t,r,o){ae=t,gd(t)}function gd(t,r,o){for(var u=(t.mode&1)!==0;ae!==null;){var d=ae,p=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||No;if(!y){var C=d.alternate,b=C!==null&&C.memoizedState!==null||Tt;C=No;var L=Tt;if(No=y,(Tt=b)&&!L)for(ae=d;ae!==null;)y=ae,b=y.child,y.tag===22&&y.memoizedState!==null?vd(d):b!==null?(b.return=y,ae=b):vd(d);for(;p!==null;)ae=p,gd(p),p=p.sibling;ae=d,No=C,Tt=L}yd(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ae=p):yd(t)}}function yd(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Tt||Bo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Tt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:cn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&xh(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}xh(r,y,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var b=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&o.focus();break;case"img":b.src&&(o.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var V=H.dehydrated;V!==null&&Xi(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||r.flags&512&&Gl(r)}catch(U){nt(r,r.return,U)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function xd(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function vd(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Bo(4,r)}catch(b){nt(r,o,b)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(b){nt(r,d,b)}}var p=r.return;try{Gl(r)}catch(b){nt(r,p,b)}break;case 5:var y=r.return;try{Gl(r)}catch(b){nt(r,y,b)}}}catch(b){nt(r,r.return,b)}if(r===t){ae=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ae=C;break}ae=r.return}}var Op=Math.ceil,$o=j.ReactCurrentDispatcher,Vl=j.ReactCurrentOwner,Jt=j.ReactCurrentBatchConfig,Re=0,gt=null,lt=null,Ct=0,Vt=0,vi=nr(0),ht=0,ys=null,zr=0,Oo=0,Wl=0,xs=null,Ft=null,Yl=0,_i=1/0,Fn=null,Go=!1,Xl=null,lr=null,Uo=!1,ur=null,Ho=0,vs=0,ql=null,Vo=-1,Wo=0;function It(){return(Re&6)!==0?S():Vo!==-1?Vo:Vo=S()}function cr(t){return(t.mode&1)===0?1:(Re&2)!==0&&Ct!==0?Ct&-Ct:kp.transition!==null?(Wo===0&&(Wo=xn()),Wo):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:wc(t.type)),t)}function fn(t,r,o,u){if(50<vs)throw vs=0,ql=null,Error(n(185));Ui(t,o,u),((Re&2)===0||t!==gt)&&(t===gt&&((Re&2)===0&&(Oo|=o),ht===4&&hr(t,Ct)),Nt(t,u),o===1&&Re===0&&(r.mode&1)===0&&(_i=S()+500,_o&&ir()))}function Nt(t,r){var o=t.callbackNode;kr(t,r);var u=st(t,t===gt?Ct:0);if(u===0)o!==null&&Gi(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Gi(o),r===1)t.tag===0?Cp(wd.bind(null,t)):oh(wd.bind(null,t)),vp(function(){(Re&6)===0&&ir()}),o=null;else{switch(fc(u)){case 1:o=O;break;case 4:o=re;break;case 16:o=G;break;case 536870912:o=Q;break;default:o=G}o=Ed(o,_d.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function _d(t,r){if(Vo=-1,Wo=0,(Re&6)!==0)throw Error(n(327));var o=t.callbackNode;if(wi()&&t.callbackNode!==o)return null;var u=st(t,t===gt?Ct:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Yo(t,u);else{r=u;var d=Re;Re|=2;var p=Cd();(gt!==t||Ct!==r)&&(Fn=null,_i=S()+500,Lr(t,r));do try{Hp();break}catch(C){Sd(t,C)}while(!0);fl(),$o.current=p,Re=d,lt!==null?r=0:(gt=null,Ct=0,r=ht)}if(r!==0){if(r===2&&(d=br(t),d!==0&&(u=d,r=Ql(t,d))),r===1)throw o=ys,Lr(t,0),hr(t,u),Nt(t,S()),o;if(r===6)hr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!Gp(d)&&(r=Yo(t,u),r===2&&(p=br(t),p!==0&&(u=p,r=Ql(t,p))),r===1))throw o=ys,Lr(t,0),hr(t,u),Nt(t,S()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:jr(t,Ft,Fn);break;case 3:if(hr(t,u),(u&130023424)===u&&(r=Yl+500-S(),10<r)){if(st(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){It(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=nl(jr.bind(null,t,Ft,Fn),r);break}jr(t,Ft,Fn);break;case 4:if(hr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var y=31-ve(u);p=1<<y,y=r[y],y>d&&(d=y),u&=~p}if(u=d,u=S()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Op(u/1960))-u,10<u){t.timeoutHandle=nl(jr.bind(null,t,Ft,Fn),u);break}jr(t,Ft,Fn);break;case 5:jr(t,Ft,Fn);break;default:throw Error(n(329))}}}return Nt(t,S()),t.callbackNode===o?_d.bind(null,t):null}function Ql(t,r){var o=xs;return t.current.memoizedState.isDehydrated&&(Lr(t,r).flags|=256),t=Yo(t,r),t!==2&&(r=Ft,Ft=o,r!==null&&Kl(r)),t}function Kl(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function Gp(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!ln(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(t,r){for(r&=~Wl,r&=~Oo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-ve(r),u=1<<o;t[o]=-1,r&=~u}}function wd(t){if((Re&6)!==0)throw Error(n(327));wi();var r=st(t,0);if((r&1)===0)return Nt(t,S()),null;var o=Yo(t,r);if(t.tag!==0&&o===2){var u=br(t);u!==0&&(r=u,o=Ql(t,u))}if(o===1)throw o=ys,Lr(t,0),hr(t,r),Nt(t,S()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,jr(t,Ft,Fn),Nt(t,S()),null}function Zl(t,r){var o=Re;Re|=1;try{return t(r)}finally{Re=o,Re===0&&(_i=S()+500,_o&&ir())}}function Dr(t){ur!==null&&ur.tag===0&&(Re&6)===0&&wi();var r=Re;Re|=1;var o=Jt.transition,u=Fe;try{if(Jt.transition=null,Fe=1,t)return t()}finally{Fe=u,Jt.transition=o,Re=r,(Re&6)===0&&ir()}}function Jl(){Vt=vi.current,qe(vi)}function Lr(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,xp(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(ll(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&xo();break;case 3:gi(),qe(Dt),qe(kt),wl();break;case 5:vl(u);break;case 4:gi();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:pl(u.type._context);break;case 22:case 23:Jl()}o=o.return}if(gt=t,lt=t=dr(t.current,null),Ct=Vt=r,ht=0,ys=null,Wl=Oo=zr=0,Ft=xs=null,Ar!==null){for(r=0;r<Ar.length;r++)if(o=Ar[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=d,u.next=y}o.pending=u}Ar=null}return t}function Sd(t,r){do{var o=lt;try{if(fl(),Ao.current=Do,Ro){for(var u=et.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Ro=!1}if(Ir=0,mt=ct=et=null,hs=!1,ds=0,Vl.current=null,o===null||o.return===null){ht=1,ys=r,lt=null;break}e:{var p=t,y=o.return,C=o,b=r;if(r=Ct,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=b,H=C,V=H.tag;if((H.mode&1)===0&&(V===0||V===11||V===15)){var U=H.alternate;U?(H.updateQueue=U.updateQueue,H.memoizedState=U.memoizedState,H.lanes=U.lanes):(H.updateQueue=null,H.memoizedState=null)}var ie=Yh(y);if(ie!==null){ie.flags&=-257,Xh(ie,y,C,p,r),ie.mode&1&&Wh(p,L,r),r=ie,b=L;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(b),r.updateQueue=ue}else le.add(b);break e}else{if((r&1)===0){Wh(p,L,r),eu();break e}b=Error(n(426))}}else if(Qe&&C.mode&1){var ot=Yh(y);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Xh(ot,y,C,p,r),hl(yi(b,C));break e}}p=b=yi(b,C),ht!==4&&(ht=2),xs===null?xs=[p]:xs.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var E=Hh(p,b,r);yh(p,E);break e;case 1:C=b;var T=p.type,I=p.stateNode;if((p.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(lr===null||!lr.has(I)))){p.flags|=65536,r&=-r,p.lanes|=r;var Y=Vh(p,C,r);yh(p,Y);break e}}p=p.return}while(p!==null)}bd(o)}catch(de){r=de,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function Cd(){var t=$o.current;return $o.current=Do,t===null?Do:t}function eu(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||(zr&268435455)===0&&(Oo&268435455)===0||hr(gt,Ct)}function Yo(t,r){var o=Re;Re|=2;var u=Cd();(gt!==t||Ct!==r)&&(Fn=null,Lr(t,r));do try{Up();break}catch(d){Sd(t,d)}while(!0);if(fl(),Re=o,$o.current=u,lt!==null)throw Error(n(261));return gt=null,Ct=0,ht}function Up(){for(;lt!==null;)kd(lt)}function Hp(){for(;lt!==null&&!Js();)kd(lt)}function kd(t){var r=Md(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,r===null?bd(t):lt=r,Vl.current=null}function bd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=jp(o,r,Vt),o!==null){lt=o;return}}else{if(o=Fp(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);ht===0&&(ht=5)}function jr(t,r,o){var u=Fe,d=Jt.transition;try{Jt.transition=null,Fe=1,Vp(t,r,o,u)}finally{Jt.transition=d,Fe=u}return null}function Vp(t,r,o,u){do wi();while(ur!==null);if((Re&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(b0(t,p),t===gt&&(lt=gt=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Uo||(Uo=!0,Ed(G,function(){return wi(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Jt.transition,Jt.transition=null;var y=Fe;Fe=1;var C=Re;Re|=4,Vl.current=null,Bp(t,o),md(o,t),hp(el),ro=!!Ja,el=Ja=null,t.current=o,$p(o),eo(),Re=C,Fe=y,Jt.transition=p}else t.current=o;if(Uo&&(Uo=!1,ur=t,Ho=d),p=t.pendingLanes,p===0&&(lr=null),Ie(o.stateNode),Nt(t,S()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Go)throw Go=!1,t=Xl,Xl=null,t;return(Ho&1)!==0&&t.tag!==0&&wi(),p=t.pendingLanes,(p&1)!==0?t===ql?vs++:(vs=0,ql=t):vs=0,ir(),null}function wi(){if(ur!==null){var t=fc(Ho),r=Jt.transition,o=Fe;try{if(Jt.transition=null,Fe=16>t?16:t,ur===null)var u=!1;else{if(t=ur,ur=null,Ho=0,(Re&6)!==0)throw Error(n(331));var d=Re;for(Re|=4,ae=t.current;ae!==null;){var p=ae,y=p.child;if((ae.flags&16)!==0){var C=p.deletions;if(C!==null){for(var b=0;b<C.length;b++){var L=C[b];for(ae=L;ae!==null;){var H=ae;switch(H.tag){case 0:case 11:case 15:gs(8,H,p)}var V=H.child;if(V!==null)V.return=H,ae=V;else for(;ae!==null;){H=ae;var U=H.sibling,ie=H.return;if(cd(H),H===L){ae=null;break}if(U!==null){U.return=ie,ae=U;break}ae=ie}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var ot=ue.sibling;ue.sibling=null,ue=ot}while(ue!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,ae=y;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:gs(9,p,p.return)}var E=p.sibling;if(E!==null){E.return=p.return,ae=E;break e}ae=p.return}}var T=t.current;for(ae=T;ae!==null;){y=ae;var I=y.child;if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,ae=I;else e:for(y=T;ae!==null;){if(C=ae,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Bo(9,C)}}catch(de){nt(C,C.return,de)}if(C===y){ae=null;break e}var Y=C.sibling;if(Y!==null){Y.return=C.return,ae=Y;break e}ae=C.return}}if(Re=d,ir(),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(W,t)}catch{}u=!0}return u}finally{Fe=o,Jt.transition=r}}return!1}function Pd(t,r,o){r=yi(o,r),r=Hh(t,r,1),t=or(t,r,1),r=It(),t!==null&&(Ui(t,1,r),Nt(t,r))}function nt(t,r,o){if(t.tag===3)Pd(t,t,o);else for(;r!==null;){if(r.tag===3){Pd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){t=yi(o,t),t=Vh(r,t,1),r=or(r,t,1),t=It(),r!==null&&(Ui(r,1,t),Nt(r,t));break}}r=r.return}}function Wp(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=It(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(Ct&o)===o&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>S()-Yl?Lr(t,0):Wl|=o),Nt(t,r)}function Td(t,r){r===0&&((t.mode&1)===0?r=1:(r=$e,$e<<=1,($e&130023424)===0&&($e=4194304)));var o=It();t=Dn(t,r),t!==null&&(Ui(t,r,o),Nt(t,o))}function Yp(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Td(t,o)}function Xp(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Td(t,o)}var Md;Md=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Dt.current)jt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return jt=!1,Lp(t,r,o);jt=(t.flags&131072)!==0}else jt=!1,Qe&&(r.flags&1048576)!==0&&ah(r,So,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Fo(t,r),t=r.pendingProps;var d=ui(r,kt.current);mi(r,o),d=kl(null,r,u,t,d,o);var p=bl();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Lt(u)?(p=!0,vo(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yl(r),d.updater=Lo,r.stateNode=d,d._reactInternals=r,Rl(r,u,t,o),r=Ll(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&al(r),Rt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Fo(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=Qp(u),t=cn(u,t),d){case 0:r=Dl(null,r,u,t,o);break e;case 1:r=ed(null,r,u,t,o);break e;case 11:r=qh(null,r,u,t,o);break e;case 14:r=Qh(null,r,u,cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),Dl(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),ed(t,r,u,d,o);case 3:e:{if(td(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,d=p.element,gh(t,r),Mo(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=yi(Error(n(423)),r),r=nd(t,r,u,o,d);break e}else if(u!==d){d=yi(Error(n(424)),r),r=nd(t,r,u,o,d);break e}else for(Ht=tr(r.stateNode.containerInfo.firstChild),Ut=r,Qe=!0,un=null,o=ph(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(di(),u===d){r=jn(t,r,o);break e}Rt(t,r,u,o)}r=r.child}return r;case 5:return vh(r),t===null&&cl(r),u=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,y=d.children,tl(u,d)?y=null:p!==null&&tl(u,p)&&(r.flags|=32),Jh(t,r),Rt(t,r,y,o),r.child;case 6:return t===null&&cl(r),null;case 13:return rd(t,r,o);case 4:return xl(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=fi(r,null,u,o):Rt(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),qh(t,r,u,d,o);case 7:return Rt(t,r,r.pendingProps,o),r.child;case 8:return Rt(t,r,r.pendingProps.children,o),r.child;case 12:return Rt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,y=d.value,Ye(bo,u._currentValue),u._currentValue=y,p!==null)if(ln(p.value,y)){if(p.children===d.children&&!Dt.current){r=jn(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var C=p.dependencies;if(C!==null){y=p.child;for(var b=C.firstContext;b!==null;){if(b.context===u){if(p.tag===1){b=Ln(-1,o&-o),b.tag=2;var L=p.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?b.next=b:(b.next=H.next,H.next=b),L.pending=b}}p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),ml(p.return,o,r),C.lanes|=o;break}b=b.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),ml(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Rt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,mi(r,o),d=Kt(d),u=u(d),r.flags|=1,Rt(t,r,u,o),r.child;case 14:return u=r.type,d=cn(u,r.pendingProps),d=cn(u.type,d),Qh(t,r,u,d,o);case 15:return Kh(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:cn(u,d),Fo(t,r),r.tag=1,Lt(u)?(t=!0,vo(r)):t=!1,mi(r,o),Gh(r,u,d),Rl(r,u,d,o),Ll(null,r,u,!0,t,o);case 19:return sd(t,r,o);case 22:return Zh(t,r,o)}throw Error(n(156,r.tag))};function Ed(t,r){return Oi(t,r)}function qp(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,r,o,u){return new qp(t,r,o,u)}function tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qp(t){if(typeof t=="function")return tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pe)return 11;if(t===ut)return 14}return 2}function dr(t,r){var o=t.alternate;return o===null?(o=en(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Xo(t,r,o,u,d,p){var y=2;if(u=t,typeof t=="function")tu(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case $:return Fr(o.children,d,p,r);case ce:y=8,d|=8;break;case he:return t=en(12,o,r,d|2),t.elementType=he,t.lanes=p,t;case be:return t=en(13,o,r,d),t.elementType=be,t.lanes=p,t;case Se:return t=en(19,o,r,d),t.elementType=Se,t.lanes=p,t;case ne:return qo(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:y=10;break e;case oe:y=9;break e;case Pe:y=11;break e;case ut:y=14;break e;case ee:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=en(y,o,r,d),r.elementType=t,r.type=u,r.lanes=p,r}function Fr(t,r,o,u){return t=en(7,t,u,r),t.lanes=o,t}function qo(t,r,o,u){return t=en(22,t,u,r),t.elementType=ne,t.lanes=o,t.stateNode={isHidden:!1},t}function nu(t,r,o){return t=en(6,t,null,r),t.lanes=o,t}function ru(t,r,o){return r=en(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Kp(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function iu(t,r,o,u,d,p,y,C,b){return t=new Kp(t,r,o,C,b),r===1?(r=1,p===!0&&(r|=8)):r=0,p=en(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(p),t}function Zp(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Ad(t){if(!t)return rr;t=t._reactInternals;e:{if(Ze(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Lt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Lt(o))return ih(t,o,r)}return r}function Rd(t,r,o,u,d,p,y,C,b){return t=iu(o,u,!0,t,d,p,y,C,b),t.context=Ad(null),o=t.current,u=It(),d=cr(o),p=Ln(u,d),p.callback=r??null,or(o,p,d),t.current.lanes=d,Ui(t,d,u),Nt(t,u),t}function Qo(t,r,o,u){var d=r.current,p=It(),y=cr(d);return o=Ad(o),r.context===null?r.context=o:r.pendingContext=o,r=Ln(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=or(d,r,y),t!==null&&(fn(t,d,y,p),To(t,d,y)),y}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Id(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function su(t,r){Id(t,r),(t=t.alternate)&&Id(t,r)}function Jp(){return null}var zd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ou(t){this._internalRoot=t}Zo.prototype.render=ou.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Qo(t,r,null,null)},Zo.prototype.unmount=ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Dr(function(){Qo(null,t,null,null)}),r[An]=null}};function Zo(t){this._internalRoot=t}Zo.prototype.unstable_scheduleHydration=function(t){if(t){var r=gc();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Zn.length&&r!==0&&r<Zn[o].priority;o++);Zn.splice(o,0,t),o===0&&vc(t)}};function au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function e2(t,r,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var L=Ko(y);p.call(L)}}var y=Rd(r,u,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=y,t[An]=y.current,rs(t.nodeType===8?t.parentNode:t),Dr(),y}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var C=u;u=function(){var L=Ko(b);C.call(L)}}var b=iu(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=b,t[An]=b.current,rs(t.nodeType===8?t.parentNode:t),Dr(function(){Qo(r,b,o,u)}),b}function ea(t,r,o,u,d){var p=o._reactRootContainer;if(p){var y=p;if(typeof d=="function"){var C=d;d=function(){var b=Ko(y);C.call(b)}}Qo(r,y,t,d)}else y=e2(o,r,t,d,u);return Ko(y)}pc=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=ft(r.pendingLanes);o!==0&&(Ra(r,o|1),Nt(r,S()),(Re&6)===0&&(_i=S()+500,ir()))}break;case 13:Dr(function(){var u=Dn(t,1);if(u!==null){var d=It();fn(u,t,1,d)}}),su(t,1)}},Ia=function(t){if(t.tag===13){var r=Dn(t,134217728);if(r!==null){var o=It();fn(r,t,134217728,o)}su(t,134217728)}},mc=function(t){if(t.tag===13){var r=cr(t),o=Dn(t,r);if(o!==null){var u=It();fn(o,t,r,u)}su(t,r)}},gc=function(){return Fe},yc=function(t,r){var o=Fe;try{return Fe=t,r()}finally{Fe=o}},ji=function(t,r,o){switch(r){case"input":if(an(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=yo(u);if(!d)throw Error(n(90));Ve(u),an(u,d)}}}break;case"textarea":Ii(t,o);break;case"select":r=o.value,r!=null&&Un(t,!!o.multiple,r,!1)}},Kr=Zl,qs=Dr;var t2={usingClientEntryPoint:!1,Events:[os,ai,yo,Xs,Fi,Zl]},_s={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n2={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=En(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{W=ta.inject(n2),se=ta}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2,Bt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(r))throw Error(n(200));return Zp(t,r,null,o)},Bt.createRoot=function(t,r){if(!au(t))throw Error(n(299));var o=!1,u="",d=zd;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=iu(t,1,!1,null,null,o,!1,u,d),t[An]=r.current,rs(t.nodeType===8?t.parentNode:t),new ou(r)},Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=En(r),t=t===null?null:t.stateNode,t},Bt.flushSync=function(t){return Dr(t)},Bt.hydrate=function(t,r,o){if(!Jo(r))throw Error(n(200));return ea(null,t,r,!0,o)},Bt.hydrateRoot=function(t,r,o){if(!au(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",y=zd;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Rd(r,null,t,1,o??null,d,!1,p,y),t[An]=r.current,rs(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Zo(r)},Bt.render=function(t,r,o){if(!Jo(r))throw Error(n(200));return ea(null,t,r,!1,o)},Bt.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(n(40));return t._reactRootContainer?(Dr(function(){ea(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1},Bt.unstable_batchedUpdates=Zl,Bt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Jo(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ea(t,r,o,!1,u)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var Gd;function c2(){if(Gd)return cu.exports;Gd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cu.exports=u2(),cu.exports}var Ud;function h2(){if(Ud)return na;Ud=1;var i=c2();return na.createRoot=i.createRoot,na.hydrateRoot=i.hydrateRoot,na}var d2=h2();const f2=ec(d2);var ke=tc();const p2="modulepreload",m2=function(i){return"/"+i},Hd={},_a=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(m=>{if(m=m2(m),m in Hd)return;Hd[m]=!0;const g=m.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":p2,g||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((v,k)=>{_.addEventListener("load",v),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Ne=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(Ne||{});const Fu=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},ra=(i,e)=>Fu(i).priority??e,sn={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Fu).forEach(e=>{e.type.forEach(n=>{var s,a;return(a=(s=this._removeHandlers)[n])==null?void 0:a.call(s,e)})}),this},add(...i){return i.map(Fu).forEach(e=>{e.type.forEach(n=>{var l,c;const s=this._addHandlers,a=this._queue;s[n]?(c=s[n])==null||c.call(s,e):(a[n]=a[n]||[],(l=a[n])==null||l.push(e))})}),this},handle(i,e,n){var c;const s=this._addHandlers,a=this._removeHandlers;if(s[i]||a[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=e,a[i]=n;const l=this._queue;return l[i]&&((c=l[i])==null||c.forEach(h=>e(h)),delete l[i]),this},handleByMap(i,e){return this.handle(i,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(i,e,n=-1){return this.handle(i,s=>{e.findIndex(l=>l.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((l,c)=>ra(c.value,n)-ra(l.value,n)))},s=>{const a=e.findIndex(l=>l.name===s.name);a!==-1&&e.splice(a,1)})},handleByList(i,e,n=-1){return this.handle(i,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((a,l)=>ra(l,n)-ra(a,n)))},s=>{const a=e.indexOf(s.ref);a!==-1&&e.splice(a,1)})},mixin(i,...e){for(const n of e)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(n))}},g2={extension:{type:Ne.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await _a(()=>import("./browserAll-BLTtb-rQ.js"),__vite__mapDeps([0,1,2,3]))}},y2={extension:{type:Ne.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await _a(()=>import("./webworkerAll-dQdwEMNC.js"),__vite__mapDeps([1,2,3]))}};class Mt{constructor(e,n,s){this._x=n||0,this._y=s||0,this._observer=e}clone(e){return new Mt(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var fu={exports:{}},Vd;function x2(){return Vd||(Vd=1,(function(i){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function l(f,m,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new a(g,x||f,_),k=n?n+m:m;return f._events[k]?f._events[k].fn?f._events[k]=[f._events[k],v]:f._events[k].push(v):(f._events[k]=v,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)e.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,v=x.length,k=new Array(v);_<v;_++)k[_]=x[_].fn;return k},h.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},h.prototype.emit=function(m,g,x,_,v,k){var P=n?n+m:m;if(!this._events[P])return!1;var w=this._events[P],A=arguments.length,R,z;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,x),!0;case 4:return w.fn.call(w.context,g,x,_),!0;case 5:return w.fn.call(w.context,g,x,_,v),!0;case 6:return w.fn.call(w.context,g,x,_,v,k),!0}for(z=1,R=new Array(A-1);z<A;z++)R[z-1]=arguments[z];w.fn.apply(w.context,R)}else{var j=w.length,X;for(z=0;z<j;z++)switch(w[z].once&&this.removeListener(m,w[z].fn,void 0,!0),A){case 1:w[z].fn.call(w[z].context);break;case 2:w[z].fn.call(w[z].context,g);break;case 3:w[z].fn.call(w[z].context,g,x);break;case 4:w[z].fn.call(w[z].context,g,x,_);break;default:if(!R)for(X=1,R=new Array(A-1);X<A;X++)R[X-1]=arguments[X];w[z].fn.apply(w[z].context,R)}}return!0},h.prototype.on=function(m,g,x){return l(this,m,g,x,!1)},h.prototype.once=function(m,g,x){return l(this,m,g,x,!0)},h.prototype.removeListener=function(m,g,x,_){var v=n?n+m:m;if(!this._events[v])return this;if(!g)return c(this,v),this;var k=this._events[v];if(k.fn)k.fn===g&&(!_||k.once)&&(!x||k.context===x)&&c(this,v);else{for(var P=0,w=[],A=k.length;P<A;P++)(k[P].fn!==g||_&&!k[P].once||x&&k[P].context!==x)&&w.push(k[P]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,i.exports=h})(fu)),fu.exports}var v2=x2();const Gn=ec(v2),_2=Math.PI*2,w2=180/Math.PI,S2=Math.PI/180;class Et{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Et(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return pu.x=0,pu.y=0,pu}}const pu=new Et;class Ee{constructor(e=1,n=0,s=0,a=1,l=0,c=0){this.array=null,this.a=e,this.b=n,this.c=s,this.d=a,this.tx=l,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,s,a,l,c){return this.a=e,this.b=n,this.c=s,this.d=a,this.tx=l,this.ty=c,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const s=n||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,n){n=n||new Et;const s=e.x,a=e.y;return n.x=this.a*s+this.c*a+this.tx,n.y=this.b*s+this.d*a+this.ty,n}applyInverse(e,n){n=n||new Et;const s=this.a,a=this.b,l=this.c,c=this.d,h=this.tx,f=this.ty,m=1/(s*c+l*-a),g=e.x,x=e.y;return n.x=c*m*g+-l*m*x+(f*l-h*c)*m,n.y=s*m*x+-a*m*g+(-f*s+h*a)*m,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),s=Math.sin(e),a=this.a,l=this.c,c=this.tx;return this.a=a*n-this.b*s,this.b=a*s+this.b*n,this.c=l*n-this.d*s,this.d=l*s+this.d*n,this.tx=c*n-this.ty*s,this.ty=c*s+this.ty*n,this}append(e){const n=this.a,s=this.b,a=this.c,l=this.d;return this.a=e.a*n+e.b*a,this.b=e.a*s+e.b*l,this.c=e.c*n+e.d*a,this.d=e.c*s+e.d*l,this.tx=e.tx*n+e.ty*a+this.tx,this.ty=e.tx*s+e.ty*l+this.ty,this}appendFrom(e,n){const s=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty,m=n.a,g=n.b,x=n.c,_=n.d;return this.a=s*m+a*x,this.b=s*g+a*_,this.c=l*m+c*x,this.d=l*g+c*_,this.tx=h*m+f*x+n.tx,this.ty=h*g+f*_+n.ty,this}setTransform(e,n,s,a,l,c,h,f,m){return this.a=Math.cos(h+m)*l,this.b=Math.sin(h+m)*l,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=e-(s*this.a+a*this.c),this.ty=n-(s*this.b+a*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,a=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,s=this.b,a=this.c,l=this.d,c=e.pivot,h=-Math.atan2(-a,l),f=Math.atan2(s,n),m=Math.abs(h+f);return m<1e-5||Math.abs(_2-m)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(n*n+s*s),e.scale.y=Math.sqrt(a*a+l*l),e.position.x=this.tx+(c.x*n+c.y*a),e.position.y=this.ty+(c.x*s+c.y*l),e}invert(){const e=this.a,n=this.b,s=this.c,a=this.d,l=this.tx,c=e*a-n*s;return this.a=a/c,this.b=-n/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-a*l)/c,this.ty=-(e*this.ty-n*l)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ee;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return k2.identity()}static get shared(){return C2.identity()}}const C2=new Ee,k2=new Ee,Br=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$r=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Or=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Nu=[],i1=[],ia=Math.sign;function b2(){for(let i=0;i<16;i++){const e=[];Nu.push(e);for(let n=0;n<16;n++){const s=ia(Br[i]*Br[n]+Or[i]*$r[n]),a=ia($r[i]*Br[n]+Gr[i]*$r[n]),l=ia(Br[i]*Or[n]+Or[i]*Gr[n]),c=ia($r[i]*Or[n]+Gr[i]*Gr[n]);for(let h=0;h<16;h++)if(Br[h]===s&&$r[h]===a&&Or[h]===l&&Gr[h]===c){e.push(h);break}}}for(let i=0;i<16;i++){const e=new Ee;e.set(Br[i],$r[i],Or[i],Gr[i],0,0),i1.push(e)}}b2();const He={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Br[i],uY:i=>$r[i],vX:i=>Or[i],vY:i=>Gr[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Nu[i][e],sub:(i,e)=>Nu[i][He.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?He.S:He.N:Math.abs(e)*2<=Math.abs(i)?i>0?He.E:He.W:e>0?i>0?He.SE:He.SW:i>0?He.NE:He.NW,matrixAppendRotationInv:(i,e,n=0,s=0)=>{const a=i1[He.inv(e)];a.tx=n,a.ty=s,i.append(a)},transformRectCoords:(i,e,n,s)=>{const{x:a,y:l,width:c,height:h}=i,{x:f,y:m,width:g,height:x}=e;return n===He.E?(s.set(a+f,l+m,c,h),s):n===He.S?s.set(g-l-h+f,a+m,h,c):n===He.W?s.set(g-a-c+f,x-l-h+m,c,h):n===He.N?s.set(l+f,x-a-c+m,h,c):s.set(a+f,l+m,c,h)}},sa=[new Et,new Et,new Et,new Et];class _t{constructor(e=0,n=0,s=0,a=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(s),this.height=Number(a)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new _t(0,0,0,0)}clone(){return new _t(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,s,a=.5){const{width:l,height:c}=this;if(l<=0||c<=0)return!1;const h=this.x,f=this.y,m=s*(1-a),g=s-m,x=h-m,_=h+l+m,v=f-m,k=f+c+m,P=h+g,w=h+l-g,A=f+g,R=f+c-g;return e>=x&&e<=_&&n>=v&&n<=k&&!(e>P&&e<w&&n>A&&n<R)}intersects(e,n){if(!n){const ce=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=ce)return!1;const K=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>K}const s=this.left,a=this.right,l=this.top,c=this.bottom;if(a<=s||c<=l)return!1;const h=sa[0].set(e.left,e.top),f=sa[1].set(e.left,e.bottom),m=sa[2].set(e.right,e.top),g=sa[3].set(e.right,e.bottom);if(m.x<=h.x||f.y<=h.y)return!1;const x=Math.sign(n.a*n.d-n.b*n.c);if(x===0||(n.apply(h,h),n.apply(f,f),n.apply(m,m),n.apply(g,g),Math.max(h.x,f.x,m.x,g.x)<=s||Math.min(h.x,f.x,m.x,g.x)>=a||Math.max(h.y,f.y,m.y,g.y)<=l||Math.min(h.y,f.y,m.y,g.y)>=c))return!1;const _=x*(f.y-h.y),v=x*(h.x-f.x),k=_*s+v*l,P=_*a+v*l,w=_*s+v*c,A=_*a+v*c;if(Math.max(k,P,w,A)<=_*h.x+v*h.y||Math.min(k,P,w,A)>=_*g.x+v*g.y)return!1;const R=x*(h.y-m.y),z=x*(m.x-h.x),j=R*s+z*l,X=R*a+z*l,B=R*s+z*c,$=R*a+z*c;return!(Math.max(j,X,B,$)<=R*h.x+z*h.y||Math.min(j,X,B,$)>=R*g.x+z*g.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),l=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(s-n,0),this.y=a,this.height=Math.max(l-a,0),this}ceil(e=1,n=.001){const s=Math.ceil((this.x+this.width-n)*e)/e,a=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=s-this.x,this.height=a-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),l=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=s-n,this.y=a,this.height=l-a,this}getBounds(e){return e||(e=new _t),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,s=e.y,a=e.x+e.width,l=e.y+e.height;return n>=this.x&&n<this.x+this.width&&s>=this.y&&s<this.y+this.height&&a>=this.x&&a<this.x+this.width&&l>=this.y&&l<this.y+this.height}set(e,n,s,a){return this.x=e,this.y=n,this.width=s,this.height=a,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const mu={default:-1};function at(i="default"){return mu[i]===void 0&&(mu[i]=-1),++mu[i]}const Wd=new Set,dt="8.0.0",P2="8.3.4",Ti={quiet:!1,noColor:!1},Oe=(i,e,n=3)=>{if(Ti.quiet||Wd.has(e))return;let s=new Error().stack;const a=`${e}
Deprecated since v${i}`,l=typeof console.groupCollapsed=="function"&&!Ti.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",a):(s=s.split(`
`).splice(n).join(`
`),l?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",a),console.warn(s))),Wd.add(e)};Object.defineProperties(Oe,{quiet:{get:()=>Ti.quiet,set:i=>{Ti.quiet=i},enumerable:!0,configurable:!1},noColor:{get:()=>Ti.noColor,set:i=>{Ti.noColor=i},enumerable:!0,configurable:!1}});const s1=()=>{};function Yd(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Xd(i){return!(i&i-1)&&!!i}function o1(i){const e={};for(const n in i)i[n]!==void 0&&(e[n]=i[n]);return e}const qd=Object.create(null);function T2(i){const e=qd[i];return e===void 0&&(qd[i]=at("resource")),e}const a1=class l1 extends Gn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...l1.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Oe(dt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=T2(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};a1.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let u1=a1;const c1=class h1 extends Gn{constructor(e={}){super(),this.options=e,this.uid=at("textureSource"),this._resourceType="textureSource",this._resourceId=at("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...h1.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new u1(o1(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var n,s;this.style!==e&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=e,(s=this._style)==null||s.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=at("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,s){s||(s=this._resolution),e||(e=this.width),n||(n=this.height);const a=Math.round(e*s),l=Math.round(n*s);return this.width=a/s,this.height=l/s,this._resolution=s,this.pixelWidth===a&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=a,this.pixelHeight=l,this.emit("resize",this),this._resourceId=at("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Xd(this.pixelWidth)&&Xd(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};c1.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let yn=c1;class nc extends yn{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(n instanceof Float32Array?s="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?s="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?s="rgba16uint":(n instanceof Int8Array,s="bgra8unorm")),super({...e,resource:n,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}nc.extension=Ne.TextureSource;const Qd=new Ee;class M2{constructor(e,n){this.mapCoord=new Ee,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var n;this.texture!==e&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const s=this.mapCoord;for(let a=0;a<e.length;a+=2){const l=e[a],c=e[a+1];n[a]=l*s.a+c*s.c+s.tx,n[a+1]=l*s.b+c*s.d+s.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=e.orig,a=e.trim;a&&(Qd.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Qd));const l=e.source,c=this.uClampFrame,h=this.clampMargin/l._resolution,f=this.clampOffset/l._resolution;return c[0]=(e.frame.x+h+f)/l.width,c[1]=(e.frame.y+h+f)/l.height,c[2]=(e.frame.x+e.frame.width-h+f)/l.width,c[3]=(e.frame.y+e.frame.height-h+f)/l.height,this.uClampOffset[0]=this.clampOffset/l.pixelWidth,this.uClampOffset[1]=this.clampOffset/l.pixelHeight,this.isSimple=e.frame.width===l.width&&e.frame.height===l.height&&e.rotate===0,!0}}class Ge extends Gn{constructor({source:e,label:n,frame:s,orig:a,trim:l,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:m}={}){if(super(),this.uid=at("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new _t,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(e==null?void 0:e.source)??new yn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=a||this.frame,this.trim=l,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new M2(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:s,height:a}=this._source,l=n.x/s,c=n.y/a,h=n.width/s,f=n.height/a;let m=this.rotate;if(m){const g=h/2,x=f/2,_=l+g,v=c+x;m=He.add(m,He.NW),e.x0=_+g*He.uX(m),e.y0=v+x*He.uY(m),m=He.add(m,2),e.x1=_+g*He.uX(m),e.y1=v+x*He.uY(m),m=He.add(m,2),e.x2=_+g*He.uX(m),e.y2=v+x*He.uY(m),m=He.add(m,2),e.x3=_+g*He.uX(m),e.y3=v+x*He.uY(m)}else e.x0=l,e.y0=c,e.x1=l+h,e.y1=c,e.x2=l+h,e.y2=c+f,e.x3=l,e.y3=c+f}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Oe(dt,"Texture.baseTexture is now Texture.source"),this._source}}Ge.EMPTY=new Ge({label:"EMPTY",source:new yn({label:"EMPTY"})});Ge.EMPTY.destroy=s1;Ge.WHITE=new Ge({source:new nc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ge.WHITE.destroy=s1;function E2(i,e,n){const{width:s,height:a}=n.orig,l=n.trim;if(l){const c=l.width,h=l.height;i.minX=l.x-e._x*s,i.maxX=i.minX+c,i.minY=l.y-e._y*a,i.maxY=i.minY+h}else i.minX=-e._x*s,i.maxX=i.minX+s,i.minY=-e._y*a,i.maxY=i.minY+a}const Kd=new Ee;class gn{constructor(e=1/0,n=1/0,s=-1/0,a=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Kd,this.minX=e,this.minY=n,this.maxX=s,this.maxY=a}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new _t);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Kd,this}set(e,n,s,a){this.minX=e,this.minY=n,this.maxX=s,this.maxY=a}addFrame(e,n,s,a,l){l||(l=this.matrix);const c=l.a,h=l.b,f=l.c,m=l.d,g=l.tx,x=l.ty;let _=this.minX,v=this.minY,k=this.maxX,P=this.maxY,w=c*e+f*n+g,A=h*e+m*n+x;w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*s+f*n+g,A=h*s+m*n+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*e+f*a+g,A=h*e+m*a+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),w=c*s+f*a+g,A=h*s+m*a+x,w<_&&(_=w),A<v&&(v=A),w>k&&(k=w),A>P&&(P=A),this.minX=_,this.minY=v,this.maxX=k,this.maxY=P}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,s=this.minY,a=this.maxX,l=this.maxY,{a:c,b:h,c:f,d:m,tx:g,ty:x}=e;let _=c*n+f*s+g,v=h*n+m*s+x;this.minX=_,this.minY=v,this.maxX=_,this.maxY=v,_=c*a+f*s+g,v=h*a+m*s+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*n+f*l+g,v=h*n+m*l+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*a+f*l+g,v=h*a+m*l+x,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,s,a){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<s&&(this.minY=s),this.maxY>a&&(this.maxY=a),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new gn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,s,a){let l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;a||(a=this.matrix);const m=a.a,g=a.b,x=a.c,_=a.d,v=a.tx,k=a.ty;for(let P=n;P<s;P+=2){const w=e[P],A=e[P+1],R=m*w+x*A+v,z=g*w+_*A+k;l=R<l?R:l,c=z<c?z:c,h=R>h?R:h,f=z>f?z:f}this.minX=l,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var A2={grad:.9,turn:360,rad:360/(2*Math.PI)},Nn=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},vt=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*i)/n+0},tn=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),i>n?n:i>e?i:e},d1=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},Zd=function(i){return{r:tn(i.r,0,255),g:tn(i.g,0,255),b:tn(i.b,0,255),a:tn(i.a)}},gu=function(i){return{r:vt(i.r),g:vt(i.g),b:vt(i.b),a:vt(i.a,3)}},R2=/^#([0-9a-f]{3,8})$/i,oa=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},f1=function(i){var e=i.r,n=i.g,s=i.b,a=i.a,l=Math.max(e,n,s),c=l-Math.min(e,n,s),h=c?l===e?(n-s)/c:l===n?2+(s-e)/c:4+(e-n)/c:0;return{h:60*(h<0?h+6:h),s:l?c/l*100:0,v:l/255*100,a}},p1=function(i){var e=i.h,n=i.s,s=i.v,a=i.a;e=e/360*6,n/=100,s/=100;var l=Math.floor(e),c=s*(1-n),h=s*(1-(e-l)*n),f=s*(1-(1-e+l)*n),m=l%6;return{r:255*[s,h,c,c,f,s][m],g:255*[f,s,s,h,c,c][m],b:255*[c,c,f,s,s,h][m],a}},Jd=function(i){return{h:d1(i.h),s:tn(i.s,0,100),l:tn(i.l,0,100),a:tn(i.a)}},ef=function(i){return{h:vt(i.h),s:vt(i.s),l:vt(i.l),a:vt(i.a,3)}},tf=function(i){return p1((n=(e=i).s,{h:e.h,s:(n*=((s=e.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:e.a}));var e,n,s},Ls=function(i){return{h:(e=f1(i)).h,s:(a=(200-(n=e.s))*(s=e.v)/100)>0&&a<200?n*s/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,n,s,a},I2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,D2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bu={string:[[function(i){var e=R2.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?vt(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?vt(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=D2.exec(i)||L2.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:Zd({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=I2.exec(i)||z2.exec(i);if(!e)return null;var n,s,a=Jd({h:(n=e[1],s=e[2],s===void 0&&(s="deg"),Number(n)*(A2[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return tf(a)},"hsl"]],object:[[function(i){var e=i.r,n=i.g,s=i.b,a=i.a,l=a===void 0?1:a;return Nn(e)&&Nn(n)&&Nn(s)?Zd({r:Number(e),g:Number(n),b:Number(s),a:Number(l)}):null},"rgb"],[function(i){var e=i.h,n=i.s,s=i.l,a=i.a,l=a===void 0?1:a;if(!Nn(e)||!Nn(n)||!Nn(s))return null;var c=Jd({h:Number(e),s:Number(n),l:Number(s),a:Number(l)});return tf(c)},"hsl"],[function(i){var e=i.h,n=i.s,s=i.v,a=i.a,l=a===void 0?1:a;if(!Nn(e)||!Nn(n)||!Nn(s))return null;var c=(function(h){return{h:d1(h.h),s:tn(h.s,0,100),v:tn(h.v,0,100),a:tn(h.a)}})({h:Number(e),s:Number(n),v:Number(s),a:Number(l)});return p1(c)},"hsv"]]},nf=function(i,e){for(var n=0;n<e.length;n++){var s=e[n][0](i);if(s)return[s,e[n][1]]}return[null,void 0]},j2=function(i){return typeof i=="string"?nf(i.trim(),Bu.string):typeof i=="object"&&i!==null?nf(i,Bu.object):[null,void 0]},yu=function(i,e){var n=Ls(i);return{h:n.h,s:tn(n.s+100*e,0,100),l:n.l,a:n.a}},xu=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},rf=function(i,e){var n=Ls(i);return{h:n.h,s:n.s,l:tn(n.l+100*e,0,100),a:n.a}},$u=(function(){function i(e){this.parsed=j2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return vt(xu(this.rgba),2)},i.prototype.isDark=function(){return xu(this.rgba)<.5},i.prototype.isLight=function(){return xu(this.rgba)>=.5},i.prototype.toHex=function(){return e=gu(this.rgba),n=e.r,s=e.g,a=e.b,c=(l=e.a)<1?oa(vt(255*l)):"","#"+oa(n)+oa(s)+oa(a)+c;var e,n,s,a,l,c},i.prototype.toRgb=function(){return gu(this.rgba)},i.prototype.toRgbString=function(){return e=gu(this.rgba),n=e.r,s=e.g,a=e.b,(l=e.a)<1?"rgba("+n+", "+s+", "+a+", "+l+")":"rgb("+n+", "+s+", "+a+")";var e,n,s,a,l},i.prototype.toHsl=function(){return ef(Ls(this.rgba))},i.prototype.toHslString=function(){return e=ef(Ls(this.rgba)),n=e.h,s=e.s,a=e.l,(l=e.a)<1?"hsla("+n+", "+s+"%, "+a+"%, "+l+")":"hsl("+n+", "+s+"%, "+a+"%)";var e,n,s,a,l},i.prototype.toHsv=function(){return e=f1(this.rgba),{h:vt(e.h),s:vt(e.s),v:vt(e.v),a:vt(e.a,3)};var e},i.prototype.invert=function(){return bn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),bn(yu(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),bn(yu(this.rgba,-e))},i.prototype.grayscale=function(){return bn(yu(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),bn(rf(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),bn(rf(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?bn({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):vt(this.rgba.a,3);var n},i.prototype.hue=function(e){var n=Ls(this.rgba);return typeof e=="number"?bn({h:e,s:n.s,l:n.l,a:n.a}):vt(n.h)},i.prototype.isEqual=function(e){return this.toHex()===bn(e).toHex()},i})(),bn=function(i){return i instanceof $u?i:new $u(i)},sf=[],F2=function(i){i.forEach(function(e){sf.indexOf(e)<0&&(e($u,Bu),sf.push(e))})};function N2(i,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var a in n)s[n[a]]=a;var l={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,m=s[this.toHex()];if(m)return m;if(c!=null&&c.closest){var g=this.toRgb(),x=1/0,_="black";if(!l.length)for(var v in n)l[v]=new i(n[v]).toRgb();for(var k in n){var P=(h=g,f=l[k],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));P<x&&(x=P,_=k)}return _}},e.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":n[h];return f?new i(f).toRgb():null},"name"])}F2([N2]);const Mi=class As{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof As)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const s=typeof e;if(s!==typeof n)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((l,c)=>l===n[c]);if(e!==null&&n!==null){const l=Object.keys(e),c=Object.keys(n);return l.length!==c.length?!1:l.every(h=>e[h]===n[h])}return e===n}toRgba(){const[e,n,s,a]=this._components;return{r:e,g:n,b:s,a}}toRgb(){const[e,n,s]=this._components;return{r:e,g:n,b:s}}toRgbaString(){const[e,n,s]=this.toUint8RgbArray();return`rgba(${e},${n},${s},${this.alpha})`}toUint8RgbArray(e){const[n,s,a]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(s*255),e[2]=Math.round(a*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,s,a,l]=this._components;return e[0]=n,e[1]=s,e[2]=a,e[3]=l,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,s,a]=this._components;return e[0]=n,e[1]=s,e[2]=a,e}toNumber(){return this._int}toBgrNumber(){const[e,n,s]=this.toUint8RgbArray();return(s<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,s,a,l]=As._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=s,this._components[2]*=a,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let s=this._int>>16&255,a=this._int>>8&255,l=this._int&255;return n&&(s=s*e+.5|0,a=a*e+.5|0,l=l*e+.5|0),(e*255<<24)+(s<<16)+(a<<8)+l}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,s,a,l;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;n=(c>>16&255)/255,s=(c>>8&255)/255,a=(c&255)/255,l=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,s,a,l=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,s,a,l=255]=e,n/=255,s/=255,a/=255,l/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=As.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=bn(e);c.isValid()&&({r:n,g:s,b:a,a:l}=c.rgba,n/=255,s/=255,a/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=s,this._components[2]=a,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,s]=this._components;this._int=(e*255<<16)+(n*255<<8)+(s*255|0)}_clamp(e,n=0,s=1){return typeof e=="number"?Math.min(Math.max(e,n),s):(e.forEach((a,l)=>{e[l]=Math.min(Math.max(a,n),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof As||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Mi.shared=new Mi;Mi._temp=new Mi;Mi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let nn=Mi;const B2={cullArea:null,cullable:!1,cullableChildren:!0};let vu=0;const of=500;function Yt(...i){vu!==of&&(vu++,vu===of?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}const Ca={_registeredResources:new Set,register(i){this._registeredResources.add(i)},unregister(i){this._registeredResources.delete(i)},release(){this._registeredResources.forEach(i=>i.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(i){return this._registeredResources.has(i)},reset(){this._registeredResources.clear()}};class $2{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var s;let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),(s=n.init)==null||s.call(n,e),n}return(e){var n;(n=e.reset)==null||n.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class O2{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new $2(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const s=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[s]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const rn=new O2;Ca.register(rn);const G2={get isCachedAsTexture(){var i;return!!((i=this.renderGroup)!=null&&i.isCachedAsTexture)},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){var i;(i=this.renderGroup)==null||i.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){Oe("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function U2(i,e,n){const s=i.length;let a;if(e>=s||n===0)return;n=e+n>s?s-e:n;const l=s-n;for(a=e;a<l;++a)i[a]=i[a+n];i.length=l}const H2={allowChildren:!0,removeChildren(i=0,e){var l;const n=e??this.children.length,s=n-i,a=[];if(s>0&&s<=n){for(let h=n-1;h>=i;h--){const f=this.children[h];f&&(a.push(f),f.parent=null)}U2(this.children,i,n);const c=this.renderGroup||this.parentRenderGroup;c&&c.removeChildren(a);for(let h=0;h<a.length;++h){const f=a[h];(l=f.parentRenderLayer)==null||l.detach(f),this.emit("childRemoved",f,this,h),a[h].emit("removed",this)}return a.length>0&&this._didViewChangeTick++,a}else if(s===0&&this.children.length===0)return a;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const e=this.getChildAt(i);return this.removeChild(e)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,e)},getChildIndex(i){const e=this.children.indexOf(i);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(i,e){this.allowChildren||Oe(dt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${i}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(i.parent){const a=i.parent.children.indexOf(i);if(i.parent===this&&a===e)return i;a!==-1&&i.parent.children.splice(a,1)}e===n.length?n.push(i):n.splice(e,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,e),i.emit("added",this),i},swapChildren(i,e){if(i===e)return;const n=this.getChildIndex(i),s=this.getChildIndex(e);this.children[n]=e,this.children[s]=i;const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var i;(i=this.parent)==null||i.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(e=>this.reparentChildAt(e,this.children.length)),i[0])},reparentChildAt(i,e){if(i.parent===this)return this.setChildIndex(i,e),i;const n=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,e);const s=this.worldTransform.clone();return s.invert(),n.prepend(s),i.setFromMatrix(n),i},replaceChild(i,e){i.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(i)),e.setFromMatrix(i.localTransform),e.updateLocalTransform(),this.removeChild(i)}},V2={collectRenderables(i,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,e,n))},collectRenderablesSimple(i,e,n){const s=this.children,a=s.length;for(let l=0;l<a;l++)s[l].collectRenderables(i,e,n)},collectRenderablesWithEffects(i,e,n){const{renderPipes:s}=e;for(let a=0;a<this.effects.length;a++){const l=this.effects[a];s[l.pipe].push(l,this,i)}this.collectRenderablesSimple(i,e,n);for(let a=this.effects.length-1;a>=0;a--){const l=this.effects[a];s[l.pipe].pop(l,this,i)}}};class af{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class W2{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const s=this._tests[n];if(s.test(e))return rn.get(s.maskClass,e)}return e}returnMaskEffect(e){rn.return(e)}}const Ou=new W2;sn.handleByList(Ne.MaskEffect,Ou._effectClasses);const Y2={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((n,s)=>n.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const e=this.effects.indexOf(i);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const e=this._maskEffect;(e==null?void 0:e.mask)!==i&&(e&&(this.removeEffect(e),Ou.returnMaskEffect(e),this._maskEffect=null),i!=null&&(this._maskEffect=Ou.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){var i;return(i=this._maskEffect)==null?void 0:i.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){var l;!Array.isArray(i)&&i&&(i=[i]);const e=this._filterEffect||(this._filterEffect=new af);i=i;const n=(i==null?void 0:i.length)>0,s=((l=e.filters)==null?void 0:l.length)>0,a=n!==s;i=Array.isArray(i)?i.slice(0):i,e.filters=Object.freeze(i),a&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=i??null))},get filters(){var i;return(i=this._filterEffect)==null?void 0:i.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new af),this._filterEffect.filterArea=i},get filterArea(){var i;return(i=this._filterEffect)==null?void 0:i.filterArea}},X2={label:null,get name(){return Oe(dt,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){Oe(dt,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,e=!1){return this.getChildByLabel(i,e)},getChildByLabel(i,e=!1){const n=this.children;for(let s=0;s<n.length;s++){const a=n[s];if(a.label===i||i instanceof RegExp&&i.test(a.label))return a}if(e)for(let s=0;s<n.length;s++){const l=n[s].getChildByLabel(i,!0);if(l)return l}return null},getChildrenByLabel(i,e=!1,n=[]){const s=this.children;for(let a=0;a<s.length;a++){const l=s[a];(l.label===i||i instanceof RegExp&&i.test(l.label))&&n.push(l)}if(e)for(let a=0;a<s.length;a++)s[a].getChildrenByLabel(i,!0,n);return n}},zt=rn.getPool(Ee),$n=rn.getPool(gn),q2=new Ee,Q2={getFastGlobalBounds(i,e){e||(e=new gn),e.clear(),this._getGlobalBoundsRecursive(!!i,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(i,e,n){let s=e;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const a=!!this.effects.length;if((this.renderGroup||a)&&(s=$n.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const l=this.children;for(let c=0;c<l.length;c++)l[c]._getGlobalBoundsRecursive(i,s,n)}if(a){let l=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(l||(l=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));l&&s.applyMatrix(c.worldTransform.copyTo(q2).invert()),e.addBounds(s),$n.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),$n.return(s))}};function m1(i,e,n){n.clear();let s,a;return i.parent?e?s=i.parent.worldTransform:(a=zt.get().identity(),s=rc(i,a)):s=Ee.IDENTITY,g1(i,n,s,e),a&&zt.return(a),n.isValid||n.set(0,0,0,0),n}function g1(i,e,n,s){var h,f;if(!i.visible||!i.measurable)return;let a;s?a=i.worldTransform:(i.updateLocalTransform(),a=zt.get(),a.appendFrom(i.localTransform,n));const l=e,c=!!i.effects.length;if(c&&(e=$n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,a);else{const m=i.bounds;m&&!m.isEmpty()&&(e.matrix=a,e.addBounds(m));for(let g=0;g<i.children.length;g++)g1(i.children[g],e,a,s)}if(c){for(let m=0;m<i.effects.length;m++)(f=(h=i.effects[m]).addBounds)==null||f.call(h,e);l.addBounds(e,Ee.IDENTITY),$n.return(e)}s||zt.return(a)}function rc(i,e){const n=i.parent;return n&&(rc(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function y1(i,e){if(i===16777215||!e)return e;if(e===16777215||!i)return i;const n=i>>16&255,s=i>>8&255,a=i&255,l=e>>16&255,c=e>>8&255,h=e&255,f=n*l/255|0,m=s*c/255|0,g=a*h/255|0;return(f<<16)+(m<<8)+g}const lf=16777215;function uf(i,e){return i===lf?e:e===lf?i:y1(i,e)}function ya(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const K2={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(i=new Ee,e){if(e)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const n=rc(this,zt.get().identity());return i.appendFrom(this.localTransform,n),zt.return(n),i},getGlobalTint(i){if(i)return this.renderGroup?ya(this.renderGroup.worldColor):this.parentRenderGroup?ya(uf(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=uf(e,n.localColor),n=n.parent;return ya(e)}};function x1(i,e,n){return e.clear(),n||(n=Ee.IDENTITY),v1(i,e,n,i,!0),e.isValid||e.set(0,0,0,0),e}function v1(i,e,n,s,a){var f,m;let l;if(a)l=zt.get(),l=n.copyTo(l);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const g=i.localTransform;l=zt.get(),l.appendFrom(g,n)}const c=e,h=!!i.effects.length;if(h&&(e=$n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,l);else{i.renderPipeId&&(e.matrix=l,e.addBounds(i.bounds));const g=i.children;for(let x=0;x<g.length;x++)v1(g[x],e,l,s,!1)}if(h){for(let g=0;g<i.effects.length;g++)(m=(f=i.effects[g]).addLocalBounds)==null||m.call(f,e,s);c.addBounds(e,Ee.IDENTITY),$n.return(e)}zt.return(l)}function _1(i,e){const n=i.children;for(let s=0;s<n.length;s++){const a=n[s],l=a.uid,c=(a._didViewChangeTick&65535)<<16|a._didContainerChangeTick&65535,h=e.index;(e.data[h]!==l||e.data[h+1]!==c)&&(e.data[e.index]=l,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,a.children.length&&_1(a,e)}return e.didChange}const Z2=new Ee,J2={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=i/e*n:this.scale.x=n},_setHeight(i,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=i/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new gn});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),_1(this,i),i.didChange&&x1(this,i.localBounds,Z2),i.localBounds},getBounds(i,e){return m1(this,i,e||new gn)}},em={_onRender:null,set onRender(i){const e=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},tm={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(nm))}};function nm(i,e){return i._zIndex-e._zIndex}const rm={getGlobalPosition(i=new Et,e=!1){return this.parent?this.parent.toGlobal(this._position,i,e):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,e,n=!1){const s=this.getGlobalTransform(zt.get(),n);return e=s.apply(i,e),zt.return(s),e},toLocal(i,e,n,s){e&&(i=e.toGlobal(i,n,s));const a=this.getGlobalTransform(zt.get(),s);return n=a.applyInverse(i,n),zt.return(a),n}};class w1{constructor(){this.uid=at("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let im=0;class sm{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new u1(this.textureOptions)}createTexture(e,n,s){const a=new yn({...this.textureOptions,width:e,height:n,resolution:1,antialias:s,autoGarbageCollect:!1});return new Ge({source:a,label:`texturePool_${im++}`})}getOptimalTexture(e,n,s=1,a){let l=Math.ceil(e*s-1e-6),c=Math.ceil(n*s-1e-6);l=Yd(l),c=Yd(c);const h=(l<<17)+(c<<1)+(a?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(l,c,a)),f.source._resolution=s,f.source.width=l/s,f.source.height=c/s,f.source.pixelWidth=l,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=n,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,n=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,n)}returnTexture(e,n=!1){const s=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const s=this._texturePool[n];if(s)for(let a=0;a<s.length;a++)s[a].destroy(!0)}this._texturePool={}}}const S1=new sm;Ca.register(S1);class om{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ee,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new w1,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let s=0;s<n.length;s++){const a=n[s];a._updateFlags=15,this.addChild(a)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(S1.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let s=0;s<n.length;s++)this.addChild(n[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let s=0;s<n.length;s++)this.removeChild(n[s])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const s=e.children;for(let a=0;a<s.length;a++)this._getChildren(s[a],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ee),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ee),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ee),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function am(i,e,n={}){for(const s in e)!n[s]&&e[s]!==void 0&&(i[s]=e[s])}const _u=new Mt(null),aa=new Mt(null),wu=new Mt(null,1,1),la=new Mt(null),cf=1,lm=2,Su=4;class mn extends Gn{constructor(e={}){var n,s;super(),this.uid=at("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Ee,this.relativeGroupTransform=new Ee,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Mt(this,0,0),this._scale=wu,this._pivot=aa,this._origin=la,this._skew=_u,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],am(this,e,{children:!0,parent:!0,effects:!0}),(n=e.children)==null||n.forEach(a=>this.addChild(a)),(s=e.parent)==null||s.addChild(this)}static mixin(e){Oe("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),sn.mixin(mn,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Oe(dt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let a=0;a<e.length;a++)this.addChild(e[a]);return e[0]}const n=e[0],s=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),s&&(s.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,s&&s.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let a=0;a<e.length;a++)this.removeChild(e[a]);return e[0]}const n=e[0],s=this.children.indexOf(n);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,s),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=rn.get(om,this),this.groupTransform=Ee.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),rn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ee),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*w2}set angle(e){this.rotation=e*S2}get pivot(){return this._pivot===aa&&(this._pivot=new Mt(this,0,0)),this._pivot}set pivot(e){this._pivot===aa&&(this._pivot=new Mt(this,0,0),this._origin!==la&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===_u&&(this._skew=new Mt(this,0,0)),this._skew}set skew(e){this._skew===_u&&(this._skew=new Mt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===wu&&(this._scale=new Mt(this,1,1)),this._scale}set scale(e){this._scale===wu&&(this._scale=new Mt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===la&&(this._origin=new Mt(this,0,0)),this._origin}set origin(e){this._origin===la&&(this._origin=new Mt(this,0,0),this._pivot!==aa&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const s=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,s.width),n!==void 0&&this._setHeight(n,s.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,s=this._scale,a=this._pivot,l=this._origin,c=this._position,h=s._x,f=s._y,m=a._x,g=a._y,x=-l._x,_=-l._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=c._x-(m*n.a+g*n.c)+(x*n.a+_*n.c)-x,n.ty=c._y-(m*n.b+g*n.d)+(x*n.b+_*n.d)-_}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=cf,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=nn.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=cf,this._onUpdate())}get tint(){return ya(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=lm,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Su,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Su,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Su,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var a;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&n)for(let l=0;l<n.length;++l)n[l].destroy(e);(a=this.renderGroup)==null||a.destroy(),this.renderGroup=null}}sn.mixin(mn,H2,Q2,rm,em,J2,Y2,X2,tm,B2,G2,K2,V2);class C1 extends mn{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new gn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:s,y:a}=e;return s>=n.minX&&s<=n.maxX&&a>=n.minY&&a<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var n,s;super.destroy(e),this._bounds=null;for(const a in this._gpuData)(s=(n=this._gpuData[a]).destroy)==null||s.call(n);this._gpuData=null}collectRenderablesSimple(e,n,s){const{renderPipes:a}=n;a.blendMode.pushBlendMode(this,this.groupBlendMode,e),a[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(e,n,s);a.blendMode.popBlendMode(e)}}class Ei extends C1{constructor(e=Ge.EMPTY){e instanceof Ge&&(e={texture:e});const{texture:n=Ge.EMPTY,anchor:s,roundPixels:a,width:l,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Mt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=a??!1,l!==void 0&&(this.width=l),c!==void 0&&(this.height=c)}static from(e,n=!1){return e instanceof Ge?new Ei(e):new Ei(Ge.from(e,n))}set texture(e){e||(e=Ge.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return E2(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Oe("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,s=this._bounds,{width:a,height:l}=n.orig;s.minX=-e._x*a,s.maxX=s.minX+a,s.minY=-e._y*l,s.maxY=s.minY+l}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const um=new gn;function k1(i,e,n){const s=um;i.measurable=!0,m1(i,n,s),e.addBoundsMask(s),i.measurable=!1}function b1(i,e,n){const s=$n.get();i.measurable=!0;const a=zt.get().identity(),l=P1(i,n,a);x1(i,s,l),i.measurable=!1,e.addBoundsMask(s),zt.return(a),$n.return(s)}function P1(i,e,n){return i?(i!==e&&(P1(i.parent,e,n),i.updateLocalTransform(),n.append(i.localTransform)),n):(Yt("Mask bounds, renderable is not inside the root container"),n)}class T1{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Ei),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,n){this.inverse||k1(this.mask,e,n)}addLocalBounds(e,n){b1(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof Ei}}T1.extension=Ne.MaskEffect;class M1{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}M1.extension=Ne.MaskEffect;class E1{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,n){k1(this.mask,e,n)}addLocalBounds(e,n){b1(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof mn}}E1.extension=Ne.MaskEffect;const cm={createCanvas:(i,e)=>{const n=document.createElement("canvas");return n.width=i,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let hf=cm;const gr={get(){return hf},set(i){hf=i}};class A1 extends yn{constructor(e){e.resource||(e.resource=gr.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,s=this._resolution){const a=super.resize(e,n,s);return a&&this.resizeCanvas(),a}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}A1.extension=Ne.TextureSource;class wa extends yn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}wa.extension=Ne.TextureSource;var Gu=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Gu||{});class Cu{constructor(e,n=null,s=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=s,this._once=a}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const R1=class Wt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cu(null,null,1/0),this.deltaMS=1/Wt.targetFPMS,this.elapsedMS=1/Wt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,s=Gu.NORMAL){return this._addListener(new Cu(e,n,s))}addOnce(e,n,s=Gu.NORMAL){return this._addListener(new Cu(e,n,s,!0))}_addListener(e){let n=this._head.next,s=this._head;if(!n)e.connect(s);else{for(;n;){if(e.priority>n.priority){e.connect(s);break}s=n,n=n.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,n){let s=this._head.next;for(;s;)s.match(e,n)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const l=e-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=e-l%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Wt.targetFPMS;const s=this._head;let a=s.next;for(;a;)a=a.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,n)/1e3,Wt.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Wt._shared){const e=Wt._shared=new Wt;e.autoStart=!0,e._protected=!0}return Wt._shared}static get system(){if(!Wt._system){const e=Wt._system=new Wt;e.autoStart=!0,e._protected=!0}return Wt._system}};R1.targetFPMS=.06;let ua=R1,ku;async function hm(){return ku??(ku=(async()=>{var c;const e=gr.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(h=>{const f=document.createElement("video");f.onloadeddata=()=>h(f),f.onerror=()=>h(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!n)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const l=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,l),e.deleteFramebuffer(a),e.deleteTexture(s),(c=e.getExtension("WEBGL_lose_context"))==null||c.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ku}const ka=class I1 extends yn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...I1.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=ua.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await hm(),this._load=new Promise((s,a)=>{this.isValid?s(this):(this._resolve=s,this._reject=a,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ua.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ua.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ua.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};ka.extension=Ne.TextureSource;ka.defaultOptions={...yn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};ka.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let dm=ka;const ki=(i,e,n=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(s=>typeof s=="string"||n?e(s):s):i);class fm{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||Yt(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const s=ki(e);let a;for(let f=0;f<this.parsers.length;f++){const m=this.parsers[f];if(m.test(n)){a=m.getCacheableAssets(s,n);break}}const l=new Map(Object.entries(a||{}));a||s.forEach(f=>{l.set(f,n)});const c=[...l.keys()],h={cacheKeys:c,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const m=a?a[f]:n;this._cache.has(f)&&this._cache.get(f)!==m&&Yt("[Cache] already has key:",f),this._cache.set(f,l.get(f))})}remove(e){if(!this._cacheMap.has(e)){Yt(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(a=>{this._cache.delete(a)}),n.keys.forEach(a=>{this._cacheMap.delete(a)})}get parsers(){return this._parsers}}const bi=new fm,Uu=[];sn.handleByList(Ne.TextureSource,Uu);function z1(i={}){const e=i&&i.resource,n=e?i.resource:i,s=e?i:{resource:i};for(let a=0;a<Uu.length;a++){const l=Uu[a];if(l.test(n))return new l(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function pm(i={},e=!1){const n=i&&i.resource,s=n?i.resource:i,a=n?i:{resource:i};if(!e&&bi.has(s))return bi.get(s);const l=new Ge({source:z1(a)});return l.on("destroy",()=>{bi.has(s)&&bi.remove(s)}),e||bi.set(s,l),l}function mm(i,e=!1){return typeof i=="string"?bi.get(i):i instanceof yn?new Ge({source:i}):pm(i,e)}Ge.from=mm;yn.from=z1;sn.add(T1,M1,E1,dm,wa,A1,nc);var D1=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(D1||{});function pn(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Ss(i){return i.split("?")[0].split("#")[0]}function gm(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ym(i,e,n){return i.replace(new RegExp(gm(e),"g"),n)}function xm(i,e){let n="",s=0,a=-1,l=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(a===h-1||l===1))if(a!==h-1&&l===2){if(n.length<2||s!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",s=0):(n=n.slice(0,f),s=n.length-1-n.lastIndexOf("/")),a=h,l=0;continue}}else if(n.length===2||n.length===1){n="",s=0,a=h,l=0;continue}}}else n.length>0?n+=`/${i.slice(a+1,h)}`:n=i.slice(a+1,h),s=h-a-1;a=h,l=0}else c===46&&l!==-1?++l:l=-1}return n}const Bs={toPosix(i){return ym(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){pn(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(i);return n?n[0]:""},toAbsolute(i,e,n){if(pn(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Ss(this.toPosix(e??gr.get().getBaseUrl())),a=Ss(this.toPosix(n??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?Bs.join(a,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(pn(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const n=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const s=i.endsWith("/");return i=xm(i),i.length>0&&s&&(i+="/"),n?`/${i}`:e+i},isAbsolute(i){return pn(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let n=0;n<i.length;++n){const s=i[n];if(pn(s),s.length>0)if(e===void 0)e=s;else{const a=i[n-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(pn(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const n=e===47;let s=-1,a=!0;const l=this.getProtocol(i),c=i;i=i.slice(l.length);for(let h=i.length-1;h>=1;--h)if(e=i.charCodeAt(h),e===47){if(!a){s=h;break}}else a=!1;return s===-1?n?"/":this.isUrl(c)?l+i:l:n&&s===1?"//":l+i.slice(0,s)},rootname(i){pn(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const n=i.indexOf("/",e.length);n!==-1?e=i.slice(0,n):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){pn(i),e&&pn(e),i=Ss(this.toPosix(i));let n=0,s=-1,a=!0,l;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,h=-1;for(l=i.length-1;l>=0;--l){const f=i.charCodeAt(l);if(f===47){if(!a){n=l+1;break}}else h===-1&&(a=!1,h=l+1),c>=0&&(f===e.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=h))}return n===s?s=h:s===-1&&(s=i.length),i.slice(n,s)}for(l=i.length-1;l>=0;--l)if(i.charCodeAt(l)===47){if(!a){n=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":i.slice(n,s)},extname(i){pn(i),i=Ss(this.toPosix(i));let e=-1,n=0,s=-1,a=!0,l=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!a){n=c+1;break}continue}s===-1&&(a=!1,s=c+1),h===46?e===-1?e=c:l!==1&&(l=1):e!==-1&&(l=-1)}return e===-1||s===-1||l===0||l===1&&e===s-1&&e===n+1?"":i.slice(e,s)},parse(i){pn(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=Ss(this.toPosix(i));let n=i.charCodeAt(0);const s=this.isAbsolute(i);let a;e.root=this.rootname(i),s||this.hasProtocol(i)?a=1:a=0;let l=-1,c=0,h=-1,f=!0,m=i.length-1,g=0;for(;m>=a;--m){if(n=i.charCodeAt(m),n===47){if(!f){c=m+1;break}continue}h===-1&&(f=!1,h=m+1),n===46?l===-1?l=m:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||h===-1||g===0||g===1&&l===h-1&&l===c+1?h!==-1&&(c===0&&s?e.base=e.name=i.slice(1,h):e.base=e.name=i.slice(c,h)):(c===0&&s?(e.name=i.slice(1,l),e.base=i.slice(1,h)):(e.name=i.slice(c,l),e.base=i.slice(c,h)),e.ext=i.slice(l,h)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function L1(i,e,n,s,a){const l=e[n];for(let c=0;c<l.length;c++){const h=l[c];n<e.length-1?L1(i.replace(s[n],h),e,n+1,s,a):a.push(i.replace(s[n],h))}}function vm(i){const e=/\{(.*?)\}/g,n=i.match(e),s=[];if(n){const a=[];n.forEach(l=>{const c=l.substring(1,l.length-1).split(",");a.push(c)}),L1(i,a,0,n,s)}else s.push(i);return s}const df=i=>!Array.isArray(i);class j1{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(n[s])}`).join("&")}}getAlias(e){const{alias:n,src:s}=e;return ki(n||s,l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>(c==null?void 0:c.src)??c):l!=null&&l.src?l.src:l,!0)}addManifest(e){this._manifest&&Yt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const s=[];let a=n;Array.isArray(n)||(a=Object.entries(n).map(([l,c])=>typeof c=="string"||Array.isArray(c)?{alias:l,src:c}:{alias:l,...c})),a.forEach(l=>{const c=l.src,h=l.alias;let f;if(typeof h=="string"){const m=this._createBundleAssetId(e,h);s.push(m),f=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(e,g));s.push(...m),f=[...h,...m]}this.add({...l,alias:f,src:c})}),this._bundles[e]=s}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let s;s=l=>{this.hasKey(l)&&Yt(`[Resolver] already has key: ${l} overwriting`)},ki(n).forEach(l=>{const{src:c}=l;let{data:h,format:f,loadParser:m,parser:g}=l;const x=ki(c).map(P=>typeof P=="string"?vm(P):Array.isArray(P)?P:[P]),_=this.getAlias(l);Array.isArray(_)?_.forEach(s):s(_);const v=[],k=P=>{const w=this._parsers.find(A=>A.test(P));return{...w==null?void 0:w.parse(P),src:P}};x.forEach(P=>{P.forEach(w=>{let A={};if(typeof w!="object"?A=k(w):(h=w.data??h,f=w.format??f,(w.loadParser||w.parser)&&(m=w.loadParser??m,g=w.parser??g),A={...k(w.src),...w}),!_)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:_,data:h,format:f,loadParser:m,parser:g,progressSize:l.progressSize}),v.push(A)})}),_.forEach(P=>{this._assetMap[P]=v})})}resolveBundle(e){const n=df(e);e=ki(e);const s={};return e.forEach(a=>{const l=this._bundles[a];if(l){const c=this.resolve(l),h={};for(const f in c){const m=c[f];h[this._extractAssetIdFromBundle(a,f)]=m}s[a]=h}}),n?s[e[0]]:s}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const s={};for(const a in n)s[a]=n[a].src;return s}return n.src}resolve(e){const n=df(e);e=ki(e);const s={};return e.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let l=this._assetMap[a];const c=this._getPreferredOrder(l);c==null||c.priority.forEach(h=>{c.params[h].forEach(f=>{const m=l.filter(g=>g[h]?g[h]===f:!1);m.length&&(l=m)})}),this._resolverHash[a]=l[0]}else this._resolverHash[a]=this._buildResolvedAsset({alias:[a],src:a},{});s[a]=this._resolverHash[a]}),n?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const s=e[n],a=this._preferredOrder.find(l=>l.params.format.includes(s.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:s,data:a,loadParser:l,parser:c,format:h,progressSize:f}=n;return(this._basePath||this._rootPath)&&(e.src=Bs.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...a||{},...e.data},e.loadParser=l??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??_m(e.src),f!==void 0&&(e.progressSize=f),e}}j1.RETINA_PREFIX=/@([0-9\.]+)x/;function _m(i){return i.split(".").pop().split("?").shift().split("#").shift()}const ff=(i,e)=>{const n=e.split("?")[1];return n&&(i+=`?${n}`),i},F1=class Rs{constructor(e,n){this.linkedSheets=[];let s=e;(e==null?void 0:e.source)instanceof yn&&(s={texture:e,data:n});const{texture:a,data:l,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=a instanceof Ge?a:null,this.textureSource=a.source,this.textures={},this.animations={},this.data=l;const h=parseFloat(l.meta.scale);h?(this.resolution=h,a.source.resolution=this.resolution):this.resolution=a.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Rs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const s=Rs.BATCH_SIZE;for(;n-e<s&&n<this._frameKeys.length;){const a=this._frameKeys[n],l=this._frames[a],c=l.frame;if(c){let h=null,f=null;const m=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,g=new _t(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);l.rotated?h=new _t(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new _t(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(f=new _t(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[a]=new Ge({source:this.textureSource,frame:h,orig:g,trim:f,rotate:l.rotated?2:0,defaultAnchor:l.anchor,defaultBorders:l.borders,label:a.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let s=0;s<e[n].length;s++){const a=e[n][s];this.animations[n].push(this.textures[a])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Rs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Rs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var n;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};F1.BATCH_SIZE=1e3;let pf=F1;const wm=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function N1(i,e,n){const s={};if(i.forEach(a=>{s[a]=e}),Object.keys(e.textures).forEach(a=>{s[`${e.cachePrefix}${a}`]=e.textures[a]}),!n){const a=Bs.dirname(i[0]);e.linkedSheets.forEach((l,c)=>{const h=N1([`${a}/${e.data.meta.related_multi_packs[c]}`],l,!0);Object.assign(s,h)})}return s}const Sm={extension:Ne.Asset,cache:{test:i=>i instanceof pf,getCacheableAssets:(i,e)=>N1(i,e,!1)},resolver:{extension:{type:Ne.ResolveParser,name:"resolveSpritesheet"},test:i=>{const n=i.split("?")[0].split("."),s=n.pop(),a=n.pop();return s==="json"&&wm.includes(a)},parse:i=>{var n;const e=i.split(".");return{resolution:parseFloat(((n=j1.RETINA_PREFIX.exec(i))==null?void 0:n[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Ne.LoadParser,priority:D1.Normal,name:"spritesheetLoader"},async testParse(i,e){return Bs.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,n){var x,_;const{texture:s,imageFilename:a,textureOptions:l,cachePrefix:c}=(e==null?void 0:e.data)??{};let h=Bs.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(s instanceof Ge)f=s;else{const v=ff(h+(a??i.meta.image),e.src);f=(await n.load([{src:v,data:l}]))[v]}const m=new pf({texture:f.source,data:i,cachePrefix:c});await m.parse();const g=(x=i==null?void 0:i.meta)==null?void 0:x.related_multi_packs;if(Array.isArray(g)){const v=[];for(const P of g){if(typeof P!="string")continue;let w=h+P;(_=e.data)!=null&&_.ignoreMultiPack||(w=ff(w,e.src),v.push(n.load({src:w,data:{textureOptions:l,ignoreMultiPack:!0}})))}const k=await Promise.all(v);m.linkedSheets=k,k.forEach(P=>{P.linkedSheets=[m].concat(m.linkedSheets.filter(w=>w!==P))})}return m},async unload(i,e,n){await n.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};sn.add(Sm);const bu=Object.create(null),mf=Object.create(null);function ic(i,e){let n=mf[i];return n===void 0&&(bu[e]===void 0&&(bu[e]=1),mf[i]=n=bu[e]++),n}let Si;function B1(){return(!Si||Si!=null&&Si.isContextLost())&&(Si=gr.get().createCanvas().getContext("webgl",{})),Si}let ca;function Cm(){if(!ca){ca="mediump";const i=B1();i&&i.getShaderPrecisionFormat&&(ca=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return ca}function km(i,e,n){return e?i:n?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function bm(i,e,n){const s=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let a=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return a==="highp"&&s!=="highp"&&(a="mediump"),`precision ${a} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function Pm(i,e){return e?`#version 300 es
${i}`:i}const Tm={},Mm={};function Em(i,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const s=n?Tm:Mm;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${e}`}
${i}`}function Am(i,e){return e?i.replace("#version 300 es",""):i}const Pu={stripVersion:Am,ensurePrecision:bm,addProgramDefines:km,setProgramName:Em,insertVersion:Pm},Cs=Object.create(null),$1=class Hu{constructor(e){e={...Hu.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Cm()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let a=e.fragment,l=e.vertex;Object.keys(Pu).forEach(c=>{const h=s[c];a=Pu[c](a,h,!0),l=Pu[c](l,h,!1)}),this.fragment=a,this.vertex=l,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=ic(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Cs[this._cacheKey]=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return Cs[n]||(Cs[n]=new Hu(e),Cs[n]._cacheKey=n),Cs[n]}};$1.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let O1=$1;const gf={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Rm(i){return gf[i]??gf.float32}const Im={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function zm({source:i,entryPoint:e}){const n={},s=i.indexOf(`fn ${e}`);if(s!==-1){const a=i.indexOf("->",s);if(a!==-1){const l=i.substring(s,a),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(l))!==null;){const f=Im[h[3]]??"float32";n[h[2]]={location:parseInt(h[1],10),format:f,stride:Rm(f).stride,offset:0,instance:!1,start:0}}}}return n}function Tu(i){var x,_;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,a=/var(<[^>]+>)? (\w+)/,l=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,m=(x=i.match(e))==null?void 0:x.map(v=>({group:parseInt(v.match(n)[1],10),binding:parseInt(v.match(s)[1],10),name:v.match(a)[2],isUniform:v.match(a)[1]==="<uniform>",type:v.match(l)[1]}));if(!m)return{groups:[],structs:[]};const g=((_=i.match(c))==null?void 0:_.map(v=>{const k=v.match(f)[1],P=v.match(h).reduce((w,A)=>{const[R,z]=A.split(":");return w[R.trim()]=z.trim(),w},{});return P?{name:k,members:P}:null}).filter(({name:v})=>m.some(k=>k.type===v)))??[];return{groups:m,structs:g}}var Is=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Is||{});function Dm({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:Is.VERTEX|Is.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:Is.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:Is.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function Lm({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function jm(i,e){const n=new Set,s=new Set,a=[...i.structs,...e.structs].filter(c=>n.has(c.name)?!1:(n.add(c.name),!0)),l=[...i.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:a,groups:l}}const ks=Object.create(null);class ba{constructor(e){var h,f;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:s,layout:a,gpuLayout:l,name:c}=e;if(this.name=c,this.fragment=n,this.vertex=s,n.source===s.source){const m=Tu(n.source);this.structsAndGroups=m}else{const m=Tu(s.source),g=Tu(n.source);this.structsAndGroups=jm(m,g)}this.layout=a??Lm(this.structsAndGroups),this.gpuLayout=l??Dm(this.structsAndGroups),this.autoAssignGlobalUniforms=((h=this.layout[0])==null?void 0:h.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((f=this.layout[1])==null?void 0:f.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,s=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=ic(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=zm(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,ks[this._cacheKey]=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return ks[n]||(ks[n]=new ba(e),ks[n]._cacheKey=n),ks[n]}}const G1=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Fm=G1.reduce((i,e)=>(i[e]=!0,i),{});function Nm(i,e){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const U1=class H1{constructor(e,n){this._touched=0,this.uid=at("uniform"),this._resourceType="uniformGroup",this._resourceId=at("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...H1.defaultOptions,...n},this.uniformStructures=e;const s={};for(const a in e){const l=e[a];if(l.name=a,l.size=l.size??1,!Fm[l.type]){const c=l.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,f]=c;throw new Error(`Uniform type ${l.type} is not supported. Use type: '${h}', size: ${f} instead.`)}throw new Error(`Uniform type ${l.type} is not supported. Supported uniform types are: ${G1.join(", ")}`)}l.value??(l.value=Nm(l.type,l.size)),s[a]=l.value}this.uniforms=s,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=ic(Object.keys(s).map(a=>`${a}-${e[a].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};U1.defaultOptions={ubo:!1,isStatic:!1};let V1=U1;class xa{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const s in e){const a=e[s];this.setResource(a,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const s in this.resources)e[n++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,n){var a,l;const s=this.resources[n];e!==s&&(s&&((a=e.off)==null||a.call(e,"change",this.onResourceChange,this)),(l=e.on)==null||l.call(e,"change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const s in n)n[s]._touched=e}destroy(){var n;const e=this.resources;for(const s in e){const a=e[s];(n=a==null?void 0:a.off)==null||n.call(a,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const s in n)n[s]===e&&(n[s]=null)}else this._updateKey()}}var Vu=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(Vu||{});class sc extends Gn{constructor(e){super(),this.uid=at("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:s,groups:a,resources:l,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=n,this.glProgram=s,c===void 0&&(c=0,n&&(c|=Vu.WEBGPU),s&&(c|=Vu.WEBGL)),this.compatibleRenderers=c;const f={};if(!l&&!a&&(l={}),l&&a)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&a&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&a&&h)for(const m in h)for(const g in h[m]){const x=h[m][g];f[x]={group:m,binding:g,name:x}}else if(n&&a&&!h){const m=n.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g})}else if(l){a={},h={},n&&n.structsAndGroups.groups.forEach(x=>{h[x.group]=h[x.group]||{},h[x.group][x.binding]=x.name,f[x.name]=x});let m=0;for(const g in l)f[g]||(a[99]||(a[99]=new xa,this._ownedBindGroups.push(a[99])),f[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in l){const x=g;let _=l[g];!_.source&&!_._resourceType&&(_=new V1(_));const v=f[x];v&&(a[v.group]||(a[v.group]=new xa,this._ownedBindGroups.push(a[v.group])),a[v.group].setResource(_,v.binding))}}this.groups=a,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(a,f)}addResource(e,n,s){var a,l;(a=this._uniformBindMap)[n]||(a[n]={}),(l=this._uniformBindMap[n])[s]||(l[s]=e),this.groups[n]||(this.groups[n]=new xa,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const s={};for(const a in n){const l=n[a];Object.defineProperty(s,l.name,{get(){return e[l.group].getResource(l.binding)},set(c){e[l.group].setResource(c,l.binding)}})}return s}destroy(e=!1){var n,s;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&((n=this.gpuProgram)==null||n.destroy(),(s=this.glProgram)==null||s.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(a=>{a.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:n,gl:s,...a}=e;let l,c;return n&&(l=ba.from(n)),s&&(c=O1.from(s)),new sc({gpuProgram:l,glProgram:c,...a})}}const Wu=[];sn.handleByNamedList(Ne.Environment,Wu);async function Bm(i){if(!i)for(let e=0;e<Wu.length;e++){const n=Wu[e];if(n.value.test()){await n.value.load();return}}}let bs;function $m(){if(typeof bs=="boolean")return bs;try{bs=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{bs=!1}return bs}function yf(i,e,n=2){const s=e&&e.length,a=s?e[0]*n:i.length;let l=W1(i,0,a,n,!0);const c=[];if(!l||l.next===l.prev)return c;let h,f,m;if(s&&(l=Vm(i,e,l,n)),i.length>80*n){h=i[0],f=i[1];let g=h,x=f;for(let _=n;_<a;_+=n){const v=i[_],k=i[_+1];v<h&&(h=v),k<f&&(f=k),v>g&&(g=v),k>x&&(x=k)}m=Math.max(g-h,x-f),m=m!==0?32767/m:0}return $s(l,c,n,h,f,m,0),c}function W1(i,e,n,s,a){let l;if(a===n3(i,e,n,s)>0)for(let c=e;c<n;c+=s)l=xf(c/s|0,i[c],i[c+1],l);else for(let c=n-s;c>=e;c-=s)l=xf(c/s|0,i[c],i[c+1],l);return l&&Ai(l,l.next)&&(Gs(l),l=l.next),l}function Ur(i,e){if(!i)return i;e||(e=i);let n=i,s;do if(s=!1,!n.steiner&&(Ai(n,n.next)||tt(n.prev,n,n.next)===0)){if(Gs(n),n=e=n.prev,n===n.next)break;s=!0}else n=n.next;while(s||n!==e);return e}function $s(i,e,n,s,a,l,c){if(!i)return;!c&&l&&Qm(i,s,a,l);let h=i;for(;i.prev!==i.next;){const f=i.prev,m=i.next;if(l?Gm(i,s,a,l):Om(i)){e.push(f.i,i.i,m.i),Gs(i),i=m.next,h=m.next;continue}if(i=m,i===h){c?c===1?(i=Um(Ur(i),e),$s(i,e,n,s,a,l,2)):c===2&&Hm(i,e,n,s,a,l):$s(Ur(i),e,n,s,a,l,1);break}}}function Om(i){const e=i.prev,n=i,s=i.next;if(tt(e,n,s)>=0)return!1;const a=e.x,l=n.x,c=s.x,h=e.y,f=n.y,m=s.y,g=Math.min(a,l,c),x=Math.min(h,f,m),_=Math.max(a,l,c),v=Math.max(h,f,m);let k=s.next;for(;k!==e;){if(k.x>=g&&k.x<=_&&k.y>=x&&k.y<=v&&zs(a,h,l,f,c,m,k.x,k.y)&&tt(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function Gm(i,e,n,s){const a=i.prev,l=i,c=i.next;if(tt(a,l,c)>=0)return!1;const h=a.x,f=l.x,m=c.x,g=a.y,x=l.y,_=c.y,v=Math.min(h,f,m),k=Math.min(g,x,_),P=Math.max(h,f,m),w=Math.max(g,x,_),A=Yu(v,k,e,n,s),R=Yu(P,w,e,n,s);let z=i.prevZ,j=i.nextZ;for(;z&&z.z>=A&&j&&j.z<=R;){if(z.x>=v&&z.x<=P&&z.y>=k&&z.y<=w&&z!==a&&z!==c&&zs(h,g,f,x,m,_,z.x,z.y)&&tt(z.prev,z,z.next)>=0||(z=z.prevZ,j.x>=v&&j.x<=P&&j.y>=k&&j.y<=w&&j!==a&&j!==c&&zs(h,g,f,x,m,_,j.x,j.y)&&tt(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;z&&z.z>=A;){if(z.x>=v&&z.x<=P&&z.y>=k&&z.y<=w&&z!==a&&z!==c&&zs(h,g,f,x,m,_,z.x,z.y)&&tt(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;j&&j.z<=R;){if(j.x>=v&&j.x<=P&&j.y>=k&&j.y<=w&&j!==a&&j!==c&&zs(h,g,f,x,m,_,j.x,j.y)&&tt(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function Um(i,e){let n=i;do{const s=n.prev,a=n.next.next;!Ai(s,a)&&X1(s,n,n.next,a)&&Os(s,a)&&Os(a,s)&&(e.push(s.i,n.i,a.i),Gs(n),Gs(n.next),n=i=a),n=n.next}while(n!==i);return Ur(n)}function Hm(i,e,n,s,a,l){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&Jm(c,h)){let f=q1(c,h);c=Ur(c,c.next),f=Ur(f,f.next),$s(c,e,n,s,a,l,0),$s(f,e,n,s,a,l,0);return}h=h.next}c=c.next}while(c!==i)}function Vm(i,e,n,s){const a=[];for(let l=0,c=e.length;l<c;l++){const h=e[l]*s,f=l<c-1?e[l+1]*s:i.length,m=W1(i,h,f,s,!1);m===m.next&&(m.steiner=!0),a.push(Zm(m))}a.sort(Wm);for(let l=0;l<a.length;l++)n=Ym(a[l],n);return n}function Wm(i,e){let n=i.x-e.x;if(n===0&&(n=i.y-e.y,n===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),a=(e.next.y-e.y)/(e.next.x-e.x);n=s-a}return n}function Ym(i,e){const n=Xm(i,e);if(!n)return e;const s=q1(n,i);return Ur(s,s.next),Ur(n,n.next)}function Xm(i,e){let n=e;const s=i.x,a=i.y;let l=-1/0,c;if(Ai(i,n))return n;do{if(Ai(i,n.next))return n.next;if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const x=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(x<=s&&x>l&&(l=x,c=n.x<n.next.x?n:n.next,x===s))return c}n=n.next}while(n!==e);if(!c)return null;const h=c,f=c.x,m=c.y;let g=1/0;n=c;do{if(s>=n.x&&n.x>=f&&s!==n.x&&Y1(a<m?s:l,a,f,m,a<m?l:s,a,n.x,n.y)){const x=Math.abs(a-n.y)/(s-n.x);Os(n,i)&&(x<g||x===g&&(n.x>c.x||n.x===c.x&&qm(c,n)))&&(c=n,g=x)}n=n.next}while(n!==h);return c}function qm(i,e){return tt(i.prev,i,e.prev)<0&&tt(e.next,i,i.next)<0}function Qm(i,e,n,s){let a=i;do a.z===0&&(a.z=Yu(a.x,a.y,e,n,s)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==i);a.prevZ.nextZ=null,a.prevZ=null,Km(a)}function Km(i){let e,n=1;do{let s=i,a;i=null;let l=null;for(e=0;s;){e++;let c=s,h=0;for(let m=0;m<n&&(h++,c=c.nextZ,!!c);m++);let f=n;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||s.z<=c.z)?(a=s,s=s.nextZ,h--):(a=c,c=c.nextZ,f--),l?l.nextZ=a:i=a,a.prevZ=l,l=a;s=c}l.nextZ=null,n*=2}while(e>1);return i}function Yu(i,e,n,s,a){return i=(i-n)*a|0,e=(e-s)*a|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function Zm(i){let e=i,n=i;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==i);return n}function Y1(i,e,n,s,a,l,c,h){return(a-c)*(e-h)>=(i-c)*(l-h)&&(i-c)*(s-h)>=(n-c)*(e-h)&&(n-c)*(l-h)>=(a-c)*(s-h)}function zs(i,e,n,s,a,l,c,h){return!(i===c&&e===h)&&Y1(i,e,n,s,a,l,c,h)}function Jm(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!e3(i,e)&&(Os(i,e)&&Os(e,i)&&t3(i,e)&&(tt(i.prev,i,e.prev)||tt(i,e.prev,e))||Ai(i,e)&&tt(i.prev,i,i.next)>0&&tt(e.prev,e,e.next)>0)}function tt(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function Ai(i,e){return i.x===e.x&&i.y===e.y}function X1(i,e,n,s){const a=da(tt(i,e,n)),l=da(tt(i,e,s)),c=da(tt(n,s,i)),h=da(tt(n,s,e));return!!(a!==l&&c!==h||a===0&&ha(i,n,e)||l===0&&ha(i,s,e)||c===0&&ha(n,i,s)||h===0&&ha(n,e,s))}function ha(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function da(i){return i>0?1:i<0?-1:0}function e3(i,e){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==e.i&&n.next.i!==e.i&&X1(n,n.next,i,e))return!0;n=n.next}while(n!==i);return!1}function Os(i,e){return tt(i.prev,i,i.next)<0?tt(i,e,i.next)>=0&&tt(i,i.prev,e)>=0:tt(i,e,i.prev)<0||tt(i,i.next,e)<0}function t3(i,e){let n=i,s=!1;const a=(i.x+e.x)/2,l=(i.y+e.y)/2;do n.y>l!=n.next.y>l&&n.next.y!==n.y&&a<(n.next.x-n.x)*(l-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next;while(n!==i);return s}function q1(i,e){const n=Xu(i.i,i.x,i.y),s=Xu(e.i,e.x,e.y),a=i.next,l=e.prev;return i.next=e,e.prev=i,n.next=a,a.prev=n,s.next=n,n.prev=s,l.next=s,s.prev=l,s}function xf(i,e,n,s){const a=Xu(i,e,n);return s?(a.next=s.next,a.prev=s,s.next.prev=a,s.next=a):(a.prev=a,a.next=a),a}function Gs(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Xu(i,e,n){return{i,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function n3(i,e,n,s){let a=0;for(let l=e,c=n-s;l<n;l+=s)a+=(i[c]-i[l])*(i[l+1]+i[c+1]),c=l;return a}const r3=yf.default||yf;var Q1=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(Q1||{});class i3{constructor(e){this.items=[],this._name=e}emit(e,n,s,a,l,c,h,f){const{name:m,items:g}=this;for(let x=0,_=g.length;x<_;x++)g[x][m](e,n,s,a,l,c,h,f);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const s3=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],K1=class Z1 extends Gn{constructor(e){super(),this.uid=at("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...s3,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Bm(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...Z1.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,n){let s=e;if(s instanceof mn&&(s={container:s},n&&(Oe(dt,"passing a second argument is deprecated, please use render options instead"),s.target=n.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const a=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=a?s.clearColor:nn.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,n,s){const a=this.view.resolution;this.view.resize(e,n,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==a&&this.runners.resolutionChange.emit(s)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Q1.ALL);const{clear:s,clearColor:a,target:l}=e;nn.shared.setValue(a??this.background.colorRgba),n.renderTarget.clear(l,s,nn.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new i3(n)})}_addSystems(e){let n;for(n in e){const s=e[n];this._addSystem(s.value,s.name)}}_addSystem(e,n){const s=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=s,this._systemsHash[n]=s;for(const a in this.runners)this.runners[a].add(s);return this}_addPipes(e,n){const s=n.reduce((a,l)=>(a[l.name]=l.value,a),{});e.forEach(a=>{const l=a.value,c=a.name,h=s[c];this.renderPipes[c]=new l(this,h?new h:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&Ca.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!$m())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};K1.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let J1=K1,fa;function o3(i){return fa!==void 0||(fa=(()=>{var n;const e={stencil:!0,failIfMajorPerformanceCaveat:i??J1.defaultOptions.failIfMajorPerformanceCaveat};try{if(!gr.get().getWebGLRenderingContext())return!1;let a=gr.get().createCanvas().getContext("webgl",e);const l=!!((n=a==null?void 0:a.getContextAttributes())!=null&&n.stencil);if(a){const c=a.getExtension("WEBGL_lose_context");c&&c.loseContext()}return a=null,l}catch{return!1}})()),fa}let pa;async function a3(i={}){return pa!==void 0||(pa=await(async()=>{const e=gr.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),pa}const vf=["webgl","webgpu","canvas"];async function l3(i){let e=[];i.preference?(e.push(i.preference),vf.forEach(l=>{l!==i.preference&&e.push(l)})):e=vf.slice();let n,s={};for(let l=0;l<e.length;l++){const c=e[l];if(c==="webgpu"&&await a3()){const{WebGPURenderer:h}=await _a(async()=>{const{WebGPURenderer:f}=await import("./WebGPURenderer-DcpEzpUM.js");return{WebGPURenderer:f}},__vite__mapDeps([4,2,5,3]));n=h,s={...i,...i.webgpu};break}else if(c==="webgl"&&o3(i.failIfMajorPerformanceCaveat??J1.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await _a(async()=>{const{WebGLRenderer:f}=await import("./WebGLRenderer-CO69RTTs.js");return{WebGLRenderer:f}},__vite__mapDeps([6,2,5]));n=h,s={...i,...i.webgl};break}else if(c==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!n)throw new Error("No available renderer for the current environment");const a=new n;return await a.init(s),a}const e0="8.14.3";class t0{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,e0)}static destroy(){}}t0.extension=Ne.Application;class u3{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,e0)}destroy(){this._renderer=null}}u3.extension={type:[Ne.WebGLSystem,Ne.WebGPUSystem],name:"initHook",priority:-10};const n0=class qu{constructor(...e){this.stage=new mn,e[0]!==void 0&&Oe(dt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new mn),this.renderer=await l3(e),qu._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Oe(dt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const s=qu._plugins.slice(0);s.reverse(),s.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};n0._plugins=[];let r0=n0;sn.handleByList(Ne.Application,r0._plugins);sn.add(t0);const _f=[{offset:0,color:"white"},{offset:1,color:"black"}],oc=class Qu{constructor(...e){this.uid=at("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=c3(e);n={...n.type==="radial"?Qu.defaultRadialOptions:Qu.defaultLinearOptions,...o1(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(a=>{this.addColorStop(a.offset,a.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:nn.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:s,y:a}=this.end,l=s-e,c=a-n;const h=l<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(l<0){const w=e;e=s,s=w,l*=-1}if(c<0){const w=n;n=a,a=w,c*=-1}}const f=this.colorStops.length?this.colorStops:_f,m=this._textureSize,{canvas:g,context:x}=Sf(m,1),_=h?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);wf(_,f),x.fillStyle=_,x.fillRect(0,0,m,1),this.texture=new Ge({source:new wa({resource:g,addressMode:this._wrapMode})});const v=Math.sqrt(l*l+c*c),k=Math.atan2(c,l),P=new Ee;P.scale(v/m,1),P.rotate(k),P.translate(e,n),this.textureSpace==="local"&&P.scale(m,m),this.transform=P}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:_f,n=this._textureSize,{canvas:s,context:a}=Sf(n,n),{x:l,y:c}=this.center,{x:h,y:f}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,x=h-g,_=f-g,v=n/(g*2),k=(l-x)*v,P=(c-_)*v,w=a.createRadialGradient(k,P,m*v,(h-x)*v,(f-_)*v,g*v);wf(w,e),a.fillStyle=e[e.length-1].color,a.fillRect(0,0,n,n),a.fillStyle=w,a.translate(k,P),a.rotate(this.rotation),a.scale(1,this.scale),a.translate(-k,-P),a.fillRect(0,0,n,n),this.texture=new Ge({source:new wa({resource:s,addressMode:this._wrapMode})});const A=new Ee;A.scale(1/v,1/v),A.translate(x,_),this.textureSpace==="local"&&A.scale(n,n),this.transform=A}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};oc.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};oc.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ws=oc;function wf(i,e){for(let n=0;n<e.length;n++){const s=e[n];i.addColorStop(s.offset,s.color)}}function Sf(i,e){const n=gr.get().createCanvas(i,e),s=n.getContext("2d");return{canvas:n,context:s}}function c3(i){let e=i[0]??{};return(typeof e=="number"||i[1])&&(Oe("8.5.2","use options object instead"),e={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??Ws.defaultLinearOptions.textureSize}),e}const Cf={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class h3{constructor(e,n){this.uid=at("fillPattern"),this._tick=0,this.transform=new Ee,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=Cf[n].addressModeU,e.source.style.addressModeV=Cf[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Mu,kf;function d3(){if(kf)return Mu;kf=1,Mu=n;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(l){var c=[];return l.replace(e,function(h,f,m){var g=f.toLowerCase();for(m=a(m),g=="m"&&m.length>2&&(c.push([f].concat(m.splice(0,2))),g="l",f=f=="m"?"l":"L");;){if(m.length==i[g])return m.unshift(f),c.push(m);if(m.length<i[g])throw new Error("malformed path data");c.push([f].concat(m.splice(0,i[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(l){var c=l.match(s);return c?c.map(Number):[]}return Mu}var f3=d3();const p3=ec(f3);function m3(i,e){const n=p3(i),s=[];let a=null,l=0,c=0;for(let h=0;h<n.length;h++){const f=n[h],m=f[0],g=f;switch(m){case"M":l=g[1],c=g[2],e.moveTo(l,c);break;case"m":l+=g[1],c+=g[2],e.moveTo(l,c);break;case"H":l=g[1],e.lineTo(l,c);break;case"h":l+=g[1],e.lineTo(l,c);break;case"V":c=g[1],e.lineTo(l,c);break;case"v":c+=g[1],e.lineTo(l,c);break;case"L":l=g[1],c=g[2],e.lineTo(l,c);break;case"l":l+=g[1],c+=g[2],e.lineTo(l,c);break;case"C":l=g[5],c=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],l,c);break;case"c":e.bezierCurveTo(l+g[1],c+g[2],l+g[3],c+g[4],l+g[5],c+g[6]),l+=g[5],c+=g[6];break;case"S":l=g[3],c=g[4],e.bezierCurveToShort(g[1],g[2],l,c);break;case"s":e.bezierCurveToShort(l+g[1],c+g[2],l+g[3],c+g[4]),l+=g[3],c+=g[4];break;case"Q":l=g[3],c=g[4],e.quadraticCurveTo(g[1],g[2],l,c);break;case"q":e.quadraticCurveTo(l+g[1],c+g[2],l+g[3],c+g[4]),l+=g[3],c+=g[4];break;case"T":l=g[1],c=g[2],e.quadraticCurveToShort(l,c);break;case"t":l+=g[1],c+=g[2],e.quadraticCurveToShort(l,c);break;case"A":l=g[6],c=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,c);break;case"a":l+=g[6],c+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,c);break;case"Z":case"z":e.closePath(),s.length>0&&(a=s.pop(),a?(l=a.startX,c=a.startY):(l=0,c=0)),a=null;break;default:Yt(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&a===null&&(a={startX:l,startY:c},s.push(a))}return e}class ac{constructor(e=0,n=0,s=0){this.type="circle",this.x=e,this.y=n,this.radius=s}clone(){return new ac(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const s=this.radius*this.radius;let a=this.x-e,l=this.y-n;return a*=a,l*=l,a+l<=s}strokeContains(e,n,s,a=.5){if(this.radius===0)return!1;const l=this.x-e,c=this.y-n,h=this.radius,f=(1-a)*s,m=Math.sqrt(l*l+c*c);return m<=h+f&&m>h-(s-f)}getBounds(e){return e||(e=new _t),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class lc{constructor(e=0,n=0,s=0,a=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=s,this.halfHeight=a}clone(){return new lc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,a=(n-this.y)/this.halfHeight;return s*=s,a*=a,s+a<=1}strokeContains(e,n,s,a=.5){const{halfWidth:l,halfHeight:c}=this;if(l<=0||c<=0)return!1;const h=s*(1-a),f=s-h,m=l-f,g=c-f,x=l+h,_=c+h,v=e-this.x,k=n-this.y,P=v*v/(m*m)+k*k/(g*g),w=v*v/(x*x)+k*k/(_*_);return P>1&&w<=1}getBounds(e){return e||(e=new _t),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function g3(i,e,n,s,a,l){const c=i-n,h=e-s,f=a-n,m=l-s,g=c*f+h*m,x=f*f+m*m;let _=-1;x!==0&&(_=g/x);let v,k;_<0?(v=n,k=s):_>1?(v=a,k=l):(v=n+_*f,k=s+_*m);const P=i-v,w=e-k;return P*P+w*w}let y3,x3;class js{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const s=[];for(let a=0,l=n.length;a<l;a++)s.push(n[a].x,n[a].y);n=s}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,s=n.length;for(let a=0;a<s;a+=2){const l=n[a],c=n[a+1],h=n[(a+2)%s],f=n[(a+3)%s];e+=(h-l)*(f+c)}return e<0}containsPolygon(e){const n=this.getBounds(y3),s=e.getBounds(x3);if(!n.containsRect(s))return!1;const a=e.points;for(let l=0;l<a.length;l+=2){const c=a[l],h=a[l+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),n=new js(e);return n.closePath=this.closePath,n}contains(e,n){let s=!1;const a=this.points.length/2;for(let l=0,c=a-1;l<a;c=l++){const h=this.points[l*2],f=this.points[l*2+1],m=this.points[c*2],g=this.points[c*2+1];f>n!=g>n&&e<(m-h)*((n-f)/(g-f))+h&&(s=!s)}return s}strokeContains(e,n,s,a=.5){const l=s*s,c=l*(1-a),h=l-c,{points:f}=this,m=f.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const x=f[g],_=f[g+1],v=f[(g+2)%f.length],k=f[(g+3)%f.length],P=g3(e,n,x,_,v,k),w=Math.sign((v-x)*(n-_)-(k-_)*(e-x));if(P<=(w<0?h:c))return!0}return!1}getBounds(e){e||(e=new _t);const n=this.points;let s=1/0,a=-1/0,l=1/0,c=-1/0;for(let h=0,f=n.length;h<f;h+=2){const m=n[h],g=n[h+1];s=m<s?m:s,a=m>a?m:a,l=g<l?g:l,c=g>c?g:c}return e.x=s,e.width=a-s,e.y=l,e.height=c-l,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Oe("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Oe("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ma=(i,e,n,s,a,l,c)=>{const h=i-n,f=e-s,m=Math.sqrt(h*h+f*f);return m>=a-l&&m<=a+c};class uc{constructor(e=0,n=0,s=0,a=0,l=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=s,this.height=a,this.radius=l}getBounds(e){return e||(e=new _t),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new uc(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+s&&n<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let a=e-(this.x+s),l=n-(this.y+s);const c=s*s;if(a*a+l*l<=c||(a=e-(this.x+this.width-s),a*a+l*l<=c)||(l=n-(this.y+this.height-s),a*a+l*l<=c)||(a=e-(this.x+s),a*a+l*l<=c))return!0}return!1}strokeContains(e,n,s,a=.5){const{x:l,y:c,width:h,height:f,radius:m}=this,g=s*(1-a),x=s-g,_=l+m,v=c+m,k=h-m*2,P=f-m*2,w=l+h,A=c+f;return(e>=l-g&&e<=l+x||e>=w-x&&e<=w+g)&&n>=v&&n<=v+P||(n>=c-g&&n<=c+x||n>=A-x&&n<=A+g)&&e>=_&&e<=_+k?!0:e<_&&n<v&&ma(e,n,_,v,m,x,g)||e>w-m&&n<v&&ma(e,n,w-m,v,m,x,g)||e>w-m&&n>A-m&&ma(e,n,w-m,A-m,m,x,g)||e<_&&n>A-m&&ma(e,n,_,A-m,m,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const i0={};function v3(i,e,n){let s=2166136261;for(let a=0;a<e;a++)s^=i[a].uid,s=Math.imul(s,16777619),s>>>=0;return i0[s]||_3(i,e,s,n)}function _3(i,e,n,s){const a={};let l=0;for(let h=0;h<s;h++){const f=h<e?i[h]:Ge.EMPTY.source;a[l++]=f.source,a[l++]=f.style}const c=new xa(a);return i0[n]=c,c}class bf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Pf(i,e){const n=i.byteLength/8|0,s=new Float64Array(i,0,n);new Float64Array(e,0,n).set(s);const l=i.byteLength-n*8;if(l>0){const c=new Uint8Array(i,n*8,l);new Uint8Array(e,n*8,l).set(c)}}const w3={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var S3=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(S3||{});function Tf(i,e){return e.alphaMode==="no-premultiply-alpha"&&w3[i]||i}const C3=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function k3(i){let e="";for(let n=0;n<i;++n)n>0&&(e+=`
else `),n<i-1&&(e+=`if(test == ${n}.0){}`);return e}function b3(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=C3.replace(/%forloop%/gi,k3(i));if(e.shaderSource(n,s),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))i=i/2|0;else break}}finally{e.deleteShader(n)}return i}let Ci=null;function P3(){var e;if(Ci)return Ci;const i=B1();return Ci=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Ci=b3(Ci,i),(e=i.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Ci}class T3{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class M3{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new T3,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Fs=[];let Sa=0;Ca.register({clear:()=>{if(Fs.length>0)for(const i of Fs)i&&i.destroy();Fs.length=0,Sa=0}});function Mf(){return Sa>0?Fs[--Sa]:new M3}function Ef(i){Fs[Sa++]=i}let Ps=0;const s0=class o0{constructor(e){this.uid=at("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...o0.defaultOptions,...e},e.maxTextures||(Oe("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=P3());const{maxTextures:n,attributesInitialSize:s,indicesInitialSize:a}=e;this.attributeBuffer=new bf(s*4),this.indexBuffer=new Uint16Array(a),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Ef(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const s=e._batch.textures.ids[n._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let s=Mf(),a=s.textures;a.clear();const l=n[this.elementStart];let c=Tf(l.blendMode,l.texture._source),h=l.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,_=this._batchIndexStart,v="startBatch";const k=this.maxTextures;for(let P=this.elementStart;P<this.elementSize;++P){const w=n[P];n[P]=null;const R=w.texture._source,z=Tf(w.blendMode,R),j=c!==z||h!==w.topology;if(R._batchTick===Ps&&!j){w._textureId=R._textureBindLocation,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}R._batchTick=Ps,(a.count>=k||j)&&(this._finishBatch(s,_,x-_,a,c,h,e,v),v="renderBatch",_=x,c=z,h=w.topology,s=Mf(),a=s.textures,a.clear(),++Ps),w._textureId=R._textureBindLocation=a.count,a.ids[R.uid]=a.count,a.textures[a.count++]=R,w._batch=s,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}a.count>0&&(this._finishBatch(s,_,x-_,a,c,h,e,v),_=x,++Ps),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=x}_finishBatch(e,n,s,a,l,c,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=a,e.blendMode=l,e.topology=c,e.start=n,e.size=s,++Ps,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),s=new bf(n);Pf(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const n=this.indexBuffer;let s=Math.max(e,n.length*1.5);s+=s%2;const a=s>65535?new Uint32Array(s):new Uint16Array(s);if(a.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let l=0;l<n.length;l++)a[l]=n[l];else Pf(n.buffer,a.buffer);this.indexBuffer=a}packQuadIndex(e,n,s){e[n]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3}packIndex(e,n,s,a){const l=e.indices,c=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let m=0;m<c;m++)n[s++]=a+l[m+h]-f}destroy(e={}){var n;if(this.batches!==null){for(let s=0;s<this.batches.length;s++)Ef(this.batches[s]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&((n=this.shader)==null||n.destroy(),this.shader=null);for(let s=0;s<this._elements.length;s++)this._elements[s]&&(this._elements[s]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};s0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let E3=s0;var $t=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))($t||{});class Us extends Gn{constructor(e){let{data:n,size:s}=e;const{usage:a,label:l,shrinkToFit:c}=e;super(),this.uid=at("buffer"),this._resourceType="buffer",this._resourceId=at("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,s??(s=n==null?void 0:n.byteLength);const h=!!n;this.descriptor={size:s,usage:a,mappedAtCreation:h,label:l},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&$t.STATIC)}set static(e){e?this.descriptor.usage|=$t.STATIC:this.descriptor.usage&=~$t.STATIC}setDataWithSize(e,n,s){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const a=this._data;if(this._data=e,this._dataInt32=null,!a||a.length!==e.length){!this.shrinkToFit&&a&&e.byteLength<a.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=at("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function a0(i,e){if(!(i instanceof Us)){let n=e?$t.INDEX:$t.VERTEX;i instanceof Array&&(e?(i=new Uint32Array(i),n=$t.INDEX|$t.COPY_DST):(i=new Float32Array(i),n=$t.VERTEX|$t.COPY_DST)),i=new Us({data:i,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return i}function A3(i,e,n){const s=i.getAttribute(e);if(!s)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const a=s.buffer.data;let l=1/0,c=1/0,h=-1/0,f=-1/0;const m=a.BYTES_PER_ELEMENT,g=(s.offset||0)/m,x=(s.stride||8)/m;for(let _=g;_<a.length;_+=x){const v=a[_],k=a[_+1];v>h&&(h=v),k>f&&(f=k),v<l&&(l=v),k<c&&(c=k)}return n.minX=l,n.minY=c,n.maxX=h,n.maxY=f,n}function R3(i){return(i instanceof Us||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=a0(i.buffer,!1),i}class I3 extends Gn{constructor(e={}){super(),this.uid=at("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new gn,this._boundsDirty=!0;const{attributes:n,indexBuffer:s,topology:a}=e;if(this.buffers=[],this.attributes={},n)for(const l in n)this.addAttribute(l,n[l]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=a||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const s=R3(n);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=a0(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,A3(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){var n;this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(s=>s.destroy()),(n=this.indexBuffer)==null||n.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const z3=new Float32Array(1),D3=new Uint32Array(1);class L3 extends I3{constructor(){const n=new Us({data:z3,label:"attribute-batch-buffer",usage:$t.VERTEX|$t.COPY_DST,shrinkToFit:!1}),s=new Us({data:D3,label:"index-batch-buffer",usage:$t.INDEX|$t.COPY_DST,shrinkToFit:!1}),a=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:a,offset:0},aUV:{buffer:n,format:"float32x2",stride:a,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:a,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:a,offset:20}},indexBuffer:s})}}function Af(i,e,n){if(i)for(const s in i){const a=s.toLocaleLowerCase(),l=e[a];if(l){let c=i[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&l.push(`//----${n}----//`),l.push(c)}else Yt(`${s} placement hook does not exist in shader`)}}const j3=/\{\{(.*?)\}\}/g;function Rf(i){var s;const e={};return(((s=i.match(j3))==null?void 0:s.map(a=>a.replace(/[{()}]/g,"")))??[]).forEach(a=>{e[a]=[]}),e}function If(i,e){let n;const s=/@in\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function zf(i,e,n=!1){const s=[];If(e,s),i.forEach(h=>{h.header&&If(h.header,s)});const a=s;n&&a.sort();const l=a.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${l}
`),c}function Df(i,e){let n;const s=/@out\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function F3(i){const n=/\b(\w+)\s*:/g.exec(i);return n?n[1]:""}function N3(i){const e=/@.*?\s+/g;return i.replace(e,"")}function B3(i,e){const n=[];Df(e,n),i.forEach(f=>{f.header&&Df(f.header,n)});let s=0;const a=n.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),l=n.sort().map(f=>`       var ${N3(f)};`).join(`
`),c=`return VSOutput(
            ${n.sort().map(f=>` ${F3(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${a}
`),h=h.replace("{{start}}",`
${l}
`),h=h.replace("{{return}}",`
${c}
`),h}function Lf(i,e){let n=i;for(const s in e){const a=e[s];a.join(`
`).length?n=n.replace(`{{${s}}}`,`//-----${s} START-----//
${a.join(`
`)}
//----${s} FINISH----//`):n=n.replace(`{{${s}}}`,"")}return n}const pr=Object.create(null),Eu=new Map;let $3=0;function O3({template:i,bits:e}){const n=l0(i,e);if(pr[n])return pr[n];const{vertex:s,fragment:a}=U3(i,e);return pr[n]=u0(s,a,e),pr[n]}function G3({template:i,bits:e}){const n=l0(i,e);return pr[n]||(pr[n]=u0(i.vertex,i.fragment,e)),pr[n]}function U3(i,e){const n=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let a=zf(n,i.vertex,!0);a=B3(n,a);const l=zf(s,i.fragment,!0);return{vertex:a,fragment:l}}function l0(i,e){return e.map(n=>(Eu.has(n)||Eu.set(n,$3++),Eu.get(n))).sort((n,s)=>n-s).join("-")+i.vertex+i.fragment}function u0(i,e,n){const s=Rf(i),a=Rf(e);return n.forEach(l=>{Af(l.vertex,s,l.name),Af(l.fragment,a,l.name)}),{vertex:Lf(i,s),fragment:Lf(e,a)}}const H3=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,V3=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,W3=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Y3=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,X3={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},q3={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Q3({bits:i,name:e}){const n=O3({template:{fragment:V3,vertex:H3},bits:[X3,...i]});return ba.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function K3({bits:i,name:e}){return new O1({name:e,...G3({template:{vertex:W3,fragment:Y3},bits:[q3,...i]})})}const Z3={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},J3={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Au={};function eg(i){const e=[];if(i===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let s=0;s<i;s++)e.push(`@group(1) @binding(${n++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function tg(i){const e=[];if(i===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<i;n++)n===i-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function ng(i){return Au[i]||(Au[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${eg(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${tg(i)}
            `}}),Au[i]}const Ru={};function rg(i){const e=[];for(let n=0;n<i;n++)n>0&&e.push("else"),n<i-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function ig(i){return Ru[i]||(Ru[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${rg(i)}
            `}}),Ru[i]}const sg={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},og={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},jf={};function ag(i){let e=jf[i];if(e)return e;const n=new Int32Array(i);for(let s=0;s<i;s++)n[s]=s;return e=jf[i]=new V1({uTextures:{value:n,type:"i32",size:i}},{isStatic:!0}),e}class Ff extends sc{constructor(e){const n=K3({name:"batch",bits:[J3,ig(e),og]}),s=Q3({name:"batch",bits:[Z3,ng(e),sg]});super({glProgram:n,gpuProgram:s,resources:{batchSamplers:ag(e)}}),this.maxTextures=e}}let Ts=null;const c0=class h0 extends E3{constructor(e){super(e),this.geometry=new L3,this.name=h0.extension.name,this.vertexSize=6,Ts??(Ts=new Ff(e.maxTextures)),this.shader=Ts}packAttributes(e,n,s,a,l){const c=l<<16|e.roundPixels&65535,h=e.transform,f=h.a,m=h.b,g=h.c,x=h.d,_=h.tx,v=h.ty,{positions:k,uvs:P}=e,w=e.color,A=e.attributeOffset,R=A+e.attributeSize;for(let z=A;z<R;z++){const j=z*2,X=k[j],B=k[j+1];n[a++]=f*X+g*B+_,n[a++]=x*B+m*X+v,n[a++]=P[j],n[a++]=P[j+1],s[a++]=w,s[a++]=c}}packQuadAttributes(e,n,s,a,l){const c=e.texture,h=e.transform,f=h.a,m=h.b,g=h.c,x=h.d,_=h.tx,v=h.ty,k=e.bounds,P=k.maxX,w=k.minX,A=k.maxY,R=k.minY,z=c.uvs,j=e.color,X=l<<16|e.roundPixels&65535;n[a+0]=f*w+g*R+_,n[a+1]=x*R+m*w+v,n[a+2]=z.x0,n[a+3]=z.y0,s[a+4]=j,s[a+5]=X,n[a+6]=f*P+g*R+_,n[a+7]=x*R+m*P+v,n[a+8]=z.x1,n[a+9]=z.y1,s[a+10]=j,s[a+11]=X,n[a+12]=f*P+g*A+_,n[a+13]=x*A+m*P+v,n[a+14]=z.x2,n[a+15]=z.y2,s[a+16]=j,s[a+17]=X,n[a+18]=f*w+g*A+_,n[a+19]=x*A+m*w+v,n[a+20]=z.x3,n[a+21]=z.y3,s[a+22]=j,s[a+23]=X}_updateMaxTextures(e){this.shader.maxTextures!==e&&(Ts=new Ff(e),this.shader=Ts)}destroy(){this.shader=null,super.destroy()}};c0.extension={type:[Ne.Batcher],name:"default"};let lg=c0;function ug(i,e,n,s,a,l,c,h=null){let f=0;n*=e,a*=l;const m=h.a,g=h.b,x=h.c,_=h.d,v=h.tx,k=h.ty;for(;f<c;){const P=i[n],w=i[n+1];s[a]=m*P+x*w+v,s[a+1]=g*P+_*w+k,a+=l,n+=e,f++}}function cg(i,e,n,s){let a=0;for(e*=n;a<s;)i[e]=0,i[e+1]=0,e+=n,a++}function d0(i,e,n,s,a){const l=e.a,c=e.b,h=e.c,f=e.d,m=e.tx,g=e.ty;n||(n=0),s||(s=2),a||(a=i.length/s-n);let x=n*s;for(let _=0;_<a;_++){const v=i[x],k=i[x+1];i[x]=l*v+h*k+m,i[x+1]=c*v+f*k+g,x+=s}}const hg=new Ee;class f0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?y1(n,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||hg}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Hs={extension:{type:Ne.ShapeBuilder,name:"circle"},build(i,e){let n,s,a,l,c,h;if(i.type==="circle"){const j=i;if(c=h=j.radius,c<=0)return!1;n=j.x,s=j.y,a=l=0}else if(i.type==="ellipse"){const j=i;if(c=j.halfWidth,h=j.halfHeight,c<=0||h<=0)return!1;n=j.x,s=j.y,a=l=0}else{const j=i,X=j.width/2,B=j.height/2;n=j.x+X,s=j.y+B,c=h=Math.max(0,Math.min(j.radius,Math.min(X,B))),a=X-c,l=B-h}if(a<0||l<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),m=f*8+(a?4:0)+(l?4:0);if(m===0)return!1;if(f===0)return e[0]=e[6]=n+a,e[1]=e[3]=s+l,e[2]=e[4]=n-a,e[5]=e[7]=s-l,!0;let g=0,x=f*4+(a?2:0)+2,_=x,v=m,k=a+c,P=l,w=n+k,A=n-k,R=s+P;if(e[g++]=w,e[g++]=R,e[--x]=R,e[--x]=A,l){const j=s-P;e[_++]=A,e[_++]=j,e[--v]=j,e[--v]=w}for(let j=1;j<f;j++){const X=Math.PI/2*(j/f),B=a+Math.cos(X)*c,$=l+Math.sin(X)*h,ce=n+B,he=n-B,K=s+$,oe=s-$;e[g++]=ce,e[g++]=K,e[--x]=K,e[--x]=he,e[_++]=he,e[_++]=oe,e[--v]=oe,e[--v]=ce}k=a,P=l+h,w=n+k,A=n-k,R=s+P;const z=s-P;return e[g++]=w,e[g++]=R,e[--v]=z,e[--v]=w,a&&(e[g++]=A,e[g++]=R,e[--v]=z,e[--v]=A),!0},triangulate(i,e,n,s,a,l){if(i.length===0)return;let c=0,h=0;for(let g=0;g<i.length;g+=2)c+=i[g],h+=i[g+1];c/=i.length/2,h/=i.length/2;let f=s;e[f*n]=c,e[f*n+1]=h;const m=f++;for(let g=0;g<i.length;g+=2)e[f*n]=i[g],e[f*n+1]=i[g+1],g>0&&(a[l++]=f,a[l++]=m,a[l++]=f-1),f++;a[l++]=m+1,a[l++]=m,a[l++]=f-1}},dg={...Hs,extension:{...Hs.extension,name:"ellipse"}},fg={...Hs,extension:{...Hs.extension,name:"roundedRectangle"}},p0=1e-4,Nf=1e-4;function pg(i){const e=i.length;if(e<6)return 1;let n=0;for(let s=0,a=i[e-2],l=i[e-1];s<e;s+=2){const c=i[s],h=i[s+1];n+=(c-a)*(h+l),a=c,l=h}return n<0?-1:1}function Bf(i,e,n,s,a,l,c,h){const f=i-n*a,m=e-s*a,g=i+n*l,x=e+s*l;let _,v;c?(_=s,v=-n):(_=-s,v=n);const k=f+_,P=m+v,w=g+_,A=x+v;return h.push(k,P),h.push(w,A),2}function Nr(i,e,n,s,a,l,c,h){const f=n-i,m=s-e;let g=Math.atan2(f,m),x=Math.atan2(a-i,l-e);h&&g<x?g+=Math.PI*2:!h&&g>x&&(x+=Math.PI*2);let _=g;const v=x-g,k=Math.abs(v),P=Math.sqrt(f*f+m*m),w=(15*k*Math.sqrt(P)/Math.PI>>0)+1,A=v/w;if(_+=A,h){c.push(i,e),c.push(n,s);for(let R=1,z=_;R<w;R++,z+=A)c.push(i,e),c.push(i+Math.sin(z)*P,e+Math.cos(z)*P);c.push(i,e),c.push(a,l)}else{c.push(n,s),c.push(i,e);for(let R=1,z=_;R<w;R++,z+=A)c.push(i+Math.sin(z)*P,e+Math.cos(z)*P),c.push(i,e);c.push(a,l),c.push(i,e)}return w*2}function mg(i,e,n,s,a,l){const c=p0;if(i.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let Z=pg(i);f=(f-.5)*Z+.5}const m=new Et(i[0],i[1]),g=new Et(i[i.length-2],i[i.length-1]),x=s,_=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(x){i=i.slice(),_&&(i.pop(),i.pop(),g.set(i[i.length-2],i[i.length-1]));const Z=(m.x+g.x)*.5,te=(g.y+m.y)*.5;i.unshift(Z,te),i.push(Z,te)}const v=a,k=i.length/2;let P=i.length;const w=v.length/2,A=h.width/2,R=A*A,z=h.miterLimit*h.miterLimit;let j=i[0],X=i[1],B=i[2],$=i[3],ce=0,he=0,K=-(X-$),oe=j-B,Pe=0,be=0,Se=Math.sqrt(K*K+oe*oe);K/=Se,oe/=Se,K*=A,oe*=A;const ut=f,ee=(1-ut)*2,ne=ut*2;x||(h.cap==="round"?P+=Nr(j-K*(ee-ne)*.5,X-oe*(ee-ne)*.5,j-K*ee,X-oe*ee,j+K*ne,X+oe*ne,v,!0)+2:h.cap==="square"&&(P+=Bf(j,X,K,oe,ee,ne,!0,v))),v.push(j-K*ee,X-oe*ee),v.push(j+K*ne,X+oe*ne);for(let Z=1;Z<k-1;++Z){j=i[(Z-1)*2],X=i[(Z-1)*2+1],B=i[Z*2],$=i[Z*2+1],ce=i[(Z+1)*2],he=i[(Z+1)*2+1],K=-(X-$),oe=j-B,Se=Math.sqrt(K*K+oe*oe),K/=Se,oe/=Se,K*=A,oe*=A,Pe=-($-he),be=B-ce,Se=Math.sqrt(Pe*Pe+be*be),Pe/=Se,be/=Se,Pe*=A,be*=A;const te=B-j,M=X-$,N=B-ce,ge=he-$,ye=te*N+M*ge,we=M*N-ge*te,Ce=we<0;if(Math.abs(we)<.001*Math.abs(ye)){v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),ye>=0&&(h.join==="round"?P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+4:P+=2,v.push(B-Pe*ne,$-be*ne),v.push(B+Pe*ee,$+be*ee));continue}const De=(-K+j)*(-oe+$)-(-K+B)*(-oe+X),Me=(-Pe+ce)*(-be+$)-(-Pe+B)*(-be+he),Ae=(te*Me-N*De)/we,it=(ge*De-M*Me)/we,on=(Ae-B)*(Ae-B)+(it-$)*(it-$),Ve=B+(Ae-B)*ee,wt=$+(it-$)*ee,We=B-(Ae-B)*ne,At=$-(it-$)*ne,Hr=Math.min(te*te+M*M,N*N+ge*ge),an=Ce?ee:ne,yr=Hr+an*an*R;on<=yr?h.join==="bevel"||on/R>z?(Ce?(v.push(Ve,wt),v.push(B+K*ne,$+oe*ne),v.push(Ve,wt),v.push(B+Pe*ne,$+be*ne)):(v.push(B-K*ee,$-oe*ee),v.push(We,At),v.push(B-Pe*ee,$-be*ee),v.push(We,At)),P+=2):h.join==="round"?Ce?(v.push(Ve,wt),v.push(B+K*ne,$+oe*ne),P+=Nr(B,$,B+K*ne,$+oe*ne,B+Pe*ne,$+be*ne,v,!0)+4,v.push(Ve,wt),v.push(B+Pe*ne,$+be*ne)):(v.push(B-K*ee,$-oe*ee),v.push(We,At),P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+4,v.push(B-Pe*ee,$-be*ee),v.push(We,At)):(v.push(Ve,wt),v.push(We,At)):(v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),h.join==="round"?Ce?P+=Nr(B,$,B+K*ne,$+oe*ne,B+Pe*ne,$+be*ne,v,!0)+2:P+=Nr(B,$,B-K*ee,$-oe*ee,B-Pe*ee,$-be*ee,v,!1)+2:h.join==="miter"&&on/R<=z&&(Ce?(v.push(We,At),v.push(We,At)):(v.push(Ve,wt),v.push(Ve,wt)),P+=2),v.push(B-Pe*ee,$-be*ee),v.push(B+Pe*ne,$+be*ne),P+=2)}j=i[(k-2)*2],X=i[(k-2)*2+1],B=i[(k-1)*2],$=i[(k-1)*2+1],K=-(X-$),oe=j-B,Se=Math.sqrt(K*K+oe*oe),K/=Se,oe/=Se,K*=A,oe*=A,v.push(B-K*ee,$-oe*ee),v.push(B+K*ne,$+oe*ne),x||(h.cap==="round"?P+=Nr(B-K*(ee-ne)*.5,$-oe*(ee-ne)*.5,B-K*ee,$-oe*ee,B+K*ne,$+oe*ne,v,!1)+2:h.cap==="square"&&(P+=Bf(B,$,K,oe,ee,ne,!1,v)));const J=Nf*Nf;for(let Z=w;Z<P+w-2;++Z)j=v[Z*2],X=v[Z*2+1],B=v[(Z+1)*2],$=v[(Z+1)*2+1],ce=v[(Z+2)*2],he=v[(Z+2)*2+1],!(Math.abs(j*($-he)+B*(he-X)+ce*(X-$))<J)&&l.push(Z,Z+1,Z+2)}function gg(i,e,n,s){const a=p0;if(i.length===0)return;const l=i[0],c=i[1],h=i[i.length-2],f=i[i.length-1],m=e||Math.abs(l-h)<a&&Math.abs(c-f)<a,g=n,x=i.length/2,_=g.length/2;for(let v=0;v<x;v++)g.push(i[v*2]),g.push(i[v*2+1]);for(let v=0;v<x-1;v++)s.push(_+v,_+v+1);m&&s.push(_+x-1,_)}function m0(i,e,n,s,a,l,c){const h=r3(i,e,2);if(!h)return;for(let m=0;m<h.length;m+=3)l[c++]=h[m]+a,l[c++]=h[m+1]+a,l[c++]=h[m+2]+a;let f=a*s;for(let m=0;m<i.length;m+=2)n[f]=i[m],n[f+1]=i[m+1],f+=s}const yg=[],xg={extension:{type:Ne.ShapeBuilder,name:"polygon"},build(i,e){for(let n=0;n<i.points.length;n++)e[n]=i.points[n];return!0},triangulate(i,e,n,s,a,l){m0(i,yg,e,n,s,a,l)}},vg={extension:{type:Ne.ShapeBuilder,name:"rectangle"},build(i,e){const n=i,s=n.x,a=n.y,l=n.width,c=n.height;return l>0&&c>0?(e[0]=s,e[1]=a,e[2]=s+l,e[3]=a,e[4]=s+l,e[5]=a+c,e[6]=s,e[7]=a+c,!0):!1},triangulate(i,e,n,s,a,l){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[6],e[s+c+1]=i[7],c+=n,e[s+c]=i[4],e[s+c+1]=i[5],c+=n;const h=s/n;a[l++]=h,a[l++]=h+1,a[l++]=h+2,a[l++]=h+1,a[l++]=h+3,a[l++]=h+2}},_g={extension:{type:Ne.ShapeBuilder,name:"triangle"},build(i,e){return e[0]=i.x,e[1]=i.y,e[2]=i.x2,e[3]=i.y2,e[4]=i.x3,e[5]=i.y3,!0},triangulate(i,e,n,s,a,l){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[4],e[s+c+1]=i[5];const h=s/n;a[l++]=h,a[l++]=h+1,a[l++]=h+2}},wg=new Ee,Sg=new _t;function Cg(i,e,n,s){const a=e.matrix?i.copyFrom(e.matrix).invert():i.identity();if(e.textureSpace==="local"){const c=n.getBounds(Sg);e.width&&c.pad(e.width);const{x:h,y:f}=c,m=1/c.width,g=1/c.height,x=-h*m,_=-f*g,v=a.a,k=a.b,P=a.c,w=a.d;a.a*=m,a.b*=m,a.c*=g,a.d*=g,a.tx=x*v+_*P+a.tx,a.ty=x*k+_*w+a.ty}else a.translate(e.texture.frame.x,e.texture.frame.y),a.scale(1/e.texture.source.width,1/e.texture.source.height);const l=e.texture.source.style;return!(e.fill instanceof Ws)&&l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update()),s&&a.append(wg.copyFrom(s).invert()),a}const Pa={};sn.handleByMap(Ne.ShapeBuilder,Pa);sn.add(vg,xg,_g,Hs,dg,fg);const kg=new _t,bg=new Ee;function Pg(i,e){const{geometryData:n,batches:s}=e;s.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let a=0;a<i.instructions.length;a++){const l=i.instructions[a];if(l.action==="texture")Tg(l.data,s,n);else if(l.action==="fill"||l.action==="stroke"){const c=l.action==="stroke",h=l.data.path.shapePath,f=l.data.style,m=l.data.hole;c&&m&&$f(m.shapePath,f,!0,s,n),m&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),$f(h,f,c,s,n)}}}function Tg(i,e,n){const s=[],a=Pa.rectangle,l=kg;l.x=i.dx,l.y=i.dy,l.width=i.dw,l.height=i.dh;const c=i.transform;if(!a.build(l,s))return;const{vertices:h,uvs:f,indices:m}=n,g=m.length,x=h.length/2;c&&d0(s,c),a.triangulate(s,h,2,x,m,g);const _=i.image,v=_.uvs;f.push(v.x0,v.y0,v.x1,v.y1,v.x3,v.y3,v.x2,v.y2);const k=rn.get(f0);k.indexOffset=g,k.indexSize=m.length-g,k.attributeOffset=x,k.attributeSize=h.length/2-x,k.baseColor=i.style,k.alpha=i.alpha,k.texture=_,k.geometryData=n,e.push(k)}function $f(i,e,n,s,a){const{vertices:l,uvs:c,indices:h}=a;i.shapePrimitives.forEach(({shape:f,transform:m,holes:g})=>{const x=[],_=Pa[f.type];if(!_.build(f,x))return;const v=h.length,k=l.length/2;let P="triangle-list";if(m&&d0(x,m),n){const z=f.closePath??!0,j=e;j.pixelLine?(gg(x,z,l,h),P="line-list"):mg(x,j,!1,z,l,h)}else if(g){const z=[],j=x.slice();Mg(g).forEach(B=>{z.push(j.length/2),j.push(...B)}),m0(j,z,l,2,k,h,v)}else _.triangulate(x,l,2,k,h,v);const w=c.length/2,A=e.texture;if(A!==Ge.WHITE){const z=Cg(bg,e,f,m);ug(l,2,k,c,w,2,l.length/2-k,z)}else cg(c,w,2,l.length/2-k);const R=rn.get(f0);R.indexOffset=v,R.indexSize=h.length-v,R.attributeOffset=k,R.attributeSize=l.length/2-k,R.baseColor=e.color,R.alpha=e.alpha,R.texture=A,R.geometryData=a,R.topology=P,s.push(R)})}function Mg(i){const e=[];for(let n=0;n<i.length;n++){const s=i[n].shape,a=[];Pa[s.type].build(s,a)&&e.push(a)}return e}class Eg{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Ag{constructor(){this.instructions=new w1}init(e){const n=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new lg({maxTextures:n}),this.instructions.reset()}get geometry(){return Oe(P2,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const cc=class Ku{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Ku.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Ku.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),Pg(e,n);const s=e.batchMode;e.customShader||s==="no-batch"?n.isBatchable=!1:s==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=rn.get(Ag,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:a}=this._gpuContextHash[e.uid],l=a.vertices.length,c=a.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=n.batcher;h.ensureAttributeBuffer(l),h.ensureIndexBuffer(c),h.begin();for(let g=0;g<s.length;g++){const x=s[g];h.add(x)}h.finish(n.instructions);const f=h.geometry;f.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),f.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let g=0;g<m.length;g++){const x=m[g];x.bindGroup=v3(x.textures.textures,x.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new Eg;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(rn.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(s=>{rn.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};cc.extension={type:[Ne.WebGLSystem,Ne.WebGPUSystem,Ne.CanvasSystem],name:"graphicsContext"};cc.defaultOptions={bezierSmoothness:.5};let g0=cc;const Rg=8,ga=11920929e-14,Ig=1;function y0(i,e,n,s,a,l,c,h,f,m){const x=Math.min(.99,Math.max(0,m??g0.defaultOptions.bezierSmoothness));let _=(Ig-x)/1;return _*=_,zg(e,n,s,a,l,c,h,f,i,_),i}function zg(i,e,n,s,a,l,c,h,f,m){Zu(i,e,n,s,a,l,c,h,f,m,0),f.push(c,h)}function Zu(i,e,n,s,a,l,c,h,f,m,g){if(g>Rg)return;const x=(i+n)/2,_=(e+s)/2,v=(n+a)/2,k=(s+l)/2,P=(a+c)/2,w=(l+h)/2,A=(x+v)/2,R=(_+k)/2,z=(v+P)/2,j=(k+w)/2,X=(A+z)/2,B=(R+j)/2;if(g>0){let $=c-i,ce=h-e;const he=Math.abs((n-c)*ce-(s-h)*$),K=Math.abs((a-c)*ce-(l-h)*$);if(he>ga&&K>ga){if((he+K)*(he+K)<=m*($*$+ce*ce)){f.push(X,B);return}}else if(he>ga){if(he*he<=m*($*$+ce*ce)){f.push(X,B);return}}else if(K>ga){if(K*K<=m*($*$+ce*ce)){f.push(X,B);return}}else if($=X-(i+c)/2,ce=B-(e+h)/2,$*$+ce*ce<=m){f.push(X,B);return}}Zu(i,e,x,_,A,R,X,B,f,m,g+1),Zu(X,B,z,j,P,w,c,h,f,m,g+1)}const Dg=8,Lg=11920929e-14,jg=1;function Fg(i,e,n,s,a,l,c,h){const m=Math.min(.99,Math.max(0,h??g0.defaultOptions.bezierSmoothness));let g=(jg-m)/1;return g*=g,Ng(e,n,s,a,l,c,i,g),i}function Ng(i,e,n,s,a,l,c,h){Ju(c,i,e,n,s,a,l,h,0),c.push(a,l)}function Ju(i,e,n,s,a,l,c,h,f){if(f>Dg)return;const m=(e+s)/2,g=(n+a)/2,x=(s+l)/2,_=(a+c)/2,v=(m+x)/2,k=(g+_)/2;let P=l-e,w=c-n;const A=Math.abs((s-l)*w-(a-c)*P);if(A>Lg){if(A*A<=h*(P*P+w*w)){i.push(v,k);return}}else if(P=v-(e+l)/2,w=k-(n+c)/2,P*P+w*w<=h){i.push(v,k);return}Ju(i,e,n,m,g,v,k,h,f+1),Ju(i,v,k,x,_,l,c,h,f+1)}function x0(i,e,n,s,a,l,c,h){let f=Math.abs(a-l);(!c&&a>l||c&&l>a)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let m=f/h,g=a;m*=c?-1:1;for(let x=0;x<h+1;x++){const _=Math.cos(g),v=Math.sin(g),k=e+_*s,P=n+v*s;i.push(k,P),g+=m}}function Bg(i,e,n,s,a,l){const c=i[i.length-2],f=i[i.length-1]-n,m=c-e,g=a-n,x=s-e,_=Math.abs(f*x-m*g);if(_<1e-8||l===0){(i[i.length-2]!==e||i[i.length-1]!==n)&&i.push(e,n);return}const v=f*f+m*m,k=g*g+x*x,P=f*g+m*x,w=l*Math.sqrt(v)/_,A=l*Math.sqrt(k)/_,R=w*P/v,z=A*P/k,j=w*x+A*m,X=w*g+A*f,B=m*(A+R),$=f*(A+R),ce=x*(w+z),he=g*(w+z),K=Math.atan2($-X,B-j),oe=Math.atan2(he-X,ce-j);x0(i,j+e,X+n,l,K,oe,m*g>x*f)}const Ns=Math.PI*2,Iu={centerX:0,centerY:0,ang1:0,ang2:0},zu=({x:i,y:e},n,s,a,l,c,h,f)=>{i*=n,e*=s;const m=a*i-l*e,g=l*i+a*e;return f.x=m+c,f.y=g+h,f};function $g(i,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:n,a=Math.cos(i),l=Math.sin(i),c=Math.cos(i+e),h=Math.sin(i+e);return[{x:a-l*s,y:l+a*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const Of=(i,e,n,s)=>{const a=i*s-e*n<0?-1:1;let l=i*n+e*s;return l>1&&(l=1),l<-1&&(l=-1),a*Math.acos(l)},Og=(i,e,n,s,a,l,c,h,f,m,g,x,_)=>{const v=Math.pow(a,2),k=Math.pow(l,2),P=Math.pow(g,2),w=Math.pow(x,2);let A=v*k-v*w-k*P;A<0&&(A=0),A/=v*w+k*P,A=Math.sqrt(A)*(c===h?-1:1);const R=A*a/l*x,z=A*-l/a*g,j=m*R-f*z+(i+n)/2,X=f*R+m*z+(e+s)/2,B=(g-R)/a,$=(x-z)/l,ce=(-g-R)/a,he=(-x-z)/l,K=Of(1,0,B,$);let oe=Of(B,$,ce,he);h===0&&oe>0&&(oe-=Ns),h===1&&oe<0&&(oe+=Ns),_.centerX=j,_.centerY=X,_.ang1=K,_.ang2=oe};function Gg(i,e,n,s,a,l,c,h=0,f=0,m=0){if(l===0||c===0)return;const g=Math.sin(h*Ns/360),x=Math.cos(h*Ns/360),_=x*(e-s)/2+g*(n-a)/2,v=-g*(e-s)/2+x*(n-a)/2;if(_===0&&v===0)return;l=Math.abs(l),c=Math.abs(c);const k=Math.pow(_,2)/Math.pow(l,2)+Math.pow(v,2)/Math.pow(c,2);k>1&&(l*=Math.sqrt(k),c*=Math.sqrt(k)),Og(e,n,s,a,l,c,f,m,g,x,_,v,Iu);let{ang1:P,ang2:w}=Iu;const{centerX:A,centerY:R}=Iu;let z=Math.abs(w)/(Ns/4);Math.abs(1-z)<1e-7&&(z=1);const j=Math.max(Math.ceil(z),1);w/=j;let X=i[i.length-2],B=i[i.length-1];const $={x:0,y:0};for(let ce=0;ce<j;ce++){const he=$g(P,w),{x:K,y:oe}=zu(he[0],l,c,x,g,A,R,$),{x:Pe,y:be}=zu(he[1],l,c,x,g,A,R,$),{x:Se,y:ut}=zu(he[2],l,c,x,g,A,R,$);y0(i,X,B,K,oe,Pe,be,Se,ut),X=Se,B=ut,P+=w}}function Ug(i,e,n){const s=(c,h)=>{const f=h.x-c.x,m=h.y-c.y,g=Math.sqrt(f*f+m*m),x=f/g,_=m/g;return{len:g,nx:x,ny:_}},a=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let l=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],f=h.radius??n;if(f<=0){a(c,h),l=h;continue}const m=e[(c+1)%e.length],g=s(h,l),x=s(h,m);if(g.len<1e-4||x.len<1e-4){a(c,h),l=h;continue}let _=Math.asin(g.nx*x.ny-g.ny*x.nx),v=1,k=!1;g.nx*x.nx-g.ny*-x.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,v=-1,k=!0):_>0&&(v=-1,k=!0);const P=_/2;let w,A=Math.abs(Math.cos(P)*f/Math.sin(P));A>Math.min(g.len/2,x.len/2)?(A=Math.min(g.len/2,x.len/2),w=Math.abs(A*Math.sin(P)/Math.cos(P))):w=f;const R=h.x+x.nx*A+-x.ny*w*v,z=h.y+x.ny*A+x.nx*w*v,j=Math.atan2(g.ny,g.nx)+Math.PI/2*v,X=Math.atan2(x.ny,x.nx)-Math.PI/2*v;c===0&&i.moveTo(R+Math.cos(j)*w,z+Math.sin(j)*w),i.arc(R,z,w,j,X,k),l=h}}function Hg(i,e,n,s){const a=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),l=(h,f,m)=>({x:h.x+(f.x-h.x)*m,y:h.y+(f.y-h.y)*m}),c=e.length;for(let h=0;h<c;h++){const f=e[(h+1)%c],m=f.radius??n;if(m<=0){h===0?i.moveTo(f.x,f.y):i.lineTo(f.x,f.y);continue}const g=e[h],x=e[(h+2)%c],_=a(g,f);let v;if(_<1e-4)v=f;else{const w=Math.min(_/2,m);v=l(f,g,w/_)}const k=a(x,f);let P;if(k<1e-4)P=f;else{const w=Math.min(k/2,m);P=l(f,x,w/k)}h===0?i.moveTo(v.x,v.y):i.lineTo(v.x,v.y),i.quadraticCurveTo(f.x,f.y,P.x,P.y,s)}}const Vg=new _t;class Wg{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new gn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const s=this._currentPoly.points,a=s[s.length-2],l=s[s.length-1];return(a!==e||l!==n)&&s.push(e,n),this}arc(e,n,s,a,l,c){this._ensurePoly(!1);const h=this._currentPoly.points;return x0(h,e,n,s,a,l,c),this}arcTo(e,n,s,a,l){this._ensurePoly();const c=this._currentPoly.points;return Bg(c,e,n,s,a,l),this}arcToSvg(e,n,s,a,l,c,h){const f=this._currentPoly.points;return Gg(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,n,s,a,l),this}bezierCurveTo(e,n,s,a,l,c,h){this._ensurePoly();const f=this._currentPoly;return y0(this._currentPoly.points,f.lastX,f.lastY,e,n,s,a,l,c,h),this}quadraticCurveTo(e,n,s,a,l){this._ensurePoly();const c=this._currentPoly;return Fg(this._currentPoly.points,c.lastX,c.lastY,e,n,s,a,l),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const s=this.shapePrimitives,a=s.length;for(let l=0;l<e.instructions.length;l++){const c=e.instructions[l];this[c.action](...c.data)}if(e.checkForHoles&&s.length-a>1){let l=null;for(let c=a;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const f=h.shape,m=l==null?void 0:l.shape;m&&m.containsPolygon(f)?(l.holes||(l.holes=[]),l.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):l=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,s,a,l){return this.drawShape(new _t(e,n,s,a),l),this}circle(e,n,s,a){return this.drawShape(new ac(e,n,s),a),this}poly(e,n,s){const a=new js(e);return a.closePath=n,this.drawShape(a,s),this}regularPoly(e,n,s,a,l=0,c){a=Math.max(a|0,3);const h=-1*Math.PI/2+l,f=Math.PI*2/a,m=[];for(let g=0;g<a;g++){const x=h-g*f;m.push(e+s*Math.cos(x),n+s*Math.sin(x))}return this.poly(m,!0,c),this}roundPoly(e,n,s,a,l,c=0,h){if(a=Math.max(a|0,3),l<=0)return this.regularPoly(e,n,s,a,c);const f=s*Math.sin(Math.PI/a)-.001;l=Math.min(l,f);const m=-1*Math.PI/2+c,g=Math.PI*2/a,x=(a-2)*Math.PI/a/2;for(let _=0;_<a;_++){const v=_*g+m,k=e+s*Math.cos(v),P=n+s*Math.sin(v),w=v+Math.PI+x,A=v-Math.PI-x,R=k+l*Math.cos(w),z=P+l*Math.sin(w),j=k+l*Math.cos(A),X=P+l*Math.sin(A);_===0?this.moveTo(R,z):this.lineTo(R,z),this.quadraticCurveTo(k,P,j,X,h)}return this.closePath()}roundShape(e,n,s=!1,a){return e.length<3?this:(s?Hg(this,e,n,a):Ug(this,e,n),this.closePath())}filletRect(e,n,s,a,l){if(l===0)return this.rect(e,n,s,a);const c=Math.min(s,a)/2,h=Math.min(c,Math.max(-c,l)),f=e+s,m=n+a,g=h<0?-h:0,x=Math.abs(h);return this.moveTo(e,n+x).arcTo(e+g,n+g,e+x,n,x).lineTo(f-x,n).arcTo(f-g,n+g,f,n+x,x).lineTo(f,m-x).arcTo(f-g,m-g,e+s-x,m,x).lineTo(e+x,m).arcTo(e+g,m-g,e,m-x,x).closePath()}chamferRect(e,n,s,a,l,c){if(l<=0)return this.rect(e,n,s,a);const h=Math.min(l,Math.min(s,a)/2),f=e+s,m=n+a,g=[e+h,n,f-h,n,f,n+h,f,m-h,f-h,m,e+h,m,e,m-h,e,n+h];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,c)}ellipse(e,n,s,a,l){return this.drawShape(new lc(e,n,s,a),l),this}roundRect(e,n,s,a,l,c){return this.drawShape(new uc(e,n,s,a,l),c),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let s=this._currentPoly;return s&&this.endPoly(),s=new js,s.points.push(e,n),this._currentPoly=s,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new js,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let s=n.shape.x,a=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const l=n.transform,c=s;s=l.a*s+l.c*a+l.tx,a=l.b*c+l.d*a+l.ty}this._currentPoly.points.push(s,a)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const s=e.instructions[n];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let s=0;s<n.length;s++){const a=n[s],l=a.shape.getBounds(Vg);a.transform?e.addRect(l,a.transform):e.addRect(l)}return e}}class On{constructor(e,n=!1){this.instructions=[],this.uid=at("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?m3(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Wg(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,s,a,l){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(Et.shared);let f=0,m=0;if(!c||c.action!=="bezierCurveTo")f=h.x,m=h.y;else{f=c.data[2],m=c.data[3];const g=h.x,x=h.y;f=g+(g-f),m=x+(x-m)}return this.instructions.push({action:"bezierCurveTo",data:[f,m,e,n,s,a,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,s){const a=this.instructions[this.instructions.length-1],l=this.getLastPoint(Et.shared);let c=0,h=0;if(!a||a.action!=="quadraticCurveTo")c=l.x,h=l.y;else{c=a.data[0],h=a.data[1];const f=l.x,m=l.y;c=f+(f-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,n,s]}),this._dirty=!0,this}rect(e,n,s,a,l){return this.instructions.push({action:"rect",data:[e,n,s,a,l]}),this._dirty=!0,this}circle(e,n,s,a){return this.instructions.push({action:"circle",data:[e,n,s,a]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,s,a,l,c,h){l||(l=a/2);const f=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,x=[];for(let _=0;_<m;_++){const v=_%2?l:a,k=_*g+f;x.push(e+v*Math.cos(k),n+v*Math.sin(k))}return this.poly(x,!0,h),this}clone(e=!1){const n=new On;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const a=this.instructions[s];n.instructions.push({action:a.action,data:a.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,s=e.b,a=e.c,l=e.d,c=e.tx,h=e.ty;let f=0,m=0,g=0,x=0,_=0,v=0,k=0,P=0;for(let w=0;w<this.instructions.length;w++){const A=this.instructions[w],R=A.data;switch(A.action){case"moveTo":case"lineTo":f=R[0],m=R[1],R[0]=n*f+a*m+c,R[1]=s*f+l*m+h;break;case"bezierCurveTo":g=R[0],x=R[1],_=R[2],v=R[3],f=R[4],m=R[5],R[0]=n*g+a*x+c,R[1]=s*g+l*x+h,R[2]=n*_+a*v+c,R[3]=s*_+l*v+h,R[4]=n*f+a*m+c,R[5]=s*f+l*m+h;break;case"quadraticCurveTo":g=R[0],x=R[1],f=R[2],m=R[3],R[0]=n*g+a*x+c,R[1]=s*g+l*x+h,R[2]=n*f+a*m+c,R[3]=s*f+l*m+h;break;case"arcToSvg":f=R[5],m=R[6],k=R[0],P=R[1],R[0]=n*k+a*P,R[1]=s*k+l*P,R[5]=n*f+a*m+c,R[6]=s*f+l*m+h;break;case"circle":R[4]=Ms(R[3],e);break;case"rect":R[4]=Ms(R[4],e);break;case"ellipse":R[8]=Ms(R[8],e);break;case"roundRect":R[5]=Ms(R[5],e);break;case"addPath":R[0].transform(e);break;case"poly":R[2]=Ms(R[2],e);break;default:Yt("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,s=this.instructions[n];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;s=this.instructions[n]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Ms(i,e){return i?i.prepend(e):e.clone()}function rt(i,e,n){const s=i.getAttribute(e);return s?Number(s):n}function Yg(i,e){const n=i.querySelectorAll("defs");for(let s=0;s<n.length;s++){const a=n[s];for(let l=0;l<a.children.length;l++){const c=a.children[l];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=Xg(c);break;case"radialgradient":e.defs[c.id]=qg();break}}}}function Xg(i){const e=rt(i,"x1",0),n=rt(i,"y1",0),s=rt(i,"x2",1),a=rt(i,"y2",0),l=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new Ws(e,n,s,a,l==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const f=i.children[h],m=rt(f,"offset",0),g=nn.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function qg(i){return Yt("[SVG Parser] Radial gradients are not yet supported"),new Ws(0,0,1,0)}function Gf(i){const e=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Uf={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function v0(i,e){const n=i.getAttribute("style"),s={},a={},l={strokeStyle:s,fillStyle:a,useFill:!1,useStroke:!1};for(const c in Uf){const h=i.getAttribute(c);h&&Hf(e,l,c,h.trim())}if(n){const c=n.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[m,g]=f.split(":");Uf[m]&&Hf(e,l,m,g.trim())}}return{strokeStyle:l.useStroke?s:null,fillStyle:l.useFill?a:null,useFill:l.useFill,useStroke:l.useStroke}}function Hf(i,e,n,s){switch(n){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const a=Gf(s);e.strokeStyle.fill=i.defs[a]}else e.strokeStyle.color=nn.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const a=Gf(s);e.fillStyle.fill=i.defs[a]}else e.fillStyle.color=nn.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function Qg(i){if(i.length<=2)return!0;const e=i.map(h=>h.area).sort((h,f)=>f-h),[n,s]=e,a=e[e.length-1],l=n/s,c=s/a;return!(l>3&&c<2)}function Kg(i){return i.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function Zg(i){const e=i.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const n=e.map(Number),s=[],a=[];for(let g=0;g<n.length;g+=2)g+1<n.length&&(s.push(n[g]),a.push(n[g+1]));if(s.length===0||a.length===0)return 0;const l=Math.min(...s),c=Math.max(...s),h=Math.min(...a),f=Math.max(...a);return(c-l)*(f-h)}function Vf(i,e){const n=new On(i,!1);for(const s of n.instructions)e.instructions.push(s)}function Jg(i,e){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const n={context:e,defs:{},path:new On};Yg(i,n);const s=i.children,{fillStyle:a,strokeStyle:l}=v0(i,n);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&_0(h,n,a,l)}return e}function _0(i,e,n,s){const a=i.children,{fillStyle:l,strokeStyle:c}=v0(i,e);l&&n?n={...n,...l}:l&&(n=l),c&&s?s={...s,...c}:c&&(s=c);const h=!n&&!s;h&&(n={color:0});let f,m,g,x,_,v,k,P,w,A,R,z,j,X,B,$,ce;switch(i.nodeName.toLowerCase()){case"path":{X=i.getAttribute("d");const he=i.getAttribute("fill-rule"),K=Kg(X),oe=he==="evenodd",Pe=K.length>1;if(oe&&Pe){const Se=K.map(ee=>({path:ee,area:Zg(ee)}));if(Se.sort((ee,ne)=>ne.area-ee.area),K.length>3||!Qg(Se))for(let ee=0;ee<Se.length;ee++){const ne=Se[ee],J=ee===0;e.context.beginPath();const Z=new On(void 0,!0);Vf(ne.path,Z),e.context.path(Z),J?(n&&e.context.fill(n),s&&e.context.stroke(s)):e.context.cut()}else for(let ee=0;ee<Se.length;ee++){const ne=Se[ee],J=ee%2===1;e.context.beginPath();const Z=new On(void 0,!0);Vf(ne.path,Z),e.context.path(Z),J?e.context.cut():(n&&e.context.fill(n),s&&e.context.stroke(s))}}else{const Se=he?he==="evenodd":!0;B=new On(X,Se),e.context.path(B),n&&e.context.fill(n),s&&e.context.stroke(s)}break}case"circle":k=rt(i,"cx",0),P=rt(i,"cy",0),w=rt(i,"r",0),e.context.ellipse(k,P,w,w),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"rect":f=rt(i,"x",0),m=rt(i,"y",0),$=rt(i,"width",0),ce=rt(i,"height",0),A=rt(i,"rx",0),R=rt(i,"ry",0),A||R?e.context.roundRect(f,m,$,ce,A||R):e.context.rect(f,m,$,ce),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"ellipse":k=rt(i,"cx",0),P=rt(i,"cy",0),A=rt(i,"rx",0),R=rt(i,"ry",0),e.context.beginPath(),e.context.ellipse(k,P,A,R),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"line":g=rt(i,"x1",0),x=rt(i,"y1",0),_=rt(i,"x2",0),v=rt(i,"y2",0),e.context.beginPath(),e.context.moveTo(g,x),e.context.lineTo(_,v),s&&e.context.stroke(s);break;case"polygon":j=i.getAttribute("points"),z=j.match(/\d+/g).map(he=>parseInt(he,10)),e.context.poly(z,!0),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"polyline":j=i.getAttribute("points"),z=j.match(/\d+/g).map(he=>parseInt(he,10)),e.context.poly(z,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{Yt(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(n=null);for(let he=0;he<a.length;he++)_0(a[he],e,n,s)}function ey(i){return nn.isColorLike(i)}function Wf(i){return i instanceof h3}function Yf(i){return i instanceof Ws}function ty(i){return i instanceof Ge}function ny(i,e,n){const s=nn.shared.setValue(e??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?n.alpha:s.alpha,i.texture=Ge.WHITE,{...n,...i}}function ry(i,e,n){return i.texture=e,{...n,...i}}function Xf(i,e,n){return i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,{...n,...i}}function qf(i,e,n){return e.buildGradient(),i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,i.textureSpace=e.textureSpace,{...n,...i}}function iy(i,e){const n={...e,...i},s=nn.shared.setValue(n.color);return n.alpha*=s.alpha,n.color=s.toNumber(),n}function Ds(i,e){if(i==null)return null;const n={},s=i;return ey(i)?ny(n,i,e):ty(i)?ry(n,i,e):Wf(i)?Xf(n,i,e):Yf(i)?qf(n,i,e):s.fill&&Wf(s.fill)?Xf(s,s.fill,e):s.fill&&Yf(s.fill)?qf(s,s.fill,e):iy(s,e)}function Qf(i,e){const{width:n,alignment:s,miterLimit:a,cap:l,join:c,pixelLine:h,...f}=e,m=Ds(i,f);return m?{width:n,alignment:s,miterLimit:a,cap:l,join:c,pixelLine:h,...m}:null}const sy=new Et,Kf=new Ee,hc=class Pn extends Gn{constructor(){super(...arguments),this.uid=at("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new On,this._transform=new Ee,this._fillStyle={...Pn.defaultFillStyle},this._strokeStyle={...Pn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new gn,this._boundsDirty=!0}clone(){const e=new Pn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ds(e,Pn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Qf(e,Pn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ds(e,Pn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ds(e,Pn.defaultStrokeStyle),this}texture(e,n,s,a,l,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:a||0,dw:l||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?nn.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new On,this}fill(e,n){let s;const a=this.instructions[this.instructions.length-1];return this._tick===0&&(a==null?void 0:a.action)==="stroke"?s=a.data.path:s=this._activePath.clone(),s?(e!=null&&(n!==void 0&&typeof e=="number"&&(Oe(dt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=Ds(e,Pn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(Et.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&(s==null?void 0:s.action)==="fill"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=Qf(e,Pn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(s);else{n.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,n,s,a,l,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*n+h.tx,h.b*e+h.d*n+h.ty,s,a,l,c),this}arcTo(e,n,s,a,l){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*a+c.tx,c.b*s+c.d*a+c.ty,l),this}arcToSvg(e,n,s,a,l,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,n,s,a,l,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(e,n,s,a,l,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*n+f.tx,f.b*e+f.d*n+f.ty,f.a*s+f.c*a+f.tx,f.b*s+f.d*a+f.ty,f.a*l+f.c*c+f.tx,f.b*l+f.d*c+f.ty,h),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,n,s,a){return this._tick++,this._activePath.ellipse(e,n,s,a,this._transform.clone()),this}circle(e,n,s){return this._tick++,this._activePath.circle(e,n,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*n+s.tx,s.b*e+s.d*n+s.ty),this}moveTo(e,n){this._tick++;const s=this._transform,a=this._activePath.instructions,l=s.a*e+s.c*n+s.tx,c=s.b*e+s.d*n+s.ty;return a.length===1&&a[0].action==="moveTo"?(a[0].data[0]=l,a[0].data[1]=c,this):(this._activePath.moveTo(l,c),this)}quadraticCurveTo(e,n,s,a,l){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*a+c.tx,c.b*s+c.d*a+c.ty,l),this}rect(e,n,s,a){return this._tick++,this._activePath.rect(e,n,s,a,this._transform.clone()),this}roundRect(e,n,s,a,l){return this._tick++,this._activePath.roundRect(e,n,s,a,l,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,s,a,l=0,c){return this._tick++,this._activePath.regularPoly(e,n,s,a,l,c),this}roundPoly(e,n,s,a,l,c){return this._tick++,this._activePath.roundPoly(e,n,s,a,l,c),this}roundShape(e,n,s,a){return this._tick++,this._activePath.roundShape(e,n,s,a),this}filletRect(e,n,s,a,l){return this._tick++,this._activePath.filletRect(e,n,s,a,l),this}chamferRect(e,n,s,a,l,c){return this._tick++,this._activePath.chamferRect(e,n,s,a,l,c),this}star(e,n,s,a,l=0,c=0){return this._tick++,this._activePath.star(e,n,s,a,l,c,this._transform.clone()),this}svg(e){return this._tick++,Jg(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,s,a,l,c){return e instanceof Ee?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,s,a,l,c),this)}transform(e,n,s,a,l,c){return e instanceof Ee?(this._transform.append(e),this):(Kf.set(e,n,s,a,l,c),this._transform.append(Kf),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n],a=s.action;if(a==="fill"){const l=s.data;e.addBounds(l.path.bounds)}else if(a==="texture"){const l=s.data;e.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(a==="stroke"){const l=s.data,c=l.style.alignment,h=l.style.width*(1-c),f=l.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){var a;if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let s=!1;for(let l=0;l<n.length;l++){const c=n[l],h=c.data,f=h.path;if(!c.action||!f)continue;const m=h.style,g=f.shapePath.shapePrimitives;for(let x=0;x<g.length;x++){const _=g[x].shape;if(!m||!_)continue;const v=g[x].transform,k=v?v.applyInverse(e,sy):e;if(c.action==="fill")s=_.contains(k.x,k.y);else{const w=m;s=_.strokeContains(k.x,k.y,w.width,w.alignment)}const P=h.hole;if(P){const w=(a=P.shapePath)==null?void 0:a.shapePrimitives;if(w)for(let A=0;A<w.length;A++)w[A].shape.contains(k.x,k.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};hc.defaultFillStyle={color:16777215,alpha:1,texture:Ge.WHITE,matrix:null,fill:null,textureSpace:"local"};hc.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ge.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Es=hc;class Vs extends C1{constructor(e){e instanceof Es&&(e={context:e});const{context:n,roundPixels:s,...a}=e||{};super({label:"Graphics",...a}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new Es,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Vs(this._context.clone()):(this._ownedContext=null,new Vs(this._context))}lineStyle(e,n,s){Oe(dt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const a={};return e&&(a.width=e),n&&(a.color=n),s&&(a.alpha=s),this.context.strokeStyle=a,this}beginFill(e,n){Oe(dt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),n!==void 0&&(s.alpha=n),this.context.fillStyle=s,this}endFill(){Oe(dt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Es.defaultStrokeStyle.width||e.color!==Es.defaultStrokeStyle.color||e.alpha!==Es.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Oe(dt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Oe(dt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Oe(dt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Oe(dt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Oe(dt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Oe(dt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}sn.add(g2,y2);const Cn={nom:{nomcomplet:"Test Hero"},niveauGlobal:1,classe:{1:{classeId:"fighter"}},pvActuels:12,pvMax:12,CA:16,caracs:{force:{FOR:16},dexterite:{DEX:14,modDEX:2},constitution:{CON:14}}},oy=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="210mm"
   height="297mm"
   viewBox="0 0 210 297"
   version="1.1"
   id="svg1"
   inkscape:version="1.4.2 (f4327f4, 2025-05-13)"
   sodipodi:docname="gentil.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#191919"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#bd2727ff"
     inkscape:document-units="mm"
     inkscape:zoom="0.72604517"
     inkscape:cx="395.98087"
     inkscape:cy="561.25985"
     inkscape:window-width="1920"
     inkscape:window-height="1017"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1"
     showgrid="true">
    <inkscape:grid
       id="grid1"
       units="mm"
       originx="0"
       originy="0"
       spacingx="0.99999998"
       spacingy="1"
       empcolor="#0099e5"
       empopacity="0.30196078"
       color="#0099e5"
       opacity="0.14901961"
       empspacing="5"
       enabled="true"
       visible="true" />
  </sodipodi:namedview>
  <defs
     id="defs1" />
  <g
     inkscape:label="Calque 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
      transform="translate(-5, 5)"
       d="m 69.048457,20.142976 c -0.141111,0.105834 -1.234722,0.282223 -2.434166,0.352778 -2.504723,0.176389 -3.633611,0.740834 -4.445,2.293056 -0.352778,0.599722 -0.9525,1.622778 -1.411111,2.328333 -0.881945,1.340556 -2.046111,4.233334 -2.328334,5.891389 -0.105833,0.564445 -0.599722,2.2225 -1.093611,3.633611 -0.458611,1.446389 -1.093611,4.021667 -1.375833,5.785556 -0.282222,1.763888 -0.740833,3.421944 -1.023056,3.774721 -0.282222,0.3175 -0.599722,0.811389 -0.740833,1.093611 -0.141111,0.282223 0.07056,0.141112 0.458611,-0.352777 0.846667,-1.023056 0.9525,-0.740834 0.211667,0.670277 -0.282222,0.564445 -0.423333,1.093612 -0.282222,1.199445 0.105833,0.105833 -0.176389,0.811389 -0.635,1.516944 -0.740834,1.234722 -0.811389,1.27 -1.128889,0.564445 -0.176389,-0.388056 -0.881945,-0.987778 -1.516945,-1.305278 -1.093611,-0.529167 -1.305277,-0.529167 -2.434166,0.03528 -1.940278,0.917222 -4.233333,3.139722 -5.115278,4.974167 -0.670278,1.411111 -1.27,1.975555 -3.598333,3.457222 -3.033889,1.905 -5.750277,4.797777 -7.161388,7.584722 -0.458612,0.917222 -1.305278,2.116666 -1.869723,2.681111 -1.305277,1.340555 -3.139722,6.0325 -2.575277,6.596944 0.246944,0.246945 1.411111,0.423334 2.892777,0.388056 l 2.434167,-0.03528 -0.176389,1.093611 c -0.105833,0.599722 -0.352778,2.187222 -0.564444,3.563056 -0.176389,1.340555 -0.599723,2.751666 -0.917223,3.069166 -0.423333,0.458611 -0.493888,1.023056 -0.3175,2.257778 0.211667,1.763889 0.705556,2.610555 1.481667,2.610555 0.352778,0 0.423333,0.3175 0.246945,1.093611 -0.105834,0.635 -0.03528,1.199445 0.176388,1.340556 0.246945,0.141111 0.282223,0.987778 0.07056,2.681111 -0.176388,1.375833 -0.211666,2.822222 -0.105833,3.280833 0.246945,1.093611 -0.529167,3.774722 -1.340555,4.515556 -0.388056,0.3175 -0.670278,0.846666 -0.670278,1.199444 0,0.317504 -0.493889,0.740834 -1.234722,1.023054 -1.693334,0.59972 -2.081389,1.44639 -1.799167,4.1275 0.352778,3.35139 -0.282222,6.70278 -1.446389,7.69056 -1.128889,0.98778 -1.234722,2.61055 -0.282222,4.40972 0.3175,0.635 0.635,1.79917 0.705555,2.61056 0.529167,5.53861 0.529167,5.82083 -0.03528,6.0325 -0.3175,0.10583 -0.599722,0.21166 -0.670277,0.21166 -0.03528,0 -0.176389,-0.635 -0.3175,-1.44639 -0.176388,-1.02305 -0.423333,-1.51694 -0.917222,-1.62277 -0.529166,-0.14112 -0.705555,-0.49389 -0.705555,-1.30528 -0.03528,-2.11667 -2.575278,-6.17361 -3.633611,-5.75028 -1.023056,0.38806 -1.093611,2.54 -0.246945,4.86833 0.705556,1.79917 0.740834,2.2225 0.352778,2.96334 -0.246944,0.49389 -0.352778,1.30527 -0.246944,1.905 0.141111,0.70555 0,1.5875 -0.458612,2.57527 -0.388055,0.84667 -0.705555,2.2225 -0.705555,3.06917 0,1.51694 0,1.51694 -0.776111,0.9525 -2.081389,-1.44639 -2.187222,-1.44639 -1.940278,-0.0706 0.105833,0.70556 0.529167,1.72862 0.881945,2.25778 0.846666,1.16417 3.563055,7.51417 4.656666,10.83028 1.305278,3.98639 3.386667,7.83167 5.432778,9.91305 2.786944,2.89278 3.986389,2.46945 5.185833,-1.86972 1.058333,-3.81 0.917222,-5.57389 -0.635,-7.83166 -0.705556,-1.02306 -1.340556,-1.76389 -1.375833,-1.5875 -0.03528,0.17639 -0.176389,0.74083 -0.282223,1.27 -0.3175,1.37583 -0.670277,1.23472 -1.340555,-0.56445 l -0.564444,-1.55222 2.151944,0.17639 c 1.199444,0.0705 3.175,0.28222 4.374444,0.49389 2.434166,0.35278 3.739444,0.0705 4.303889,-1.05834 0.599722,-1.05833 0.458611,-2.08138 -0.3175,-2.8575 -0.881945,-0.88194 -1.305278,-1.94027 -2.010834,-4.7625 -0.246944,-1.16416 -0.846666,-2.75167 -1.305277,-3.52778 -0.705556,-1.16416 -0.811389,-1.69333 -0.564445,-2.99861 0.141111,-0.88194 0.529167,-2.15194 0.881945,-2.82222 1.164166,-2.18722 1.234722,-2.43417 1.234722,-3.52778 0,-1.23472 1.093611,-3.56305 2.116666,-4.58611 0.388056,-0.38805 0.705556,-0.98778 0.705556,-1.34055 0,-0.35278 0.246944,-0.9525 0.529167,-1.37584 0.3175,-0.45861 0.529166,-1.37583 0.458611,-2.11666 -0.03528,-0.74084 0.282222,-2.99862 0.705555,-5.04473 0.423334,-2.04611 0.9525,-4.58611 1.128889,-5.67972 0.246945,-1.19944 0.987778,-2.99861 1.905,-4.550832 0.846667,-1.375834 1.834444,-3.386667 2.187222,-4.445 0.352778,-1.058333 0.776111,-1.905 0.917222,-1.905 0.141112,0 0.529167,0.529167 0.846667,1.128889 0.3175,0.635 1.411111,2.434166 2.363611,3.951111 1.340556,2.046111 1.869722,3.280833 2.046111,4.691942 0.141111,1.05834 0.564445,2.32834 0.917222,2.82222 2.293056,3.24556 2.328334,4.37445 0.352778,7.09084 -0.670278,0.91722 -1.905,2.92805 -2.716389,4.445 -1.552222,2.96333 -1.552222,3.10444 -1.058333,9.03111 0.03528,0.28222 -0.105833,2.64583 -0.3175,5.22111 -0.352778,4.23334 -0.529167,4.97417 -1.658055,7.40834 -1.869723,3.95111 -1.940278,4.19805 -2.293056,7.65527 -0.211667,2.08139 -0.211667,4.09223 0.03528,5.89139 0.352778,2.61056 0.3175,2.92806 -0.917222,7.69056 -1.481667,5.57389 -1.516945,5.32694 1.199444,6.0325 0.881944,0.24694 1.658056,0.70555 1.905,1.12889 0.9525,1.79916 -0.599722,8.5725 -3.457222,14.99305 -1.058334,2.43417 -4.621389,7.16139 -5.185833,6.94972 -0.564445,-0.21166 -1.023056,0.14112 -1.693334,1.37584 -0.529166,0.9525 -1.058333,1.23472 -2.328333,1.34055 -0.246944,0.0353 -0.458611,0.21167 -0.458611,0.38806 0,0.17639 -0.3175,0.74083 -0.670278,1.27 -0.634999,0.88194 -0.634999,1.05833 -0.211666,1.905 0.458611,0.88194 0.352777,1.19944 -1.305278,4.72722 l -1.799166,3.81 -0.07055,5.46806 c -0.07056,7.76111 -0.458612,12.94694 -1.305278,17.85055 l -0.740834,4.30389 -1.552222,0.77611 c -0.846666,0.42333 -1.481666,0.84667 -1.375833,0.9525 0.07056,0.10583 -0.07056,0.81139 -0.352778,1.62278 -0.458611,1.30528 -0.458611,1.51694 0,1.86972 1.093611,0.77611 1.27,2.15195 0.917222,6.42056 -0.211666,2.25777 -0.493888,4.97416 -0.635,5.96194 -0.176388,1.02306 -0.211666,2.01083 -0.105833,2.15195 0.493889,0.74083 9.524999,4.7625 11.429999,5.07999 2.645833,0.45862 9.489722,-0.21166 11.006666,-1.09361 0.917222,-0.49388 1.058334,-0.84666 1.164167,-2.25777 0.07055,-1.19945 -0.105833,-2.01084 -0.599722,-2.82223 -0.776111,-1.27 -6.632222,-7.05555 -8.466667,-8.32555 -1.09361,-0.77611 -1.164165,-0.9525 -0.9525,-2.29306 0.141111,-0.81139 0.529167,-1.69333 0.9525,-1.97555 0.493889,-0.42334 0.776111,-1.19945 1.023056,-2.99861 0.388055,-3.21028 4.7625,-14.78139 8.290277,-21.94278 1.481667,-2.92806 2.822223,-6.17361 2.998611,-7.19667 0.635001,-3.38666 3.598334,-7.3025 6.138334,-8.07861 0.811388,-0.28222 1.552222,-0.81139 1.905,-1.41111 0.493888,-0.88194 0.740833,-0.98778 2.187222,-0.91722 2.081389,0.10583 3.139722,0.70555 6.35,3.56305 1.446388,1.30528 3.069166,2.43417 3.598333,2.54 0.529167,0.10584 1.199444,0.56445 1.516944,1.02306 0.846667,1.30528 3.245556,8.29028 3.527778,10.23055 0.282222,2.04612 1.516944,6.52639 1.940278,6.985 0.141111,0.14112 0.141111,0.74084 0,1.27 -0.176389,0.56445 -0.211667,1.09362 -0.105834,1.19945 0.105834,0.10583 0.03528,0.38805 -0.141111,0.635 -0.529166,0.635 -0.881944,2.99861 -0.529166,3.24555 0.176388,0.10584 0.246944,0.9525 0.176388,1.86973 -0.246944,2.50472 0.493889,7.86694 1.164167,8.60777 0.811389,0.91723 3.280833,1.16417 6.244177,0.67028 4.833056,-0.81139 6.596945,-0.81139 10.583333,-0.0353 2.610559,0.49389 5.185839,0.74084 8.219729,0.74084 3.98639,0 4.445,-0.0706 5.11528,-0.74084 0.56444,-0.56444 0.70555,-0.98777 0.52916,-1.83444 -0.10583,-0.56444 -0.38805,-1.23472 -0.56444,-1.48167 -0.17639,-0.24694 -2.04611,-0.88194 -4.1275,-1.41111 -2.11667,-0.52916 -4.02167,-1.16416 -4.30389,-1.37583 -0.52917,-0.42333 -2.50472,-1.48167 -4.974171,-2.71639 -3.421944,-1.65806 -5.679722,-4.19806 -4.974167,-5.53861 0.246945,-0.42333 0.105834,-1.27 -0.388055,-2.71639 -0.635,-1.905 -0.705556,-2.61056 -0.493889,-7.05556 0.141111,-2.71638 0.3175,-5.43277 0.423333,-5.99722 0.105834,-0.59972 0.3175,-3.38666 0.423334,-6.24416 0.141111,-3.13973 0.423333,-5.36223 0.635,-5.60917 0.599722,-0.56444 1.516944,-0.17639 3.280833,1.44639 1.552222,1.41111 2.504722,1.62278 2.504722,0.52917 0,-0.77612 -1.234722,-3.10445 -1.940278,-3.70417 -1.023055,-0.84667 -1.234722,-1.5875 -0.846666,-2.99861 0.211666,-0.74084 0.599722,-1.5875 0.881944,-1.83445 0.282222,-0.28222 0.493889,-0.81139 0.493889,-1.19944 0,-1.48167 3.139731,-0.59972 8.255001,2.39889 0.84667,0.49389 2.89278,0.59972 3.175,0.17639 0.10584,-0.17639 -1.05833,-1.37584 -2.54,-2.68111 -2.54,-2.29306 -6.84389,-4.79778 -8.255001,-4.79778 -0.3175,0 -0.705556,-0.17639 -0.811389,-0.35278 -0.105834,-0.21167 -0.670278,-0.35278 -1.234723,-0.35278 -0.811389,0 -1.058333,-0.21166 -1.375833,-1.12889 -0.317499,-0.84666 -0.493889,-1.02305 -0.811389,-0.70555 -1.128889,1.12889 -1.199445,0.0353 -0.352778,-4.62139 0.352778,-1.86972 1.128889,-3.06917 1.128889,-1.69333 0,1.5875 0.635,0.35277 0.776111,-1.55223 0.105833,-1.30527 0.423333,-2.29305 0.917222,-2.92805 2.751671,-3.42195 3.245561,-4.72722 3.245561,-8.71361 0,-1.72861 0.17639,-3.03389 0.42333,-3.28084 0.45861,-0.45861 0.49389,-3.56305 0.10584,-10.58333 -0.24695,-4.1275 -0.21167,-4.65667 0.3175,-4.65667 0.59972,0 0.77611,0.56445 1.05833,3.42195 0.24694,2.46944 1.16417,4.1275 3.66889,6.56167 2.18722,2.18722 3.03389,2.2225 1.94028,0.14111 -0.35278,-0.635 -1.02306,-1.905 -1.48167,-2.78695 -0.77611,-1.48166 -0.81139,-1.69333 -0.35278,-2.71639 0.3175,-0.67027 0.74083,-1.09361 1.16417,-1.09361 0.38805,0 1.19944,-0.17639 1.79916,-0.38805 2.01084,-0.74084 10.05417,1.65805 13.22917,3.91583 0.91722,0.635 1.23472,0.70556 2.36361,0.38806 0.74083,-0.21167 1.83444,-0.38806 2.46944,-0.38806 1.5875,0 4.97417,1.12889 6.70278,2.2225 1.34055,0.84667 1.94028,0.98778 5.29167,1.09361 5.78555,0.24695 15.98083,2.25778 19.685,3.91583 0.98777,0.42334 2.8575,0.88195 4.19805,0.98778 1.34056,0.14111 3.10444,0.56445 3.95111,0.9525 1.09361,0.56445 3.73945,1.02306 9.91306,1.76389 9.17222,1.16417 14.9225,1.62278 14.9225,1.30528 0,-0.49389 -3.66889,-2.01084 -10.58334,-4.445 -3.98639,-1.41111 -8.07861,-2.8575 -9.10166,-3.21028 -1.05834,-0.38805 -2.68111,-0.70555 -3.66889,-0.70555 -0.98778,0 -2.68111,-0.35278 -3.91584,-0.84667 -1.23472,-0.45861 -3.35138,-0.91722 -4.83305,-1.05833 -4.55083,-0.35278 -16.05139,-3.59834 -19.93194,-5.60917 -1.12889,-0.59972 -2.08139,-0.74083 -4.93889,-0.77611 -3.73945,0 -6.10306,-0.74084 -7.83167,-2.36361 -0.70556,-0.635 -1.16417,-0.70556 -4.445,-0.67028 -4.65666,0.10583 -11.21833,-1.27 -12.24138,-2.50472 -1.44639,-1.72861 -0.38806,-3.31611 3.31611,-5.00945 1.76389,-0.81139 2.96333,-1.79917 2.61055,-2.18722 -0.10583,-0.0706 -1.55222,0.17639 -3.24555,0.59972 -3.4925,0.88194 -6.49111,2.54 -8.21972,4.51556 -1.37584,1.65805 -2.32834,1.97555 -3.13973,1.05833 -0.49389,-0.56444 -0.52916,-0.84667 -0.21166,-1.5875 0.84666,-1.76389 0.21166,-6.6675 -1.12889,-8.78417 -0.705562,-1.12889 -1.340562,-6.87917 -1.093618,-9.63083 0.246945,-2.2225 0.176389,-2.54 -0.493888,-3.21028 -0.670278,-0.67028 -0.740834,-1.16417 -0.776112,-4.30389 0,-2.46944 -0.246944,-4.23333 -0.705555,-5.67972 -0.352778,-1.12889 -0.740833,-2.892779 -0.881945,-3.915834 -0.141111,-1.023056 -0.493888,-2.328334 -0.776111,-2.892778 -0.282222,-0.599722 -0.846666,-2.469445 -1.199444,-4.162778 -0.599722,-3.033889 -0.599722,-3.139722 0.03528,-3.704166 0.811389,-0.740834 1.622778,-3.316111 1.340555,-4.339167 -0.105833,-0.423333 0.03528,-1.869722 0.282223,-3.210278 0.282222,-1.340555 0.529166,-3.245555 0.529166,-4.233333 0,-1.763889 0,-1.799167 0.705556,-1.164167 0.599722,0.529167 0.811389,0.564445 1.763889,0.176389 1.763894,-0.740833 2.116674,-1.516944 1.587504,-3.4925 -0.49389,-1.905 -1.058338,-3.069166 -1.693338,-3.457222 -1.093611,-0.705555 -1.305278,-2.116666 -0.776111,-4.974166 0.917222,-4.7625 0.599722,-8.149167 -0.846667,-8.748889 -0.3175,-0.105833 -1.904999,-0.3175 -3.563055,-0.458611 l -2.963333,-0.211667 -0.105834,-3.175 C 90.638467,46.918809 90.28569,45.613531 88.945134,43.461587 87.569301,41.309643 86.369846,40.533532 84.464846,40.639365 l -1.552222,0.07056 0.07055,-1.340555 c 0.07056,-1.975556 -0.246939,-3.598334 -1.305273,-6.173612 -0.493889,-1.27 -0.987777,-2.610555 -1.058333,-2.963333 -0.282222,-1.375833 -1.058333,-3.175 -1.834444,-4.233333 -0.458611,-0.599722 -0.811389,-1.27 -0.811389,-1.446389 0,-0.388056 -3.139722,-3.351389 -4.092222,-3.845278 -0.811389,-0.458611 -4.550834,-0.881945 -4.833056,-0.564445 z m 26.35251,79.798332 c -0.282222,0.317502 -0.776111,-0.423333 -0.599722,-0.917222 0.211667,-0.529166 0.246944,-0.493889 0.458611,0.105834 0.141111,0.352777 0.211667,0.740833 0.141111,0.811388 z m -20.249454,68.615272 1.5875,0.74084 0.599722,2.99861 c 1.375833,6.73805 1.164166,11.04194 -0.635,12.73528 -0.458611,0.42333 -0.846667,1.02305 -0.846667,1.30527 0,0.28223 -0.3175,0.91723 -0.705555,1.48167 -0.811389,1.16417 -1.023056,4.02167 -0.388056,5.57389 0.246945,0.56444 0.388056,1.79917 0.3175,2.75167 l -0.105833,1.72861 -2.116667,-3.13972 c -1.834444,-2.75167 -5.609166,-6.56167 -6.491111,-6.56167 -0.141111,0 -0.458611,-0.38806 -0.670278,-0.88195 -0.246944,-0.49388 -0.811388,-1.05833 -1.305277,-1.23472 -0.493889,-0.17639 -0.917223,-0.56444 -0.917223,-0.88194 -0.211666,-2.64584 -0.176388,-2.82222 1.128889,-4.23334 2.116667,-2.29305 7.373056,-11.71222 7.373056,-13.22916 0,-0.45861 0.881944,-0.24695 3.175,0.84666 z"
       id="path3"
       style="fill:currentColor;stroke:none;stroke-width:0.0352778;fill-opacity:1" />
  </g>
</svg>
`,ay=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\r
<svg\r
   width="2342"\r
   height="3750"\r
   viewBox="0 0 2342 3750"\r
   version="1.1"\r
   id="svg1"\r
   sodipodi:docname="mechant.svg"\r
   inkscape:version="1.4.2 (f4327f4, 2025-05-13)"\r
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\r
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\r
   xmlns="http://www.w3.org/2000/svg"\r
   xmlns:svg="http://www.w3.org/2000/svg">\r
  <defs\r
     id="defs1" />\r
  <sodipodi:namedview\r
     id="namedview1"\r
     pagecolor="#ffffff"\r
     bordercolor="#000000"\r
     borderopacity="0.25"\r
     inkscape:showpageshadow="2"\r
     inkscape:pageopacity="0.0"\r
     inkscape:pagecheckerboard="0"\r
     inkscape:deskcolor="#d1d1d1"\r
     inkscape:zoom="0.21733333"\r
     inkscape:cx="1171.0123"\r
     inkscape:cy="1875"\r
     inkscape:window-width="1920"\r
     inkscape:window-height="1017"\r
     inkscape:window-x="-"\r
     inkscape:window-y="-8"\r
     inkscape:window-maximized="1"\r
     inkscape:current-layer="svg1" />\r
  <path\r
     fill-rule="nonzero"\r
     fill="#000000"\r
     fill-opacity="1"\r
     d="m 1179.4102,3716.9922 c -17.3907,-74.8555 -35.9414,-120.9844 -69.0313,-171.7774 -30.6094,-46.9726 -82.0898,-92.3789 -115.62499,-102 -9.15235,-2.625 -10.1875,-2.039 -14.46875,8.211 -2.53907,6.0703 -9.29688,27.6328 -15.01954,47.9101 -11.40625,40.4102 -25.3125,77.6563 -29,77.6563 -1.29296,0 -4.19531,-12.1133 -6.44921,-26.918 -6.85938,-45.0625 -25.47266,-111.832 -39.1875,-140.5703 -15.55469,-32.5898 -37.56641,-58.125 -60.26954,-69.918 -13.26171,-6.8906 -21.32421,-8.6875 -39.5039,-8.7929 -26.72266,-0.1563 -41.25781,5.8086 -60.45703,24.8164 -14.30469,14.164 -16.1836,14.9531 -16.28516,6.8594 -0.14062,-11.0079 -12.54687,-33.0313 -25.9375,-46.0235 -52.17578,-50.6328 -129.63672,-52.4961 -178.97266,-4.3008 -10.42578,10.1836 -21.48828,22.1836 -24.58203,26.6719 -5.5625,8.0625 -5.60937,7.9258 -4.17187,-11.4219 0.92187,-12.4336 11.65625,-51.1172 29.42578,-106.0351 62.49609,-193.1406 112.14844,-389.7969 155.69141,-616.6485 18.38671,-95.7812 35.44921,-222.3007 35.53125,-263.4609 l 0.0391,-17.1289 h -13.9961 c -32.30859,0 -86.14843,-21.6016 -135.19531,-54.2305 C 451.2891,2202.9102 384.21879,2073.8789 376.1602,1931.6914 l -2.07813,-36.6133 -92.28125,-185.9687 C 231.04687,1606.8203 167.20703,1474.6797 139.93359,1415.4609 76.816406,1278.4102 44.253906,1214.0586 17.546875,1173.6094 1.621094,1149.4805 -2.457031,1141.1289 1.300781,1140.3281 c 9.125,-1.9375 67.613281,12.9532 128.253909,32.6524 63.97656,20.789 114.91015,41.039 149.80859,59.5781 11.91406,6.3203 22.19141,10.9727 22.83203,10.332 0.64453,-0.6406 -6.85156,-34.75 -16.65625,-75.8008 -39.96484,-167.3398 -42.8164,-188.92964 -42.79297,-324.23043 0.0117,-82.66015 1.15625,-109.98046 5.83985,-139.60937 5.70703,-36.10156 23.48047,-112.28125 28.19531,-120.85156 2.13672,-3.87891 46.05469,69.26172 73.13281,121.80078 4.625,8.97265 11.3086,19.98047 14.85938,24.46094 l 6.44922,8.14843 7.98046,-17.9375 C 383.59375,709.01172 394.86328,683.32031 404.25,661.78125 442.76172,573.42969 496.08984,474 550.375,389.35156 c 9.78125,-15.26172 42.82031,-62.97265 73.42187,-106.04297 92.47657,-130.14843 130.32813,-180.25 132.13282,-174.89843 0.52734,1.57031 -3.46485,20.37109 -8.8711,41.78906 C 721.60937,251 718.21094,332 737.92187,367.83984 c 6.26954,11.39844 9.09766,13.5 19.33985,14.35157 15.53515,1.29687 20.58203,-1.5 82.62109,-45.72266 88.19531,-62.85938 122.33594,-82.6875 262.98829,-152.70703 50.1602,-24.97266 103.6289,-53.5 118.8008,-63.40234 40.8789,-26.64063 78.0976,-63.898442 97.6562,-97.757818 18.8321,-32.570312 19.3516,-32.203124 22.7032,16.007813 4.6406,66.839845 14.1093,105.718745 36.3984,149.460935 39.6289,77.75781 131.8516,149.3711 209.5,162.69141 26.8906,4.60937 41.2109,1.53906 61.5508,-13.20313 14.6797,-10.6289 35.6992,-47.6875 45.5781,-80.34765 10.5898,-35.05078 6.3516,-154.75 -7.5391,-212.890628 -0.9687,-4.039062 -0.3476,-7.339843 1.3711,-7.339843 5.0391,0 37.711,72.480471 57.3477,127.238281 9.9805,27.82031 29.4219,85.8125 43.2031,128.88281 29.3477,91.63672 46.9688,137.10938 72.8789,188.08985 19.2891,37.9375 83.0508,148.6289 89,154.48828 2.2188,2.1914 5.0313,0.57031 8.5195,-4.89844 19.4883,-30.47266 67.8711,-61.78125 106.2383,-68.76172 30.1407,-5.46875 31.6211,-2.66016 10.6211,20.03125 -22.9492,24.77734 -41.9375,63.57813 -49.4179,100.9375 -6.1602,30.76172 -5.543,104.87109 1.8984,228.39063 6.1016,101.17189 1.6406,283.24219 -8.4883,346.44139 l -1.9297,12.0078 35.5469,-20.2773 c 63.1797,-36.0625 178.2109,-81.5899 255.332,-101.082 17.0508,-4.3086 31.5782,-7.3204 32.3008,-6.6875 0.7188,0.6289 -6.7226,11.8085 -16.5312,24.8476 -42.1719,56.0508 -67.0704,92.3399 -95.8086,139.6328 -20.2422,33.3086 -84.3907,159.8594 -122.0118,240.6875 -34.7109,74.5703 -100.9687,208.5625 -127.4492,257.7422 l -23.3711,43.3789 8.5899,35.9297 c 16.332,68.2813 18.1992,120.6406 6.5,181.9883 -25.9492,136.0625 -111.0977,238.8125 -220.3477,265.8828 -25.1523,6.2305 -61.0625,6.8594 -84.3633,1.4805 -9.0976,-2.1016 -17.3789,-2.9805 -18.3984,-1.961 -4.8398,4.8282 8.7109,166.6875 23.0195,275.0703 17.5508,132.9375 27.0586,180.9141 70.461,355.5157 28.9687,116.5781 29.8789,119.8476 68.6992,247.1328 18.5117,60.7148 32.0703,110.7187 31.4101,115.8242 l -1.1796,8.9883 -4.2696,-8.5586 c -7.6523,-15.3281 -27.9804,-24.0664 -55.9804,-24.0664 -21.9102,0 -27.3789,1.3554 -49.5,12.2851 -29.7813,14.7227 -53.0586,38.4688 -58.8204,60.0157 -2.0898,7.7851 -4.5898,14.0351 -5.5585,13.8867 -0.9727,-0.1485 -9.1524,-9.2617 -18.1797,-20.2461 -20.6914,-25.1797 -39.4102,-35.2813 -69.2227,-37.336 -60.5976,-4.1835 -103.5703,40.6055 -123.25,128.4571 -9.0703,40.4883 -17.8281,95.0742 -17.8594,111.2929 -0.01,5.8321 -1.3086,10.6016 -2.8906,10.6016 -4.5898,0 -24.7695,-44.2031 -37.9805,-83.1992 -6.6875,-19.7383 -14.9375,-41.3984 -18.3476,-48.1367 l -6.1992,-12.2461 -11.3125,4.7226 c -43.5196,18.1836 -98.4805,81.2813 -124.461,142.8907 -14.9687,35.4882 -28.9883,82.4218 -37.3086,124.8437 -3.8711,19.7422 -8.1406,37.9609 -9.5,40.4883 -1.4882,2.8008 -5.8398,-9.9649 -11.1093,-32.625 z m 252.4492,-526.6289 c 3.8906,-143.336 6.4297,-182.332 19.8515,-305.0625 18.1993,-166.4805 34.3594,-261.8906 58.8282,-347.4727 14.3515,-50.1875 37.332,-110.7578 52.6015,-138.6679 5.3985,-9.8711 7.5391,-15.7383 4.7696,-13.0508 -6.1797,6.0117 -51.3204,90.9023 -63.0313,118.5195 -56.9883,134.5508 -90.5781,340.2422 -97.3281,596.0117 -3.1602,119.4805 5.8008,284.1328 17.1094,314.8203 1.3281,3.6055 2.7382,-17.6718 3.1289,-47.2812 0.3906,-29.6094 2.2304,-109.625 4.0703,-177.8164 z m -476.23831,206.4961 c 0,-2.168 2.36719,-23.0938 5.25782,-46.4922 4.29687,-34.7774 4.93359,-63.4024 3.49218,-156.7422 -1.72656,-111.3477 -5.07812,-159.8398 -20.32031,-293.6406 -22.0625,-193.7344 -77.27344,-378.336 -148.32812,-495.9727 -9.19532,-15.2304 -17.26172,-27.6914 -17.92188,-27.6914 -0.66016,0 3.71484,10.6485 9.72266,23.6602 36.0039,77.9804 83.30859,259.0898 109.29297,418.4375 28.6875,175.9179 46.22265,350.1601 50.98046,506.5312 1.26563,41.7227 3.54688,75.8594 5.06641,75.8594 1.51563,0 2.75781,-1.7773 2.75781,-3.9492 z m 707.76951,-177.1328 c -3.2617,-23.3282 -9.0117,-67.375 -12.789,-97.8789 -12.5821,-101.6602 -23.0625,-175.3789 -37.543,-264.2774 -7.8984,-48.4531 -16.0703,-100.207 -18.168,-115.0117 -9.4101,-66.6992 -7.3203,-3.0469 3.7891,115.0117 8.3789,88.9766 17.1406,155.0156 30.7617,231.7617 16.3399,92.086 35.4883,177.8164 38.8594,173.9766 0.5586,-0.6406 -1.6406,-20.2539 -4.9102,-43.582 z m -949.50779,-83.1953 c 16.32422,-93.6016 27.94922,-209.0079 31.05078,-308.3243 1.99219,-63.6757 -0.17187,-59.7031 -12.4375,22.836 -11.72656,78.9179 -28.77734,273.2695 -27.84375,317.375 0.34766,16.3008 1.54688,12.1523 9.23047,-31.8867 z m 514.98829,-8.211 c 22.2187,-19.0234 25.4883,-43.332 8.8008,-65.5586 -16.1133,-21.4648 -45.2617,-26.3398 -66.6133,-11.1367 -38.3867,27.3398 -18.0898,88.168 29.4414,88.168 12.3984,0 17.2617,-1.9649 28.3711,-11.4727 z m -13.7617,-365.2578 c 18.5625,-10.875 33.1406,-28.2422 45.1797,-53.793 8.6718,-18.3906 10.0625,-24.9882 9.9922,-47.4609 -0.1016,-30.0078 -6.9805,-48.8867 -26.5196,-72.7383 -42.4531,-51.8008 -123.2617,-33.3008 -142.8711,32.6914 -6.3203,21.2891 -6.3906,61.8086 -0.1523,82.8281 16.9101,56.9336 70.3711,84.2618 114.3711,58.4727 z m 110.8203,-103.7031 c 13.6289,-29.9688 22.25,-69.7578 22.4609,-103.5899 0.1602,-26.8281 -0.9687,-33.4804 -8.3906,-49.5078 -18.2109,-39.3125 -52.2109,-64.4336 -90.9414,-67.2031 -21.3672,-1.5273 -22.9492,-1.0977 -49.7695,13.5195 -34.418,18.7617 -47.1289,19.6836 -67.5703,4.8711 -45.0391,-32.6289 -88.5391,-30.6875 -124.0782,5.5196 -7.82419,7.9726 -15.46873,14.5 -16.98826,14.5 -3.83984,0 -17.79687,-31.668 -20.48047,-46.4688 -2.41796,-13.3203 0.16016,-28.5703 4.82422,-28.5703 1.61328,0 6.10938,9.5391 9.99219,21.1992 3.87891,11.6719 7.77344,21.2109 8.65234,21.2109 0.87891,0 8.46878,-5.789 16.85938,-12.8789 21.6719,-18.2617 43.0195,-26.9296 66.3906,-26.9296 16.3203,0 24.3086,2.3906 51.0313,15.1992 l 31.6875,15.1992 24.4297,-10.4688 c 55.5898,-23.8007 110.25,-13.0898 153.3711,30.0274 16.539,16.543 32.2812,44.8125 35.9101,64.4726 1.8594,10.0704 2.5899,10.8594 4.8516,5.3204 30.8398,-75.6719 66.789,-146.0704 97.039,-190.0313 23.0274,-33.4492 56.0079,-63.6211 79.6172,-72.8398 17.2735,-6.7383 24.9414,-7.4883 81.0625,-7.9297 66.7188,-0.5196 81.5196,-2.8907 114.4492,-18.2696 44.629,-20.8515 80.8985,-57.6914 105.6993,-107.3515 26.0507,-52.1797 34.0898,-90.3711 34,-161.5 -0.078,-57.7891 -3.25,-84.5899 -19.6993,-166.3985 -21.1679,-105.3515 -21.4609,-171.0312 -1.289,-290.3593 19.039,-112.6211 19.1992,-140.1211 1.2578,-213.6133 -25.0586,-102.6367 -62.8984,-173.5195 -126.4375,-236.8399 -57.4922,-57.289 -123.7109,-96.88668 -205.8594,-123.07809 C 1489.1992,921 1462.5703,916.85156 1422.0781,918.5 c -38.1992,1.57031 -54.3086,7.64062 -80.7578,30.46094 -25.0586,21.61718 -48.6406,78.78906 -76.5586,185.61716 l -7.6015,29.0703 -13.4297,-22.5898 c -30.0899,-50.6602 -95.6211,-94.6602 -190.2305,-127.7383 -85.77734,-29.99999 -150.83984,-40.78905 -244.69922,-40.62108 -76.19531,0.15234 -114.875,5.90234 -168.39062,25.01953 C 568,1023.6016 519.32422,1062.7109 494.09375,1115.3008 c -26.625,55.4805 -32.33984,108.2773 -29.84375,275.6875 1.03125,69.0898 1.22656,124.1523 0.43359,122.3515 -1.96875,-4.4609 -23.82422,-162.3203 -27.78125,-200.6484 -4.76953,-46.2617 -4.02734,-122.2812 1.50782,-154.0117 5.64453,-32.3594 24.76562,-89.2305 37.05468,-110.1992 11.125,-18.9805 42.41407,-56.30081 60.10157,-71.67191 56.8164,-49.38672 122.34375,-72.59765 223.70312,-79.23828 48.76953,-3.19922 56.28906,-4.39844 54.91016,-8.80859 -0.87891,-2.82031 -8.45703,-21.89063 -16.84375,-42.39063 -16.83985,-41.16015 -28.78516,-89.58984 -34.03516,-137.97265 -4.05859,-37.38672 -4.15625,-96.07813 -0.17578,-105.33985 2.27344,-5.29687 2.84766,-4.29687 3.03516,5.26172 0.32812,16.98828 18.11718,113.19141 27.84375,150.60938 13.96875,53.71093 46.52343,139.12109 53.20312,139.55078 1.30859,0.0898 17.79688,2.10937 36.63672,4.5 18.84375,2.3789 34.63672,4.00781 35.10156,3.62109 0.46485,-0.39062 -3.46875,-11.17187 -8.73828,-23.96094 -19.42969,-47.10937 -42.05859,-133.53906 -50.56641,-193.12109 -9.62109,-67.39062 -15.23828,-183.39844 -9.0664,-187.21094 1.4375,-0.88672 6.70312,25.8125 11.69922,59.35157 23.42968,157.30859 33.05078,203.39843 59.07422,283.01171 22.79296,69.73829 15.39062,61.48829 71.80859,80.06641 68.50395,22.57031 126.62505,52.65234 179.18355,92.76172 15.2188,11.6211 29,21.1211 30.6094,21.1211 1.6602,0 1.8711,-6.7109 0.4805,-15.5 -1.3399,-8.5195 -4.1289,-42.66016 -6.1992,-75.85157 -4.211,-67.67969 -13.3907,-162.50781 -23.0196,-237.94922 -3.5312,-27.6914 -5.8125,-50.96094 -5.0625,-51.71094 2.6329,-2.6289 21.5235,63.10157 27.9414,97.16016 10.8399,57.55078 13.3516,89.08203 15.2188,190.87109 1.582,86.71098 2.4922,99.51958 8.0195,112.32028 3.5235,8.1485 7.4102,13.1289 8.9102,11.418 1.4726,-1.6601 6.0625,-16.2383 10.1914,-32.3906 8.3789,-32.7578 21.4922,-68.63674 43.7187,-119.67971 23.7618,-54.58984 26.293,-68.78906 26.3008,-147.85937 0,-72.57813 -3.4883,-115.6875 -16.6289,-205.55078 -8.9492,-61.12891 -38.0312,-207.4375 -51.8906,-261.00782 -0.9414,-3.62109 0.7617,-2.21093 3.8008,3.16797 27.3593,48.26172 59,171.13282 77.75,301.89063 16.039,111.92969 17.7187,172.16015 6.4609,231.65234 -2.5508,13.45703 -4.6328,24.53906 -4.6328,24.62891 0,0.0781 10.9297,-5.17969 24.293,-11.69922 28.3984,-13.85156 65.2773,-22.72266 94.457,-22.72266 48,0 110.8711,16.92188 167.3633,45.05078 107.2695,53.40235 184.0195,129.41013 239.457,237.17193 23.1524,45 22.8399,41.4101 -4.0781,-47.3125 -30.4492,-100.32818 -36.75,-134.62896 -36.5625,-199.01958 0.1133,-39.21094 1.5117,-57.82031 5.1211,-68.50781 l 4.9609,-14.67188 2.2305,26.08984 c 6.1992,72.40235 17.6484,138.17969 34.539,198.40233 19.6016,69.8867 42.5704,175.5899 48.879,224.8672 3.621,28.2422 6.9531,74.7422 7.4101,103.3399 0.4609,28.6093 1.8399,50.2304 3.0703,48.0507 3.5391,-6.3007 21.5899,-120.7187 25.5508,-161.9414 5.9102,-61.6679 7.8984,-226.61716 3.4492,-287.11716 -7.3398,-99.88282 -29.6797,-190.25 -63.3789,-256.3711 l -14.832,-29.10937 -0.2188,22.83984 c -0.3007,31.21094 -5.9492,82.60938 -9.8007,89.21094 -2.2774,3.89062 -3.1875,-0.53125 -3.2696,-15.80078 -0.2773,-54.83985 -15.8906,-108.83985 -55.6484,-192.5 -28.582,-60.14063 -49.2813,-109.46875 -60.2617,-143.55078 -3.1797,-9.8711 -6.2383,-18.48828 -6.8086,-19.14844 -0.5703,-0.67188 -7.3516,4.20703 -15.0586,10.83984 -17.2422,14.8086 -53.8321,32.5586 -76.9922,37.34766 -24.9688,5.17187 -69.1797,4.40234 -95.8594,-1.66797 -44.8008,-10.19141 -83.2305,-29.62109 -128.289,-64.87109 -62.4219,-48.83985 -93.2305,-93.89063 -108.1211,-158.08985 -2.7305,-11.73828 -5.4883,-21.89062 -6.1485,-22.55078 -0.6523,-0.64844 -13.3906,5.44141 -28.2929,13.53906 -14.8985,8.10157 -59.3985,28.65235 -98.879,45.66016 -174.10152,75.03125 -254.00386,120.72266 -363.22261,207.74219 -27.48047,21.89844 -55.1836,41.98828 -61.56641,44.66015 -29.54687,12.33985 -66.04687,-8.82031 -87.19531,-50.55078 -8.75391,-17.26953 -18.125,-57.89062 -18.33985,-79.48047 l -0.13671,-14.00781 -7.89063,22.83985 c -17.38281,50.32031 -21.99219,78.25 -21.80859,132.13671 0.35937,104.04297 24.70312,220.21094 67.28906,321.10157 18.46875,43.76172 18.64453,44.32031 13.90625,44.32031 -4.48047,0 -25.25391,-32.60938 -41.46875,-65.08984 -23.32422,-46.73047 -51.96094,-131.92969 -66.39844,-197.55079 -7.16797,-32.58984 -12.86328,-95 -10.41406,-114.17968 l 2.08203,-16.32813 -13.63281,22.83985 c -31.75391,53.17968 -63.24219,126.92968 -97.83594,229.16015 -26.28906,77.66797 -34.85547,96.83985 -50.46484,112.91797 -14.48438,14.91016 -27.87891,15.98047 -41.14063,3.26953 l -9.02344,-8.64844 1.48047,11.09766 c 0.81641,6.10156 3.76953,34.58203 6.5625,63.29297 2.79297,28.71875 9.60938,82.30855 15.14844,119.08985 9.47266,62.8789 10.16406,73.918 11.5625,184.3398 0.82031,64.6094 0.75781,116.7305 -0.13281,115.8282 -1.8711,-1.8789 -9.66016,-66.4805 -17.10938,-141.9297 C 367.98047,1046.4102 353.51953,961.58984 326.375,865.69922 317.48437,834.30078 308.64844,802 306.74219,793.92187 c -5.32813,-22.52343 -1.75,137.27735 4.45703,199.01954 6.73047,66.99999 18.66406,146.99999 30.90625,207.17969 11.53125,56.6875 11.94922,58.207 46.29687,167.8281 58.89063,187.9727 70.33594,263.5508 66.24219,437.4102 -1.89844,80.4492 -1.42969,94.2695 4.52344,133.7617 17.55078,116.418 61.64453,200.2383 134.25781,255.2187 45.15234,34.1915 91.67969,50.8711 151.75391,54.4219 49.69922,2.9297 58.85156,6.5196 89.80078,35.168 21.3789,19.8008 68.35547,80.6797 107.24609,138.9805 35.01563,52.5 72.19534,128.8711 92.39454,189.7812 l 17.25,52.0391 1.9375,-28.1211 c 1.4531,-21.0391 4.1211,-32.5899 10.6406,-45.9102 22.8399,-46.6679 83.3594,-77.1679 134.5508,-67.8086 54.8984,10.0313 93.3086,47.8985 105.3203,103.8399 8.9883,41.8789 10.9414,49.7578 12.3399,49.7578 0.8086,0 4.9804,-7.707 9.2695,-17.1289 z m -159.8594,-285.9375 c -29,-7.5508 -63.1211,-34.8516 -80.9414,-64.7617 -8.3594,-14.0196 -11.707,-17.1016 -16.9375,-15.6094 -3.5898,1.0195 -23.7812,3.5195 -44.8711,5.539 -21.082,2.0313 -38.33202,4.9297 -38.33202,6.4493 0,7.6406 -7.60937,1.1523 -13.01953,-11.0977 -23.05078,-52.1719 2.92187,-130.7226 50.54295,-152.8516 18.8594,-8.7617 33.6602,-7.8398 51.0469,3.1915 24.3633,15.4375 35.1211,39.8789 41.832,95.0078 1.8594,15.25 5.6211,34.3398 8.3477,42.4218 6.3515,18.75 24.8828,44.0586 38.3711,52.3907 17.582,10.8593 24.1211,11.1484 38.332,1.75 25.8477,-17.1016 42.2969,-49.3321 48.6172,-95.2032 4.793,-34.75 11.6328,-54.1992 25.4297,-72.2773 l 11.5508,-15.1211 -8.3985,-7.2187 c -16.9101,-14.543 -1.1601,-14.9415 32.7305,-0.8399 41.1484,17.1367 59.3906,41.7969 68.1992,92.2383 5.211,29.7891 1.8594,69.6601 -7.3594,87.4609 -5.0312,9.7383 -5.6992,10.0782 -8.1914,4.0977 -1.5,-3.5664 -5.6211,-13.4492 -9.1601,-21.9375 l -6.4297,-15.4414 -15.6406,6.9219 c -15.9883,7.0781 -45.8203,9.75 -58.1602,5.1992 -5.75,-2.1094 -7.2187,-0.4492 -11.0703,12.5898 -6.1602,20.8711 -22.0469,40.7305 -39.418,49.2578 -16.5,8.1016 -42.4023,11.6602 -57.0703,7.8438 z m 158.2383,-113.9922 c 23.1133,-16.668 24.582,-48.5195 3.2227,-69.8906 -16.211,-16.1993 -26.4297,-16.2188 -41.6524,-0.09 -19.6992,20.8906 -26.3789,49.5 -15.2578,65.3711 9.8594,14.0899 37.2891,16.4414 53.6875,4.6094 z m -255.8789,1.1797 c 8.5508,-3.5781 13.1406,-8.6094 18.1406,-19.9102 7.4688,-16.8789 6.4805,-30.4375 -3.6601,-50.1992 -17.2813,-33.6992 -45.5586,-37.0781 -64.9688,-7.7812 -17.1211,25.8515 -16.2812,46.3203 2.6484,64.4531 7.1993,6.8984 26.3399,16.6562 35.4688,18.0781 0.5,0.078 6.0703,-2.0117 12.3711,-4.6406 z m -385.56251,-65.1289 c -22.03125,-5 -47.78907,-17.0391 -69.1836,-32.3399 -17.65234,-12.6211 -45.46875,-49.0195 -60.24609,-78.832 -17.97656,-36.2695 -17.69922,-41.1367 0.93359,-16.3086 48.14453,64.1406 95.76953,97.1406 167.28125,115.8906 18.02735,4.7188 27.52735,8.6602 25.58594,10.5977 -5.19141,5.1914 -43.3125,5.7812 -64.37109,0.9922 z m 926.86331,-3.4024 c -37.211,-8.0976 -88.6914,-33.207 -105.9492,-51.6797 -5.2305,-5.5976 -8.9727,-10.707 -8.3204,-11.3593 0.6485,-0.6485 14.1602,3.2226 30.0196,8.6015 66.8593,22.6602 132.289,27.9805 175.6679,14.3086 41.6016,-13.1094 92.711,-47.6289 120.6914,-81.5078 13.4493,-16.2812 15.8204,-12.6211 5.3204,8.1797 -44.0704,87.3086 -130.4805,132.3984 -217.4297,113.457 z m -395.0196,-32.7187 c 5.2696,-20.5313 8.2383,-114.668 4.8399,-153.7305 -3.6719,-42.0898 -2.0195,-105.2695 2.9805,-114.1992 1.8085,-3.2383 6.1484,5.9609 13.5703,28.8086 6,18.4609 13.3398,39.3203 16.3203,46.3633 l 5.4062,12.789 7.3711,-11.9218 c 18.8906,-30.5586 127.1602,-124.4883 232.0313,-201.2969 167.7578,-122.8633 214.2695,-150.0508 256.6797,-150.0508 22.6914,0 33.6992,9.3789 33.6992,28.7187 0,17.2813 -12.3008,33.4102 -44.0508,57.7383 -14.0469,10.7735 -30.8086,24.4922 -37.2383,30.5117 -11.1289,10.3907 -11.1914,10.6016 -1.5,4.1407 24.6914,-16.4297 93.0586,-49.3321 102.5078,-49.3321 15.8516,0 10.9922,9.3829 -11.5781,22.3516 -124.8906,71.7813 -165.8711,100.8984 -235.0508,167.0313 -24.0976,23.039 -53.5586,48.8398 -65.4687,57.3398 l -21.6524,15.4492 14.25,4.1992 c 26.711,7.8907 61.711,11.8789 88.2305,10.0586 67.9727,-4.6562 113.3828,-51.289 135.0117,-138.6562 4.1602,-16.7813 9.3086,-32.6133 11.4414,-35.1914 3.9492,-4.7617 35.1172,-15.5117 56.7188,-19.5586 l 11.8984,-2.2305 -1.9375,35.457 c -4.4805,82.4414 -14.3398,131.7618 -34.8125,174.1329 -45.7305,94.6601 -168.3984,138.3593 -277.6992,98.9296 -42.5,-15.332 -90.9688,-54.0898 -113.1797,-90.5312 -6.9883,-11.4688 -8.1602,-12.1914 -11.2617,-6.8984 -26.3164,44.8281 -66.0664,65.5468 -101.8985,53.1093 l -13.5898,-4.7304 0.4883,42.7617 c 0.5312,46.457 -4.6875,72.5078 -17.4883,87.2265 -6,6.9024 -6.5391,7.0313 -5.0391,1.211 z M 1629.5,2047.7383 c 14.4297,-5.1289 33.1094,-13.3399 41.5,-18.2578 19.5117,-11.4414 51.1602,-40.8086 59.2109,-54.9492 5.2696,-9.2696 4.0977,-8.5625 -7.6992,4.6484 -16.4023,18.3789 -46.2109,40.1406 -73.5703,53.7305 -26.3828,13.1093 -37.6016,16.4609 -73.6719,22.0312 l -30.7304,4.7383 29.3593,-1.3086 c 21.461,-0.9609 36.4297,-3.8203 55.6016,-10.6328 z m -896.38281,28.293 c -45.44141,-11.1719 -85.6875,-31.5196 -118.67969,-60 -33.39453,-28.8399 -64.13672,-85.75 -77.66016,-143.793 -6.39843,-27.457 -18.75781,-103.457 -17.09375,-105.1172 2.60938,-2.6094 49.9961,10 59.69532,15.8789 10.66015,6.4688 11.28515,7.7695 28.79296,59.8711 11.84766,35.2695 24.22657,56.1289 44.92188,75.6992 45.03516,42.5899 113.66797,55.7695 180.57031,34.6797 l 17.51953,-5.5195 -16.6914,-9.1289 c -21.45313,-11.7305 -38.53125,-25.7618 -82.77735,-68.0118 -59.21875,-56.5585 -87.95703,-76.1406 -191.6914,-130.6289 -31.85157,-16.7421 -57.91407,-31.6601 -57.91407,-33.1718 0,-1.5078 3.64454,-4.1289 8.10157,-5.8203 11.37109,-4.3282 33.42968,3.3007 85.69922,29.621 23.77734,11.9688 43.23046,21.25 43.23046,20.6094 0,-0.6406 -20.92187,-14.9297 -46.49218,-31.75 -48.83594,-32.1406 -58.57422,-40.5195 -64.14063,-55.2109 -4.17578,-11.0195 -0.77344,-20.8164 11.04688,-31.8086 7.96093,-7.3984 11.40625,-8.1602 37.05078,-8.1602 27.66797,0 29.08984,0.4024 65.80078,18.211 41.65234,20.2109 87.77734,48.4101 182.71094,111.7109 117.4414,78.3203 193.72261,143.1367 237.75391,202.0391 6.3594,8.5078 12.6484,14.3789 13.9687,13.0508 1.3204,-1.3399 7.4805,-17.5821 13.6915,-36.0899 6.1992,-18.5195 12,-34.3906 12.8789,-35.2695 3.8593,-3.8633 5.5898,45.0976 2.3711,67.2969 -5.6602,39.121 -25.5508,61.9609 -53.961,61.9804 -18.6719,0.02 -33.9609,-9.3906 -48.2305,-29.6679 -6.81636,-9.6915 -13.42183,-17.8516 -14.67964,-18.1329 -1.26172,-0.2773 -9.63282,8.0899 -18.60547,18.6016 -29.4961,34.5313 -90.2461,70.5 -135.14844,80.0195 -29.51172,6.2618 -71.875,5.4297 -102.03906,-1.9882 z m 101.98047,-32.9024 c 23.76562,-5.9805 58.53515,-20.0781 58.53515,-23.75 0,-0.6484 -8.82031,2.3711 -19.60156,6.7305 -10.78125,4.3515 -30.85156,10.789 -44.59766,14.3008 -23.10937,5.9101 -32.80468,9.6406 -25.05859,9.6406 1.75,0 15.57812,-3.1094 30.72266,-6.9219 z M 1060.0313,1744.5508 C 999.94531,1685.6406 863.01172,1611.5586 626.08984,1509.7891 l -17.9414,-7.711 13.50781,-0.078 c 43.24219,-0.25 165.47266,47.5 279.54297,109.1914 76.83984,41.5586 139.81248,86.8477 164.99218,118.668 9.5899,12.1211 21.4492,36.6914 17.3281,35.9101 -1.2578,-0.2382 -11.8281,-9.789 -23.4882,-21.2187 z m 159.9375,-3.2813 c 0.2109,-35.8906 25.6015,-61.6797 92.8007,-94.2382 138.8203,-67.25 229.6524,-108.0704 272.2188,-122.3321 34.3125,-11.5 46.6328,-12.7187 28.0117,-2.789 -7.1406,3.8203 -33.5508,18.7695 -58.6797,33.2187 -65.8789,37.9024 -101.832,57.1094 -182.6992,97.6406 -84.543,42.3516 -116.9023,62.3594 -136.9922,84.6993 l -14.7305,16.3906 z m -37.5899,-133.4297 -9.7891,-4.4804 14.9102,-0.1485 c 32.9805,-0.3203 66.8398,-17.4101 106.6289,-53.8125 23.25,-21.2773 27.6211,-17.4101 9,7.9532 -31.1601,42.4375 -87.168,65.8672 -120.75,50.4882 z M 1124.4219,1479 c -18.8633,-4.75 -60.6602,-27.5703 -57.0821,-31.1484 0.6407,-0.6407 10.629,2.707 22.211,7.4375 29.9609,12.2304 72.0078,12.0625 109.1406,-0.461 14.3594,-4.8281 29.5391,-11.0195 33.7305,-13.7383 10.957,-7.1015 12.9375,-2.5507 4.9297,11.3086 -11.1602,19.293 -30.8399,27.4922 -68.961,28.6914 -17.4297,0.5508 -37.2187,-0.3906 -43.9687,-2.0898 z M 432.74609,1028.1016 c 1.48047,-42.71098 8.55469,-119.91019 14.42578,-157.51176 l 4.07813,-26.10156 2.34766,14.69141 c 4.03906,25.23047 3.04296,77.64843 -2.16407,113.76953 -6.52734,45.28128 -14.57812,86.23048 -17.57812,89.41018 -1.3125,1.3906 -1.8125,-14.0196 -1.11328,-34.2578 z m 22.1211,8.8867 c 19.54687,-57.41018 40.63672,-145.94924 56.73437,-238.16799 7.20703,-41.28125 14.07813,-79.85156 15.27735,-85.71875 4.67578,-22.9414 7.85937,-12.38281 7.85937,26.07813 0,91 -20.74219,193.60937 -52.28906,258.66015 -12.03516,24.80856 -32.67578,54.10936 -27.58203,39.14846 z m 685.09371,-71.77736 c -16.6601,-35.24219 -45.4726,-111.69922 -60.8515,-161.5 -19.3594,-62.65235 -88.47659,-329.74219 -85.9844,-332.23047 2.48828,-2.49219 23.8164,47.35937 39.3047,91.84765 21.5703,61.96094 46.4805,146.8125 74.8789,255.0625 13.6523,52.03907 30.7227,111.9375 37.9297,133.09766 7.2109,21.17188 12.4531,40.26172 11.6406,42.42188 -0.8203,2.16015 -8.4297,-10.75 -16.918,-28.69922 z M 593.96875,876.30859 c -8.24609,-15.77734 -17.69922,-78.3789 -10.6875,-70.80859 2.85156,3.07812 19.97266,65.41016 19.97266,72.69922 0,5.76953 -5.90235,4.57031 -9.28516,-1.89063 z m 394.95312,-11.4375 c -9.93359,-11.96093 -25.72656,-69.1914 -20.0664,-72.6914 2.60937,-1.6211 10.59375,17.80078 20.83594,50.67968 3.07421,9.8711 6.16406,19.78125 6.86718,22.01954 1.64844,5.28125 -3.26172,5.26953 -7.63672,0 z M 701.69922,804.51953 C 687.97656,768.75 684.83203,755.64062 685.04687,735.19141 c 0.14844,-14.28125 0.79688,-16.42188 3.1875,-10.46094 2.51954,6.26953 19.28907,73.1289 24.51563,97.73828 3.04687,14.35156 -1.49219,6.98047 -11.05078,-17.94922 z m 833.41018,10.10156 c -1.0781,-6.90234 -4.9805,-47.05078 -8.668,-89.21093 -7.0117,-80.14063 -14.6914,-136.42969 -27.0312,-198.21875 -4.0391,-20.17969 -6.4805,-36.70313 -5.4297,-36.70313 3.8281,0 26.2812,57.90234 34.1601,88.08984 20.3477,77.92188 28.1992,172.8711 18.4883,223.35157 -4.7187,24.4414 -8.9687,29.1289 -11.5195,12.6914 z m -74.8906,-54.14062 c -1.0274,-7.62891 -2.6485,-25.60938 -3.6094,-39.96875 l -1.75,-26.10156 5.3906,11.41796 c 6.2188,13.19141 10.3594,68.51172 5.1211,68.51172 -1.8125,0 -4.1328,-6.23047 -5.1523,-13.85937 z m 254.5195,-97.87891 c -1.8594,-35.38281 -7.5195,-76.32031 -18.3594,-132.58203 -4.6875,-24.34766 -4.2891,-26.26953 3.1406,-15.05859 7.6211,11.5 20.8516,50.78906 26.1524,77.64843 7.039,35.64063 2.707,109.96094 -6.4024,109.96094 -1.3398,0 -3.3789,-17.99219 -4.5312,-39.96875 z m -38.0586,-36.71094 c 0,-33.67187 0.8086,-41.26953 4.0703,-38.01171 2.75,2.74218 4.0781,15.21093 4.0781,38.01171 0,22.78907 -1.3281,35.26954 -4.0781,38.00782 -3.2617,3.26172 -4.0703,-4.32813 -4.0703,-38.00782 z M 417.36719,1744.5586 c -14.4336,-199.7891 -75.11328,-338.3398 -190.38672,-434.668 -39.04688,-32.6406 -130.617189,-91.7304 -135.132814,-87.2187 -1.113281,1.1172 2.4375,6.7695 7.886719,12.5781 28.312495,30.1602 113.593745,153.4102 160.898435,232.5 49.9375,83.5195 125.22656,236.8789 148.55078,302.6211 4.95313,13.9492 9.60938,24.7695 10.34375,24.0273 0.73828,-0.7265 -0.23437,-23.1601 -2.16015,-49.8398 z m 1481.08201,10.2227 c 24.5899,-73 102.6211,-221.3321 167.3594,-318.1094 46.8203,-69.9922 93.2305,-129.211 136.9805,-174.7735 26.1914,-27.2773 31.7812,-35.8086 16.3125,-24.8984 -4.9414,3.4883 -16.6016,10.1797 -25.9219,14.8711 -29.8399,15.0391 -102.8594,66.0195 -132.3008,92.3789 -77.0976,69.0391 -139.5898,174.3906 -166.0898,280.0195 -5.0703,20.1719 -6.9493,41.3203 -8.2891,92.9922 -1.0586,40.6797 -0.5586,65.6094 1.2617,63.6172 1.6485,-1.7891 6.4571,-13.5391 10.6875,-26.0976 z m 0,0"\r
     id="path1"\r
     inkscape:highlight-color="#aaaaaa"\r
     style="fill:#ffffff;fill-opacity:1" />\r
</svg>\r
`,ly="#87CEFA",uy="#FF0000";function w0(i){const e=i.match(/viewBox\s*=\s*"([^"]+)"/i),n=i.match(/<path[^>]*\sd="([^"]+)"[^>]*>/i);if(!e||!n)throw new Error("Cannot parse SVG path/viewBox from source.");const s=n[0].match(/transform="([^"]+)"/i);return{d:n[1],transform:s?s[1]:void 0,viewBox:e[1]}}const cy=w0(oy),hy=w0(ay);function dy(i){return i==="player"?ly:uy}function fy(i){const e=i==="player"?cy:hy,n=dy(i),s=e.transform?` transform="${e.transform}"`:"";return[`<svg viewBox="${e.viewBox}" xmlns="http://www.w3.org/2000/svg" style="background:none">`,"<g>",`<path d="${e.d}"${s} fill="${n}" />`,"</g>","</svg>"].join("")}function Zf(i){const e=fy(i);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}const py=["./brute.json","./archer.json","./assassin.json","./ghost.json"],Jf={types:py},my="brute",gy="Brute",yy="Frontliner robuste qui avance pour engager le joueur.",xy="brute",vy={hp:10,moveRange:3,attackDamage:2,armorClass:14},_y={type:"ground",speed:3,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},wy={id:my,label:gy,description:yy,aiRole:xy,baseStats:vy,movement:_y},Sy="archer",Cy="Archer",ky="Tireur qui prefere garder une distance de securite avant de frapper.",by="archer",Py={hp:7,moveRange:2,attackDamage:2,armorClass:13},Ty={type:"ground",speed:2,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},My={id:Sy,label:Cy,description:ky,aiRole:by,baseStats:Py,movement:Ty},Ey="assassin",Ay="Assassin",Ry="Frappeur rapide qui cherche a se rapprocher pour porter un coup decisif.",Iy="assassin",zy={hp:6,moveRange:3,attackDamage:3,armorClass:15},Dy={type:"ground",speed:3,canPassThroughWalls:!1,canPassThroughEntities:!0,canStopOnOccupiedTile:!1},Ly={id:Ey,label:Ay,description:Ry,aiRole:Iy,baseStats:zy,movement:Dy},jy="ghost",Fy="Fantome",Ny="Esprit intangible capable de traverser les autres creatures.",By="ghost",$y={hp:8,moveRange:4,attackDamage:3,armorClass:12},Oy={type:"ghost",speed:4,canPassThroughWalls:!0,canPassThroughEntities:!0,canStopOnOccupiedTile:!1},Gy={id:jy,label:Fy,description:Ny,aiRole:By,baseStats:$y,movement:Oy},Uy=["./melee-strike.json","./dash.json","./second-wind.json","./throw-dagger.json"],e1={actions:Uy},Hy="melee-strike",Vy="Frappe basique",Wy="Attaque de melee simple contre une cible a 1 case.",Yy="attack",Xy={actionType:"action",movementCost:0},qy={target:"enemy",range:{min:0,max:1,shape:"single"},maxTargets:1,requiresLos:!0},Qy={perTurn:1,perEncounter:null,resource:null},Ky=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"distance_max",target:"primary",max:1,reason:"Portee de melee uniquement."},{type:"target_alive",target:"primary",reason:"La cible doit avoir des PV restants."}],Zy={bonus:5,critRange:20},Jy={formula:"1d6+3",critRule:"double-dice",damageType:"slashing"},e8=[{type:"damage",target:"primary",formula:"1d6 + modFOR",damageType:"slashing"},{type:"log",message:"Frappe basique inflige 1d6+FOR a la cible."}],t8={priority:"finish_low_hp_target",successLog:"Attaque de melee effectuee.",failureLog:"Cible hors portee ou deja a terre."},n8=["martial","arme","starter"],r8={id:Hy,name:Vy,summary:Wy,category:Yy,actionCost:Xy,targeting:qy,usage:Qy,conditions:Ky,attack:Zy,damage:Jy,effects:e8,aiHints:t8,tags:n8},i8="dash",s8="Course",o8="Transforme l'action en 3 cases de mouvement en plus.",a8="movement",l8={actionType:"action",movementCost:0},u8={target:"self",range:{min:0,max:0,shape:"self"},maxTargets:1,requiresLos:!1},c8={perTurn:1,perEncounter:null,resource:null},h8=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."}],d8=[{type:"modify_path_limit",target:"self",delta:3,duration:"this_turn"},{type:"log",message:"Course: +3 cases de mouvement pour ce tour."}],f8={priority:"close_gap",successLog:"Course utilisee pour approcher.",failureLog:"Deja a portee, course ignoree."},p8=["mobilite","deplacement"],m8={id:i8,name:s8,summary:o8,category:a8,actionCost:l8,targeting:u8,usage:c8,conditions:h8,effects:d8,aiHints:f8,tags:p8},g8="second-wind",y8="Second souffle",x8="Restaure une partie des PV en bonus action.",v8="support",_8={actionType:"bonus",movementCost:0},w8={target:"self",range:{min:0,max:0,shape:"self"},maxTargets:1,requiresLos:!1},S8={perTurn:null,perEncounter:1,resource:null},C8=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"stat_below_percent",who:"self",stat:"hp",percentMax:.75,reason:"Economiser tant que les PV sont hauts."}],k8=[{type:"heal",target:"self",formula:"1d10 + niveau",min:1},{type:"temp_hp",target:"self",amount:2,duration:"end_of_turn"},{type:"log",message:"Second souffle: soigne 1d10 + niveau."}],b8={priority:"survive",successLog:"Second souffle declenche.",failureLog:"PV trop hauts ou tour non joueur."},P8=["soin","defense","survie"],T8={id:g8,name:y8,summary:x8,category:v8,actionCost:_8,targeting:w8,usage:S8,conditions:C8,effects:k8,aiHints:b8,tags:P8},M8="throw-dagger",E8="Lancer de dague",A8="Attaque a distance courte avec une dague a lancer.",R8="attack",I8={actionType:"action",movementCost:0},z8={target:"enemy",range:{min:1,max:4,shape:"single"},maxTargets:1,requiresLos:!0},D8={perTurn:1,perEncounter:null,resource:{name:"dagger",pool:"bandolier",min:1}},L8=[{type:"phase",mustBe:"player",reason:"Tour joueur requis."},{type:"distance_between",target:"primary",min:1,max:4,reason:"Hors de melee mais a portee de lancer."},{type:"resource_at_least",resource:"dagger",pool:"bandolier",value:1,reason:"Besoin d'une dague a lancer."}],j8={bonus:4,critRange:20},F8={formula:"1d4+2",critRule:"double-dice",damageType:"piercing"},N8=[{type:"damage",target:"primary",formula:"1d4 + modDEX",damageType:"piercing"},{type:"resource_spend",resource:"dagger",pool:"bandolier",amount:1},{type:"log",message:"Dague lancee: 1d4+DEX degats perforants."}],B8={priority:"poke_from_range",successLog:"Dague lancee.",failureLog:"Pas de dague ou cible hors portee."},$8=["distance","arme","jet"],O8={id:M8,name:E8,summary:A8,category:R8,actionCost:I8,targeting:z8,usage:D8,conditions:L8,attack:j8,damage:F8,effects:N8,aiHints:B8,tags:$8},mr=12,Bn=8,xt=64,va=mr*xt,Du=Bn*xt,S0=xt,dc=xt*.5,C0=va/2,k0=dc*2,G8=1841961;function Ri(i,e){return i>=0&&i<mr&&e>=0&&e<Bn}function kn(i,e){const n=S0/2,s=dc/2,a=(i-e)*n+C0,l=(i+e)*s+k0;return{x:a,y:l}}function U8(i,e){const n=S0/2,s=dc/2,a=i-C0,l=e-k0,c=a/n,h=l/s,f=(c+h)/2,m=(h-c)/2,g=Math.round(f),x=Math.round(m);return{x:g,y:x}}function H8(i,e,n,s){const a=[];for(let l=-s;l<=s;l++)for(let c=-s;c<=s;c++){const h=e+c,f=n+l;if(!Ri(h,f))continue;Math.sqrt(c*c+l*l)<=s+.01&&a.push({x:h,y:f})}return{id:i,type:"circle",cells:a}}function V8(i,e,n,s,a){const l=[],c=Math.floor(s/2),h=Math.floor(a/2);for(let f=n-h;f<=n+h;f++)for(let m=e-c;m<=e+c;m++)Ri(m,f)&&l.push({x:m,y:f});return{id:i,type:"rectangle",cells:l}}function W8(i,e,n,s,a){const l=[];for(let c=1;c<=s;c++)for(let h=-c;h<=c;h++){let f=e,m=n;switch(a){case"right":f=e+c,m=n+h;break;case"left":f=e-c,m=n+h;break;case"down":f=e+h,m=n+c;break;case"up":f=e+h,m=n-c;break}Ri(f,m)&&l.push({x:f,y:m})}return{id:i,type:"cone",cells:l}}function Pi(i,e=1){const n=[];for(let a=0;a<e;a++)n.push(1+Math.floor(Math.random()*i));const s=n.reduce((a,l)=>a+l,0);return{rolls:n,total:s}}function Y8(i,e="normal",n=20){if(e==="advantage"){const a=Pi(20),l=Pi(20),c=Math.max(a.total,l.total);return{d20:{rolls:[a.total,l.total],total:c},bonus:i,total:c+i,mode:e,isCrit:c>=n}}if(e==="disadvantage"){const a=Pi(20),l=Pi(20),c=Math.min(a.total,l.total);return{d20:{rolls:[a.total,l.total],total:c},bonus:i,total:c+i,mode:e,isCrit:c>=n}}const s=Pi(20);return{d20:s,bonus:i,total:s.total+i,mode:e,isCrit:s.total>=n}}function X8(i){const e=[],s=i.replace(/\s+/g,"").split(/(?=[+-])/);for(const a of s){if(!a)continue;const l=a.startsWith("-")?-1:1,c=a.replace(/^[+-]/,""),h=c.match(/^(\d*)d(\d+)$/i);if(h){const m=h[1]?parseInt(h[1],10):1,g=parseInt(h[2],10);e.push({diceCount:l*m,diceSides:g,modifier:0});continue}const f=parseInt(c,10);Number.isNaN(f)||e.push({diceCount:0,diceSides:0,modifier:l*f})}return e}function q8(i,e){const n=!!(e!=null&&e.isCrit),s=(e==null?void 0:e.critRule)??"double-dice",a=X8(i),l=[];let c=0;for(const m of a)if(m.diceCount!==0&&m.diceSides>0){const g=Math.abs(m.diceCount),x=n&&s==="double-dice"?g*2:g,_=Pi(m.diceSides,x);l.push(m.diceCount<0?{rolls:_.rolls,total:-_.total}:_)}else c+=m.modifier;let f=l.reduce((m,g)=>m+g.total,0)+c;return n&&s==="double-total"&&(f*=2),{dice:l,flatModifier:c,total:f,formula:i,isCrit:n}}function Lu(i,e){return`${i},${e}`}function Q8(i){return i.movementProfile?i.movementProfile:typeof i.moveRange=="number"?{type:"ground",speed:i.moveRange,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1}:null}function K8(i,e,n,s,a,l,c){if(n<0||s<0||n>=mr||s>=Bn||!Ri(n,s))return!1;const h=n===c.x&&s===c.y;return!a.some(m=>m.id!==i.id&&m.hp>0&&m.x===n&&m.y===s)||h&&l?!0:e&&e.canPassThroughEntities?!(h&&e.canStopOnOccupiedTile===!1):!1}function t1(i,e,n,s){const a=Q8(i),l=a&&a.speed>0?Math.min(s.maxDistance,a.speed):s.maxDistance,c={x:i.x,y:i.y};if(c.x===e.x&&c.y===e.y)return[];const h=new Set,f=new Map,m=new Map,g=[],x=Lu(c.x,c.y);h.add(x),f.set(x,null),m.set(x,0),g.push(c);let _=null;const v=[{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}];for(;g.length>0;){const z=g.shift(),j=Lu(z.x,z.y),X=m.get(j)??0;if(!(X>=l))for(const B of v){const $=z.x+B.x,ce=z.y+B.y,he=Lu($,ce);if(h.has(he)||!K8(i,a,$,ce,n,s.allowTargetOccupied??!1,e))continue;h.add(he),f.set(he,j),m.set(he,X+1);const K={x:$,y:ce};if(g.push(K),$===e.x&&ce===e.y){_=he,g.length=0;break}}}let k=_;if(!k){let z=null,j=Number.POSITIVE_INFINITY;for(const X of h){const[B,$]=X.split(",").map(Number),ce=Math.abs(B-e.x)+Math.abs($-e.y),he=m.get(X)??0;he!==0&&(he>l||ce<j&&(j=ce,z=X))}if(!z)return[];k=z}const P=[];let w=k;for(;w;){const[z,j]=w.split(",").map(Number);if(P.push({x:z,y:j}),w===x)break;w=f.get(w)??null}const A=P.reverse(),R=l+1;return A.length>R?A.slice(0,R):A}function Z8(i,e){return e.find(n=>n.hp>0&&n.x===i.x&&n.y===i.y)??null}const J8={"./melee-strike.json":r8,"./dash.json":m8,"./second-wind.json":T8,"./throw-dagger.json":O8},e5={"./brute.json":wy,"./archer.json":My,"./assassin.json":Ly,"./ghost.json":Gy};function t5(){const i=Array.isArray(Jf.types)?Jf.types:[],e=[];for(const n of i){const s=e5[n];s?e.push(s):console.warn("[enemy-types] Type path missing in bundle:",n)}return e.length===0&&console.warn("[enemy-types] No enemy types loaded from index.json"),e}function n5(i,e,n){const{x:s,y:a}=n;return{id:`enemy-${i+1}`,type:"enemy",enemyTypeId:e.id,enemyTypeLabel:e.label,aiRole:e.aiRole,moveRange:e.baseStats.moveRange,attackDamage:e.baseStats.attackDamage,armorClass:e.baseStats.armorClass,movementProfile:e.movement?e.movement:{type:"ground",speed:e.baseStats.moveRange,canPassThroughWalls:!1,canPassThroughEntities:!1,canStopOnOccupiedTile:!1},x:s,y:a,hp:e.baseStats.hp,maxHp:e.baseStats.hp}}function n1(i,e,n){return Math.max(e,Math.min(n,i))}function ju(i,e){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)}function r5(i){const e=Bn,n=mr,s=Math.floor(i/e),a=i%e;return{x:Math.max(0,n-1-s),y:a}}const r1=[{action:"move",label:"Se deplacer jusqu'a 3 cases (Manhattan)",color:"#2ecc71"},{action:"attack",label:"Attaque le joueur a distance 1 (2 degats)",color:"#e74c3c"},{action:"wait",label:"Attend si aucune action viable",color:"#7f8c8d"}],i5=()=>{var Oi,Gi,Js,eo;const i=ke.useRef(null),e=ke.useRef(null),n=ke.useRef(null),s=ke.useRef(null),[a,l]=ke.useState([]),[c,h]=ke.useState({id:"player-1",type:"player",x:0,y:Math.floor(Bn/2),hp:Cn.pvActuels,maxHp:Cn.pvMax}),[f,m]=ke.useState([]),[g,x]=ke.useState([]),[_,v]=ke.useState("player"),[k,P]=ke.useState(1),[w,A]=ke.useState(!1),[R,z]=ke.useState(!1),[j,X]=ke.useState(null),[B,$]=ke.useState([]),[ce,he]=ke.useState(0),[K,oe]=ke.useState(!1),[Pe,be]=ke.useState(3),[Se,ut]=ke.useState([]),[ee,ne]=ke.useState(null),[J,Z]=ke.useState(null),[te,M]=ke.useState("normal"),[N,ge]=ke.useState(null),[ye,we]=ke.useState(null),[Ce,De]=ke.useState([]),[Me,Ae]=ke.useState(!1),[it,on]=ke.useState({usedAction:!1,usedBonus:!1}),[Ve,wt]=ke.useState([]),[We,At]=ke.useState(null),[Hr,an]=ke.useState("none"),[yr,Ot]=ke.useState([]),[Tn,Un]=ke.useState(null),[Hn,xr]=ke.useState(null),[Ii,zi]=ke.useState(null),[Di,Mn]=ke.useState(!1);function Vr(S){if(Di)return"Fallback local : poursuite/attaque basique du joueur";if(Hn===null)return"IA non appele pour l'instant";const F=Hn.find(O=>O.enemyId===S);if(!F)return"Aucune dcision reue pour cet ennemi";if(F.action==="move"){const O=typeof F.targetX=="number"?F.targetX:"?",re=typeof F.targetY=="number"?F.targetY:"?";return`Dplacement vers (${O}, ${re})`}return F.action==="attack"?"Attaque le joueur (distance 1)":"Attend ce tour"}function Wr(){if(!R||B.length===0)return null;const S=ce>=0&&ce<B.length?ce:0;return B[S]??null}function Vn(){B.length!==0&&he(S=>{const F=(S+1)%B.length;return F===0&&P(O=>O+1),F})}function vr(){if(R)return;const S=Cn.caracs.dexterite.modDEX,F=()=>Math.floor(Math.random()*20)+1,O=F(),re=O+S,G=[];G.push({id:c.id,kind:"player",initiative:re});const q=g.map(W=>{const Ie=F();return G.push({id:W.id,kind:"enemy",initiative:Ie}),{...W,initiative:Ie}});X(re),x(q),G.sort((W,se)=>se.initiative-W.initiative),$(G),he(0),z(!0);const Q=G[0];Q&&(Q.kind==="player"?fe(`Initiative: Joueur ${re} (d20=${O}, mod=${S})  le joueur commence.`):fe(`Initiative: Joueur ${re} (d20=${O}, mod=${S})  ${Q.id} commence (initiative ${Q.initiative}).`))}function fe(S){l(F=>[S,...F].slice(0,12))}function Yr(S){De(F=>[S,...F].slice(0,6)),fe(S)}ke.useEffect(()=>{const S=t5();m(S)},[]),ke.useEffect(()=>{K&&!R&&g.length>0&&vr()},[K,R,g.length]),ke.useEffect(()=>{const S=Array.isArray(e1.actions)?e1.actions:[],F=[];for(const O of S){const re=J8[O];re?F.push(re):console.warn("[actions] Action path missing in bundle:",O)}F.length===0&&console.warn("[actions] No actions loaded from index.json"),ut(F),ne(F.length?F[0].id:null)},[]),ke.useEffect(()=>{if(!K||!R)return;const S=Wr();if(S){if(S.kind==="player"){v("player"),on({usedAction:!1,usedBonus:!1}),Ae(!1),ge(null),we(null);return}w||(v("enemies"),Cr(S.id))}},[K,R,B,ce,w]);function Xr(){if(g.length===0)return null;let S=null;for(const F of g){const O=ju(c,F);(S===null||O<S)&&(S=O)}return S}function Ys(S,F,O){if(F.type!=="enemy")return{ok:!1,reason:"La cible selectionnee n'est pas un ennemi."};if(F.hp<=0)return{ok:!1,reason:"La cible est deja a terre."};const re=S.targeting;if(!re||re.target!=="enemy")return{ok:!1,reason:"Cette action ne cible pas un ennemi."};const G=ju(O,F),q=re.range;if(q){if(typeof q.min=="number"&&G<q.min)return{ok:!1,reason:`Cible trop proche pour ${S.name} (distance ${G}, min ${q.min}).`};if(typeof q.max=="number"&&G>q.max)return{ok:!1,reason:`Cible hors portee pour ${S.name} (distance ${G}, max ${q.max}).`}}for(const Q of S.conditions||[]){if(Q.type==="distance_max"&&typeof Q.max=="number"&&G>Q.max)return{ok:!1,reason:Q.reason||`Distance cible > ${Q.max}.`};if(Q.type==="distance_between"){const W=typeof Q.min=="number"?Q.min:typeof(q==null?void 0:q.min)=="number"?q.min:null,se=typeof Q.max=="number"?Q.max:typeof(q==null?void 0:q.max)=="number"?q.max:null;if(W!==null&&G<W)return{ok:!1,reason:Q.reason||`Distance cible < ${W}.`};if(se!==null&&G>se)return{ok:!1,reason:Q.reason||`Distance cible > ${se}.`}}if(Q.type==="target_alive"&&F.hp<=0)return{ok:!1,reason:Q.reason||"La cible doit avoir des PV restants."}}return{ok:!0}}function _r(S){var q,Q;const F=[],O=[];_!=="player"&&F.push("Action bloquee pendant le tour des ennemis.");const re=(q=S.targeting)==null?void 0:q.target,G=(Q=S.targeting)==null?void 0:Q.range;if(re==="enemy"){const W=Xr();W===null?F.push("Aucune cible ennemie presente."):(O.push(`Distance mini ennemie: ${W}`),typeof(G==null?void 0:G.min)=="number"&&W<G.min&&F.push(`Trop proche (< ${G.min}).`),typeof(G==null?void 0:G.max)=="number"&&W>G.max&&F.push(`Hors portee (> ${G.max}).`))}for(const W of S.conditions||[]){if(W.type==="phase"&&W.mustBe&&W.mustBe!==_&&F.push(W.reason||"Phase incorrecte."),W.type==="distance_max"&&re==="enemy"){const se=Xr();se!==null&&typeof W.max=="number"&&se>W.max&&F.push(W.reason||`Distance > ${W.max}.`)}if(W.type==="distance_between"&&re==="enemy"){const se=Xr();se!==null&&(typeof W.min=="number"&&se<W.min&&F.push(W.reason||`Distance < ${W.min}.`),typeof W.max=="number"&&se>W.max&&F.push(W.reason||`Distance > ${W.max}.`))}}return{enabled:F.length===0,reasons:F,details:O}}function qr(S){var O;const F=[];if(S.perTurn&&F.push(`${S.perTurn}/tour`),S.perEncounter&&F.push(`${S.perEncounter}/rencontre`),(O=S.resource)!=null&&O.name){const re=S.resource.pool?` (${S.resource.pool})`:"";F.push(`Ressource: ${S.resource.name}${re}`)}return F.length?F.join(" | "):"Libre"}function Qr(S){const{range:F,target:O}=S;return F.shape==="self"?"Portee: soi-meme":F.min===F.max?`Portee: ${F.max} (${O})`:`Portee: ${F.min}-${F.max} (${O})`}function Li(S){switch(S.type){case"phase":return`Phase requise: ${S.mustBe??"?"}`;case"distance_max":return`Distance <= ${S.max??"?"}`;case"distance_between":return`Distance ${S.min??0}-${S.max??"?"}`;case"stat_below_percent":return`Stat ${S.stat} < ${Math.round((S.percentMax??0)*100)}%`;case"target_alive":return"Cible doit etre vivante";case"resource_at_least":return`Ressource ${S.resource??"?"} >= ${S.value??"?"}`;default:return S.reason||S.type}}function ji(S){switch(S.type){case"damage":return`Degats ${S.damageType??""} (${S.formula??"?"})`;case"heal":return`Soin (${S.formula??"?"})`;case"status":return`Etat: ${S.status??"?"} (${S.duration??"?"} tour)`;case"temp_hp":return`PV temporaires: ${S.amount??"?"}`;case"move":return`Deplacement +${S.maxSteps??"?"} (${S.direction??"direction libre"})`;case"resource_spend":return`Consomme ${S.amount??1} ${S.resource??"ressource"}`;case"modify_path_limit":return`+${S.delta??"?"} cases de mouvement ce tour`;default:return S.type}}function Wn(S){var re;const F=(re=S.targeting)==null?void 0:re.range;if(!F)return;const O=`preview-${S.id}`;if(F.shape==="rectangle"){Ot([{id:O,kind:"rectangle",width:Math.max(1,F.max),height:Math.max(1,F.max)}]),fe(`Previsualisation rectangle pour ${S.name}.`);return}if(F.shape==="cone"){Ot([{id:O,kind:"cone",range:Math.max(1,F.max),direction:"right"}]),fe(`Previsualisation cone (direction droite) pour ${S.name}.`);return}Ot([{id:O,kind:"circle",radius:Math.max(1,F.max)}]),fe(`Previsualisation de portee pour ${S.name}.`)}function Yn(S){var Q,W,se;const F=(Q=S.actionCost)==null?void 0:Q.actionType,O=F==="action",re=F==="bonus";if(O&&it.usedAction){fe(`Action ${S.name} refusee: action principale deja utilisee ce tour.`);return}if(re&&it.usedBonus){fe(`Action ${S.name} refusee: action bonus deja utilisee ce tour.`);return}const G=_r(S);if(!G.enabled){fe(`Action ${S.name} bloque: ${G.reasons.join(" | ")}`);return}Z(S.id),ge(null),we(null),Ae(!1),on(Ie=>({usedAction:Ie.usedAction||O,usedBonus:Ie.usedBonus||re}));const q=((W=S.aiHints)==null?void 0:W.successLog)||"Action validee. Prets pour les jets.";fe(`${S.name}: ${q}`),((se=S.targeting)==null?void 0:se.target)==="enemy"?(an("selecting"),At(null),fe("Selection de cible: cliquez sur un ennemi sur la grille ou dans la liste.")):(an("none"),At(null))}function Xn(){return J&&Se.find(S=>S.id===J)||null}function Xs(S){return S?S.attack||S.damage||S.skillCheck?!0:(S.effects||[]).some(O=>typeof O.formula=="string"&&O.formula.trim().length>0):!1}function Fi(){var Q,W;const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.attack){fe("Cette action ne requiert pas de jet de touche.");return}if(Me){fe("Jet de touche deja effectue pour cette action ce tour. Validez une nouvelle action ou terminez le tour.");return}let F=null;if(((Q=S.targeting)==null?void 0:Q.target)==="enemy"){if(!We){fe("Aucune cible ennemie selectionnee pour cette action. Selectionnez une cible avant le jet.");return}const se=g.find(Ie=>Ie.id===We);if(!se){fe("Cible ennemie introuvable ou deja vaincue.");return}F=typeof se.armorClass=="number"?se.armorClass:null}const O=Y8(S.attack.bonus,te,S.attack.critRange??20);ge(O),Ae(!0),we(null);const re=O.mode==="normal"?`${O.d20.total}`:`${O.d20.rolls.join(" / ")} -> ${O.d20.total}`,G=((W=S.targeting)==null?void 0:W.target)==="enemy"&&We?` sur ${We}`:"",q=`Jet de touche (${S.name})${G} : ${re} + ${O.bonus} = ${O.total}`;if(F!==null){const Ie=O.total>=F||O.isCrit?`TOUCHE (CA ${F})${O.isCrit?" (critique!)":""}`:`RATE (CA ${F})`;Yr(`${q} -> ${Ie}`)}else Yr(`${q}${O.isCrit?" (critique!)":""}`)}function Kr(){var se,Ie,ve;const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.damage){fe("Cette action ne requiert pas de jet de degats.");return}if(S.attack&&!N){fe("Un jet de touche est requis avant les degats pour cette action.");return}let F=null,O=null;if(((se=S.targeting)==null?void 0:se.target)==="enemy"){if(!We){fe("Aucune cible ennemie selectionnee pour cette action. Selectionnez une cible avant le jet de degats.");return}if(F=g.findIndex(je=>je.id===We),F===-1){fe("Cible ennemie introuvable ou deja vaincue.");return}const _e=g[F];O=typeof _e.armorClass=="number"?_e.armorClass:null}const re=!!(N!=null&&N.isCrit);if(O!==null&&S.attack&&N&&!(N.total>=O||N.isCrit)){const Be=((Ie=S.targeting)==null?void 0:Ie.target)==="enemy"&&We?` sur ${We}`:"";fe(`L'attaque (${S.name})${Be} a manque la cible (CA ${O}). Pas de degats.`);return}const G=q8(S.damage.formula,{isCrit:re,critRule:S.damage.critRule});we(G);const q=G.dice.map(_e=>_e.rolls.join("+")).join(" | "),Q=G.total,W=((ve=S.targeting)==null?void 0:ve.target)==="enemy"&&We?` sur ${We}`:"";Yr(`Degats (${S.name})${W} : ${q||"0"} + ${G.flatModifier} = ${Q}${re?" (critique)":""}`),typeof F=="number"&&F>=0&&x(_e=>{if(F===null||F<0||F>=_e.length)return _e;const je=[..._e],Be={...je[F]};return Be.hp=Math.max(0,Be.hp-Q),je[F]=Be,je})}function qs(){const S=Xn();if(!S){fe("Aucune action validee pour lancer un jet.");return}if(!S.attack){fe("Mode auto: pas de jet de touche necessaire."),S.damage&&Kr();return}Fi(),setTimeout(()=>{S.damage&&Kr()},50)}function Ni(S){if(_!=="player")return;const F=i.current;if(!F)return;const O=F.querySelector("canvas");if(!O)return;const re=O.getBoundingClientRect(),G=S.clientX-re.left,q=S.clientY-re.top,Q=G/re.width*va,W=q/re.height*Du,{x:se,y:Ie}=U8(Q,W),ve=se,_e=Ie;if(!Ri(ve,_e))return;if(Hr==="selecting"){const Be=[c,...g],Ue=Z8({x:ve,y:_e},Be);if(!Ue||Ue.type!=="enemy"){fe(`Pas d'ennemi sur (${ve}, ${_e}).`);return}const $e=Xn();if(!$e){fe("Aucune action validee pour selectionner une cible.");return}const ft=Ys($e,Ue,c);if(!ft.ok){fe(ft.reason||"Cette cible n'est pas valide pour cette action.");return}At(Ue.id),an("none"),fe(`Cible selectionnee: ${Ue.id}.`);return}const je=(Be,Ue)=>g.some($e=>$e.hp>0&&$e.x===Be&&$e.y===Ue);if(je(ve,_e)){fe(`Case (${ve}, ${_e}) occupee par un ennemi : impossible de s'y deplacer.`);return}wt(Be=>{const $e=[...Be];if($e.length>=5)return fe("Limite de 5 cases atteinte pour ce tour."),$e;let ft=$e.length>0?$e[$e.length-1]:{x:c.x,y:c.y};if(ft.x===ve&&ft.y===_e)return $e;let st=ft.x,pt=ft.y,kr=5-$e.length;for(;st!==ve&&kr>0;){const br=Math.sign(ve-st),xn=st+br;if(je(xn,pt)){fe(`Trajectoire bloquee par un ennemi en (${xn}, ${pt}).`);break}st=xn,$e.push({x:st,y:pt}),kr--}for(;pt!==_e&&kr>0;){const br=Math.sign(_e-pt),xn=pt+br;if(je(st,xn)){fe(`Trajectoire bloquee par un ennemi en (${st}, ${xn}).`);break}pt=xn,$e.push({x:st,y:pt}),kr--}return fe(kr===0&&(st!==ve||pt!==_e)?"Trajectoire tronquee: limite de 5 cases atteinte.":`Trajectoire: ajout de la case (${ve}, ${_e}).`),$e})}function Qs(){if(_!=="player"||Ve.length===0)return;const S=Ve[Ve.length-1];h(F=>({...F,x:S.x,y:S.y})),fe(`Deplacement valide vers (${S.x}, ${S.y}) via ${Ve.length} etape(s).`),wt([])}function wr(){_==="player"&&(wt([]),fe("Trajectoire reinitialisee."))}function Bi(){const S={x:c.x,y:c.y,hp:c.hp,maxHp:c.maxHp},F=g.map(O=>({id:O.id,x:O.x,y:O.y,hp:O.hp,maxHp:O.maxHp,type:O.enemyTypeId,aiRole:O.aiRole??null,moveRange:O.moveRange??null,attackDamage:O.attackDamage??null}));return{round:k,phase:_,grid:{cols:mr,rows:Bn},player:S,enemies:F}}function Sr(S){const F=new Set(g.map(G=>G.id)),O=new Set(["move","attack","wait"]),re=[];for(const G of S){if(!G||typeof G!="object")continue;if(!F.has(G.enemyId)){console.warn("[enemy-ai] Decision ignoree (enemyId inconnu):",G);continue}const q=(G.action||"wait").toLowerCase();if(!O.has(q)){console.warn("[enemy-ai] Decision ignoree (action invalide):",G);continue}if(q==="move"&&(typeof G.targetX!="number"||typeof G.targetY!="number")){console.warn("[enemy-ai] Decision move ignoree (cible manquante):",G);continue}re.push({...G,action:q})}return re}async function Ta(S){console.log("[enemy-ai] Envoi tat au backend:",S),Un(S),zi(null),Mn(!1);try{const F=await fetch("/api/enemy-ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!F.ok)throw new Error(`HTTP ${F.status}`);const O=await F.json();if(!O.decisions||!Array.isArray(O.decisions))throw new Error("Rponse backend invalide (decisions manquant).");const re=Sr(O.decisions);return console.log("[enemy-ai] Dcisions reues (filtres):",re),xr(re),re.length===0&&Mn(!0),re}catch(F){return console.warn("[enemy-ai] Erreur lors de la requete IA:",F),zi(F instanceof Error?F.message:String(F??"unknown")),xr(null),Mn(!0),console.warn("[enemy-ai] Dcisions manquantes, utilisation du fallback local."),[]}}async function Cr(S){A(!0),wt([]),Ot([]);const F=Bi(),re=(await Ta(F)).filter(G=>G.enemyId===S);re.length===0?(Mn(!0),xr([]),x(G=>{const q=G.map(_e=>({..._e}));let Q={...c};const W=q.find(_e=>_e.id===S);if(!W)return G;const se=typeof W.moveRange=="number"?W.moveRange:3,Ie=[Q,...q],ve=t1(W,{x:Q.x,y:Q.y},Ie,{maxDistance:se,allowTargetOccupied:!0});if(W.plannedPath=ve,ve.length===0)fe(`${W.id} ne trouve pas de chemin valide vers le joueur (fallback, reste en place).`);else{const _e=ve[ve.length-1];if(W.x=_e.x,W.y=_e.y,Math.abs(W.x-Q.x)+Math.abs(W.y-Q.y)<=1){const Be=typeof W.attackDamage=="number"?W.attackDamage:2;Q={...Q,hp:Math.max(0,Q.hp-Be)},fe(`${W.id} suit un chemin et attaque le joueur pour ${Be} degats (fallback).`)}else fe(`${W.id} suit un chemin vers (${_e.x}, ${_e.y}) (fallback).`)}return h(Q),q})):(Mn(!1),xr(re),x(G=>{const q=G.map(W=>({...W}));let Q={...c};for(const W of re){const se=q.find(ve=>ve.id===W.enemyId);if(!se)continue;const Ie=(W.action||"wait").toLowerCase();if(Ie==="wait"){fe(`${se.id} attend.`);continue}if(Ie==="move"){let ve=W.targetX,_e=W.targetY;const je=W;if((typeof ve!="number"||typeof _e!="number")&&je.target&&typeof je.target.x=="number"&&typeof je.target.y=="number"&&(ve=je.target.x,_e=je.target.y),typeof ve!="number"||typeof _e!="number"){fe(`${se.id}: decision MOVE ignoree (pas de cible valide).`);continue}const Be=typeof se.moveRange=="number"?se.moveRange:3,Ue=n1(ve,0,mr-1),$e=n1(_e,0,Bn-1),ft=[Q,...q],st=t1(se,{x:Ue,y:$e},ft,{maxDistance:Be,allowTargetOccupied:!0});if(se.plannedPath=st,st.length===0){fe(`${se.id}: aucun trajet valide vers (${Ue}, ${$e}), reste en place.`);continue}const pt=st[st.length-1];se.x=pt.x,se.y=pt.y,fe(`${se.id} suit un chemin vers (${pt.x}, ${pt.y}).`);continue}if(Ie==="attack")if(ju(se,Q)<=1){const _e=typeof se.attackDamage=="number"?se.attackDamage:2;Q={...Q,hp:Math.max(0,Q.hp-_e)},fe(`${se.id} attaque le joueur pour ${_e} degats.`)}else fe(`${se.id} voulait attaquer mais est trop loin (ignore).`)}return h(Q),q})),A(!1),Vn()}function Zr(){const S=Wr();!S||S.kind!=="player"||(fe(`Fin du tour joueur (round ${k}).`),Vn())}function Jr(){Ot([{id:"demo-circle",kind:"circle",radius:2}]),fe("Zone d'effet: cercle (rayon 2) autour du joueur.")}function $i(){Ot([{id:"demo-rect",kind:"rectangle",width:3,height:3}]),fe("Zone d'effet: rectangle 3x3 centre sur le joueur.")}function Ma(){Ot([{id:"demo-cone",kind:"cone",range:4,direction:"right"}]),fe("Zone d'effet: cone vers la droite (portee 4).")}function Ea(){Ot([]),fe("Zones d'effet effacees.")}ke.useEffect(()=>{if(!K||!i.current||e.current)return;const S=new r0;e.current=S;let F=!1,O=null,re=!1;return(async()=>{if(await S.init({width:va,height:Du,background:G8,antialias:!0}),re=!0,F)return;const q=i.current;if(!q)return;q.appendChild(S.canvas);const Q=new mn;S.stage.addChild(Q);const W=new Vs;Q.addChild(W),(()=>{W.clear();for(let je=0;je<Bn;je++)for(let Be=0;Be<mr;Be++){if(!Ri(Be,je))continue;const Ue=kn(Be,je),$e=xt,ft=xt*.5,st=[Ue.x,Ue.y-ft/2,Ue.x+$e/2,Ue.y,Ue.x,Ue.y+ft/2,Ue.x-$e/2,Ue.y],pt=(Be+je)%2===0;W.poly(st).fill({color:pt?1381666:1908016,alpha:1})}})();const Ie=new Vs;Q.addChild(Ie),s.current=Ie;const ve=new mn;Q.addChild(ve),n.current=ve;const _e=()=>{const je=S.canvas,Be=je.parentElement;if(!Be)return;const Ue=Math.min(Be.clientWidth/va,Be.clientHeight/Du);je.style.transformOrigin="top left",je.style.transform=`scale(${Ue})`};O=_e,_e(),window.addEventListener("resize",_e)})(),()=>{F=!0,O&&window.removeEventListener("resize",O),re&&e.current&&e.current.destroy(!0),e.current=null,n.current=null,s.current=null}},[K]),ke.useEffect(()=>{const S=n.current;if(!S)return;S.removeChildren();const F=[c,...g];for(const O of F){const re=new mn,G=Zf(O.type==="player"?"player":"enemy"),q=Ge.from(G),Q=new Ei(q);Q.anchor.set(.5),Q.width=xt*.9,Q.height=xt*.9,re.addChild(Q);const W=kn(O.x,O.y);re.x=W.x+xt*.05,re.y=W.y-xt*.1,S.addChild(re)}},[c,g]),ke.useEffect(()=>{const S=s.current;if(!S)return;S.clear();const F=yr.map(G=>{switch(G.kind){case"circle":return H8(G.id,c.x,c.y,G.radius??1);case"rectangle":return V8(G.id,c.x,c.y,G.width??1,G.height??1);case"cone":return W8(G.id,c.x,c.y,G.range??1,G.direction??"right");default:return{id:G.id,type:"circle",cells:[]}}});for(const G of F)for(const q of G.cells){const Q=kn(q.x,q.y),W=xt,se=xt*.5,Ie=[Q.x,Q.y-se/2,Q.x+W/2,Q.y,Q.x,Q.y+se/2,Q.x-W/2,Q.y],ve=G.type==="circle"?3447003:G.type==="rectangle"?3066993:15158332;S.poly(Ie).fill({color:ve,alpha:.45})}const O=[c,...g];for(const G of O){const q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y],Ie=G.type==="player"?3066993:15158332;S.poly(se).fill({color:Ie,alpha:.2})}if(We){const G=g.find(q=>q.id===We);if(G){const q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y];S.poly(se).fill({color:3447003,alpha:.6})}}if(Ve.length>0){const G=Ve[Ve.length-1],q=kn(G.x,G.y),Q=xt,W=xt*.5,se=[q.x,q.y-W/2,q.x+Q/2,q.y,q.x,q.y+W/2,q.x-Q/2,q.y];S.poly(se).fill({color:15844367,alpha:.2})}for(const G of g){if(!G.plannedPath||G.plannedPath.length===0)continue;const q=G.plannedPath,Q=q[0],W=kn(Q.x,Q.y);S.setStrokeStyle({width:3,color:15158332,alpha:.9}),S.moveTo(W.x,W.y);for(const se of q.slice(1)){const Ie=kn(se.x,se.y);S.lineTo(Ie.x,Ie.y)}S.stroke()}if(Ve.length===0)return;S.setStrokeStyle({width:6,color:15844367,alpha:1});const re=kn(c.x,c.y);S.moveTo(re.x,re.y);for(const G of Ve){const q=kn(G.x,G.y);S.lineTo(q.x,q.y)}S.stroke()},[c,g,Ve,yr,We]);const Ke=Se.find(S=>S.id===ee)||Se[0]||null,Ze=Ke?_r(Ke):null,Le=Xn(),Ks=Xs(Le),Xt=_==="player",En=Wr(),Zs=B;return K?D.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"16px",height:"100vh",background:"#0b0b12",color:"#f5f5f5",fontFamily:"system-ui, sans-serif",padding:"16px",boxSizing:"border-box"},children:[D.jsxs("div",{style:{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"},children:[D.jsxs("div",{style:{marginBottom:8,padding:"6px 10px",background:"#111322",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:4,maxWidth:"100%"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[D.jsxs("span",{style:{fontSize:12,color:"#b0b8c4"},children:["Ordre d'initiative (round ",k,")"]}),En&&D.jsxs("span",{style:{fontSize:11,color:"#f1c40f"},children:["Tour actuel :"," ",En.kind==="player"?"Joueur":En.id]})]}),D.jsx("div",{style:{display:"flex",gap:8,alignItems:"center",overflowX:"auto",paddingBottom:2},children:Zs.map(S=>{const F=En&&S.id===En.id&&S.kind===En.kind,O=S.kind==="player",re=Zf(O?"player":"enemy"),G=O?{svg:re,label:"PJ"}:{svg:re,label:S.id};return D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:4,borderRadius:6,border:F?"2px solid #f1c40f":"1px solid #333",background:F?"#1b1b30":"#101020",minWidth:48},children:[D.jsx("img",{src:G.svg,alt:G.label,style:{width:32,height:32,objectFit:"contain",filter:O?"none":"grayscale(0.2)"}}),D.jsx("span",{style:{fontSize:10,marginTop:2,color:"#d0d6e0",whiteSpace:"nowrap"},children:G.label}),D.jsxs("span",{style:{fontSize:9,color:"#9aa0b5"},children:["Init ",S.initiative]})]},`${S.kind}-${S.id}`)})})]}),D.jsx("h1",{style:{marginBottom:8},children:"Mini Donjon (test-GAME)"}),D.jsx("p",{style:{marginBottom:8},children:"Tour par tour simple. Cliquez sur la grille pour definir une trajectoire (max 5 cases), validez le dplacement, puis terminez le tour pour laisser l'IA des ennemis jouer."}),D.jsx("div",{ref:i,onClick:Ni,style:{flex:"1 1 auto",border:"1px solid #333",overflow:"hidden",maxHeight:"min(80vh, 640px)",maxWidth:"min(100%, 1024px)"}}),D.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:Qs,style:{padding:"4px 8px",background:Xt&&Ve.length?"#2ecc71":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt&&Ve.length?"pointer":"default"},disabled:!Xt||Ve.length===0,children:"Valider le deplacement"}),D.jsx("button",{type:"button",onClick:wr,style:{padding:"4px 8px",background:Xt?"#e67e22":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt?"pointer":"default"},disabled:!Xt,children:"Reinitialiser trajet"}),D.jsx("button",{type:"button",onClick:Zr,style:{padding:"4px 8px",background:Xt?"#9b59b6":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Xt?"pointer":"default"},disabled:!Xt||w,children:"Fin du tour joueur"}),!Xt&&D.jsx("span",{style:{fontSize:12,alignSelf:"center"},children:"Tour des ennemis en cours..."})]})]}),D.jsxs("div",{style:{width:"360px",display:"flex",flexDirection:"column",gap:"12px"},children:[D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333"},children:[D.jsx("h2",{style:{margin:"0 0 8px"},children:"Etat du combat"}),D.jsxs("div",{children:[D.jsx("strong",{children:"Round :"})," ",k," |"," ",D.jsx("strong",{children:"Phase :"})," ",_==="player"?"Joueur":"Ennemis"]}),D.jsxs("div",{style:{fontSize:12,marginTop:4},children:[D.jsx("strong",{children:"Initiative PJ :"})," ",j??"en cours..."," "]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Nom :"})," ",Cn.nom.nomcomplet]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Niveau :"})," ",Cn.niveauGlobal," |"," ",D.jsx("strong",{children:"Classe :"})," ",Cn.classe[1].classeId]}),D.jsxs("div",{children:[D.jsx("strong",{children:"PV :"})," ",c.hp," / ",c.maxHp]}),D.jsxs("div",{children:[D.jsx("strong",{children:"CA :"})," ",Cn.CA]}),D.jsxs("div",{style:{marginTop:8},children:[D.jsx("strong",{children:"Caracs :"})," ","FOR ",Cn.caracs.force.FOR," | DEX"," ",Cn.caracs.dexterite.DEX," | CON"," ",Cn.caracs.constitution.CON]}),D.jsxs("div",{style:{marginTop:8,fontSize:12},children:[D.jsx("strong",{children:"Trajectoire :"})," ",Ve.length===0?"aucune":`(${c.x}, ${c.y}) -> `+Ve.map(S=>`(${S.x}, ${S.y})`).join(" -> ")]}),D.jsxs("div",{style:{marginTop:8,fontSize:11,opacity:.85},children:[D.jsx("strong",{children:"IA ennemis (debug) :"}),D.jsxs("div",{children:["Dernier appel :"," ",Tn?`round ${Tn.round}, phase ${Tn.phase}`:"aucun"]}),D.jsxs("div",{children:["Dcisions reues :"," ",Hn===null?"n/a":`${Hn.length} (fallback: ${Di?"oui":"non"})`]}),Ii&&D.jsxs("div",{children:["Erreur : ",Ii]})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#151524",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Ennemis"}),D.jsx("p",{style:{margin:0,fontSize:12,opacity:.85},children:"Chaque ennemi est une entit propre. Capacits IA : dplacement, attaque au contact, attente si aucune option."}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,maxHeight:"180px",overflowY:"auto",paddingRight:4},children:g.map(S=>{var F;return D.jsxs("div",{style:{background:"#0f0f19",border:"1px solid #2a2a3a",borderRadius:8,padding:"8px 10px",display:"flex",flexDirection:"column",gap:6},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[D.jsx("strong",{style:{color:"#f5f5f5"},children:S.id}),D.jsxs("span",{style:{fontSize:12,color:"#b0b8c4"},children:["PV ",S.hp," / ",S.maxHp]})]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Position : (",S.x,", ",S.y,")"]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Initiative :"," ",typeof S.initiative=="number"?S.initiative:"non definie"]}),D.jsxs("div",{style:{fontSize:12,color:"#b0b8c4"},children:["Type : ",S.enemyTypeLabel||S.enemyTypeId||"inconnu"," ",S.aiRole?`(role: ${S.aiRole})`:""]}),D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:r1.map(O=>D.jsx("span",{style:{background:O.color,color:"#0b0b12",borderRadius:4,padding:"2px 6px",fontSize:11,fontWeight:700},children:O.action.toUpperCase()},`${S.id}-${O.action}`))}),D.jsxs("div",{style:{fontSize:12,color:"#d0d6e0"},children:["Ce qu'il peut faire :"," ",r1.map(O=>O.label).join(" | ")]}),Le&&((F=Le.targeting)==null?void 0:F.target)==="enemy"&&(()=>{const O=Ys(Le,S,c),re=O.ok,G=We===S.id;return D.jsx("button",{type:"button",onClick:()=>{if(!re){fe(O.reason||`Cible ${S.id} invalide pour ${Le.name}.`);return}At(S.id),an("none"),fe(`Cible selectionnee: ${S.id}.`)},disabled:!re,style:{marginTop:6,alignSelf:"flex-start",padding:"4px 8px",fontSize:11,borderRadius:4,border:"none",cursor:re?"pointer":"default",background:re?"#3498db":"#555",color:"#fff",opacity:G?1:.9},children:G?"Cible actuelle":"Cibler avec l'action validee"})})(),D.jsxs("div",{style:{fontSize:12,color:"#9cb2ff"},children:["Dernire dcision IA : ",Vr(S.id)]})]},S.id)})})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Actions detaillees"}),D.jsxs("p",{style:{margin:0,fontSize:12,opacity:.85},children:["Source: ",D.jsx("code",{children:"action-game/actions/index.json"}),". Liste chargee et verifiee localement (phase, distance)."]}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:"180px",overflowY:"auto",paddingRight:4},children:[Se.map(S=>{const F=_r(S),O=(Ke==null?void 0:Ke.id)===S.id,re=S.actionCost.actionType==="action"?"#8e44ad":S.actionCost.actionType==="bonus"?"#27ae60":S.actionCost.actionType==="reaction"?"#e67e22":"#2980b9",G=O?"#6c5ce7":"#2a2a3a";return D.jsxs("button",{type:"button",onClick:()=>ne(S.id),style:{textAlign:"left",background:O?"#1e1e2f":"#0f0f19",color:"#f5f5f5",border:`1px solid ${G}`,borderRadius:6,padding:"8px 10px",cursor:"pointer"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,marginBottom:4,alignItems:"center"},children:[D.jsx("span",{style:{fontWeight:600},children:S.name}),D.jsx("span",{style:{fontSize:11,padding:"2px 6px",borderRadius:4,background:re,color:"#fff"},children:S.actionCost.actionType})]}),D.jsx("div",{style:{fontSize:12,opacity:.9},children:S.summary||S.category}),D.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4,fontSize:11,alignItems:"center"},children:[D.jsx("span",{style:{color:F.enabled?"#2ecc71":"#e74c3c"},children:F.enabled?"Disponible":F.reasons[0]||"Bloquee"}),D.jsx("span",{style:{color:"#9aa0b5"},children:Qr(S.targeting)}),D.jsx("span",{style:{color:"#9aa0b5"},children:qr(S.usage)})]})]},S.id)}),Se.length===0&&D.jsx("div",{style:{fontSize:12,opacity:.8},children:"Aucune action chargee pour le moment."})]}),Ke&&D.jsxs("div",{style:{borderTop:"1px solid #2a2a3a",paddingTop:8,display:"flex",flexDirection:"column",gap:6},children:[D.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",fontSize:11},children:[D.jsx("span",{style:{background:"#2d2d40",color:"#d0d4f7",padding:"2px 6px",borderRadius:4},children:Ke.category}),(Oi=Ke.tags)==null?void 0:Oi.slice(0,4).map(S=>D.jsx("span",{style:{background:"#1f2a38",color:"#9bb0d6",padding:"2px 6px",borderRadius:4},children:S},S))]}),D.jsx("div",{style:{fontSize:12},children:Ke.summary||"Pas de resume."}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Cout:"})," ",Ke.actionCost.actionType," ","| Mouvement ",Ke.actionCost.movementCost]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Portee:"})," ",Qr(Ke.targeting)]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Usage:"})," ",qr(Ke.usage)]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Conditions:"}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginTop:4},children:[Ke.conditions.length===0&&D.jsx("span",{style:{color:"#9aa0b5"},children:"Aucune condition."}),Ke.conditions.map((S,F)=>D.jsxs("div",{style:{color:"#cfd3ec"},children:[Li(S),S.reason?`  ${S.reason}`:""]},`${S.type}-${F}`)),Ze&&D.jsxs("div",{style:{color:Ze.enabled?"#2ecc71":"#e74c3c"},children:["Etat:"," ",Ze.enabled?"OK pour ce tour":Ze.reasons.join(" | ")||"Bloque",Ze.details.length>0&&D.jsx("div",{style:{color:"#9aa0b5",marginTop:2},children:Ze.details.join(" / ")})]})]})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Effets:"}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,marginTop:4},children:Ke.effects.map((S,F)=>D.jsx("div",{style:{color:"#cfd3ec"},children:ji(S)},`${S.type}-${F}`))})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Hints IA:"})," ",((Gi=Ke.aiHints)==null?void 0:Gi.priority)||"n/a",D.jsxs("div",{style:{color:"#9aa0b5"},children:["Success: ",((Js=Ke.aiHints)==null?void 0:Js.successLog)||"n/a"]}),D.jsxs("div",{style:{color:"#9aa0b5"},children:["Failure: ",((eo=Ke.aiHints)==null?void 0:eo.failureLog)||"n/a"]})]}),D.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:()=>Wn(Ke),style:{padding:"4px 8px",background:"#2980b9",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Previsualiser"}),D.jsx("button",{type:"button",onClick:()=>Yn(Ke),disabled:!(Ze!=null&&Ze.enabled),style:{padding:"4px 8px",background:Ze!=null&&Ze.enabled?"#2ecc71":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Ze!=null&&Ze.enabled?"pointer":"default",fontSize:12},children:"Valider l'action"})]})]})]})]}),Ks&&D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Jets de des"}),D.jsx("p",{style:{margin:0,fontSize:12,opacity:.85},children:"Choisir une action, la valider, puis lancer le jet de touche et/ou de degats. Mode auto: enchaine touche + degats."}),D.jsxs("div",{style:{fontSize:12},children:["Action validee :"," ",Le?`${Le.name} (${Le.id})`:"aucune (valider une action d'abord)"]}),D.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["normal","advantage","disadvantage"].map(S=>D.jsx("button",{type:"button",onClick:()=>M(S),style:{padding:"4px 8px",background:te===S?"#8e44ad":"#2c2c3a",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:S},S))}),D.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[D.jsx("button",{type:"button",onClick:Fi,disabled:!(Le!=null&&Le.attack),style:{padding:"4px 8px",background:Le!=null&&Le.attack?"#2980b9":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Le!=null&&Le.attack?"pointer":"default",fontSize:12},children:"Lancer jet de touche"}),D.jsx("button",{type:"button",onClick:Kr,disabled:!(Le!=null&&Le.damage),style:{padding:"4px 8px",background:Le!=null&&Le.damage?"#27ae60":"#555",color:"#fff",border:"none",borderRadius:4,cursor:Le!=null&&Le.damage?"pointer":"default",fontSize:12},children:"Lancer degats"}),D.jsx("button",{type:"button",onClick:qs,style:{padding:"4px 8px",background:"#9b59b6",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Mode auto (touche + degats)"})]}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[D.jsxs("div",{style:{background:"#101020",borderRadius:6,padding:8,border:"1px solid #26263a"},children:[D.jsx("div",{style:{fontWeight:600,marginBottom:4,fontSize:12},children:"Jet de touche"}),N?D.jsxs("div",{style:{fontSize:12,lineHeight:1.4},children:["d20: ",N.d20.rolls.join(" / "),"  ",N.d20.total," ","| bonus ",N.bonus," | total ",N.total," ",N.isCrit?"(critique)":""]}):D.jsx("div",{style:{fontSize:12,opacity:.7},children:"Pas encore lance."})]}),D.jsxs("div",{style:{background:"#101020",borderRadius:6,padding:8,border:"1px solid #26263a"},children:[D.jsx("div",{style:{fontWeight:600,marginBottom:4,fontSize:12},children:"Jet de degats"}),ye?D.jsxs("div",{style:{fontSize:12,lineHeight:1.4},children:["Des:"," ",ye.dice.length?ye.dice.map(S=>S.rolls.join("+")).join(" | "):""," ","| mod ",ye.flatModifier," | total ",ye.total," ",ye.isCrit?"(critique)":""]}):D.jsx("div",{style:{fontSize:12,opacity:.7},children:"Pas encore lance."})]})]}),D.jsxs("div",{style:{fontSize:12},children:[D.jsx("strong",{children:"Logs des jets:"}),D.jsxs("div",{style:{marginTop:4,display:"flex",flexDirection:"column",gap:2},children:[Ce.map((S,F)=>D.jsxs("div",{style:{color:"#dfe6ff"},children:["- ",S]},F)),Ce.length===0&&D.jsx("div",{style:{color:"#9aa0b5"},children:"Aucun jet enregistre."})]})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:"0 0 4px"},children:"Zones d'effet (demo)"}),D.jsxs("p",{style:{margin:0,fontSize:12},children:["Ces boutons utilisent les helpers de ",D.jsx("code",{children:"boardEffects.ts"})," ","pour dessiner des zones en coordonnees de grille autour du joueur."]}),D.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[D.jsx("button",{type:"button",onClick:Jr,style:{padding:"4px 8px",background:"#2980b9",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Cercle R=2"}),D.jsx("button",{type:"button",onClick:$i,style:{padding:"4px 8px",background:"#27ae60",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Rectangle 3x3"}),D.jsx("button",{type:"button",onClick:Ma,style:{padding:"4px 8px",background:"#c0392b",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Cone portee 4"}),D.jsx("button",{type:"button",onClick:Ea,style:{padding:"4px 8px",background:"#7f8c8d",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"Effacer zones"})]})]}),D.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",flex:"1 1 auto",display:"flex",flexDirection:"column"},children:[D.jsx("h2",{style:{margin:"0 0 8px"},children:"Log"}),D.jsx("div",{style:{flex:"1 1 auto",overflowY:"auto",fontSize:12,lineHeight:1.4},children:a.map((S,F)=>D.jsxs("div",{children:["- ",S]},F))})]})]})]}):D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0b0b12",color:"#f5f5f5",fontFamily:"system-ui, sans-serif",padding:16,boxSizing:"border-box"},children:[D.jsx("h1",{style:{marginBottom:8},children:"Prparation du combat"}),D.jsx("p",{style:{marginBottom:16,fontSize:13,maxWidth:480,textAlign:"center"},children:"Configurez le combat avant de lancer la grille : nombre d'ennemis, puis dmarrez pour effectuer les jets d'initiative et entrer en mode tour par tour."}),D.jsxs("div",{style:{padding:16,borderRadius:8,background:"#141421",border:"1px solid #333",minWidth:260,display:"flex",flexDirection:"column",gap:12},children:[D.jsxs("label",{style:{fontSize:13},children:["Nombre d'ennemis :",D.jsx("input",{type:"number",min:1,max:8,value:Pe,onChange:S=>be(Math.max(1,Math.min(8,Number(S.target.value)||1))),style:{marginLeft:8,width:60,background:"#0f0f19",color:"#f5f5f5",border:"1px solid #333",borderRadius:4,padding:"2px 4px"}})]}),D.jsxs("p",{style:{fontSize:11,color:"#b0b8c4",margin:0},children:["Taille de la carte : actuellement fixe (",mr," x ",Bn,"). Un redimensionnement dynamique demandera une refonte de boardConfig.ts."]}),D.jsx("button",{type:"button",onClick:()=>{if(f.length===0){fe("Aucun type d'ennemi charge (enemyTypes). Impossible de generer le combat.");return}const S=[],F=O=>f[O%f.length];for(let O=0;O<Pe;O++)S.push(n5(O,F(O),r5(O)));x(S),P(1),z(!1),$([]),he(0),oe(!0)},style:{marginTop:8,padding:"6px 12px",background:"#2ecc71",color:"#0b0b12",border:"none",borderRadius:4,cursor:"pointer",fontWeight:600,fontSize:13},children:"Lancer le combat"})]})]})},s5=document.getElementById("root");f2.createRoot(s5).render(D.jsx(i5,{}));export{om as $,J1 as A,$t as B,mn as C,gr as D,Ne as E,gn as F,Ca as G,S1 as H,af as I,Ei as J,Rm as K,$m as L,Ee as M,at as N,_t as O,Et as P,i3 as Q,Vu as R,sc as S,ua as T,Gu as U,uf as V,Su as W,cf as X,lm as Y,u1 as Z,nn as _,ba as a,x1 as a0,e0 as a1,Oe as a2,dt as a3,u3 as a4,I3 as a5,b3 as a6,K3 as a7,J3 as a8,ig as a9,og as aa,ag as ab,Es as ac,Ds as ad,Qf as ae,Ws as af,h3 as ag,wa as ah,bi as ai,f0 as aj,Tf as ak,bf as al,Vs as am,E2 as an,g0 as ao,O1 as b,Gn as c,S3 as d,sn as e,Pf as f,v3 as g,Us as h,xa as i,ic as j,Q1 as k,A1 as l,yn as m,Yd as n,V1 as o,Q3 as p,Z3 as q,U2 as r,ng as s,sg as t,Ge as u,M2 as v,Yt as w,lg as x,rn as y,m1 as z};
