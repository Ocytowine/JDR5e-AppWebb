const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DNv1Q61c.js","assets/webworkerAll-C9PkzTat.js","assets/colorToUniform-Cx1Jlezk.js","assets/CanvasPool-V35mm8YL.js","assets/WebGPURenderer-CNoOT-sq.js","assets/SharedSystems-CVmADG_a.js","assets/WebGLRenderer-DNLvsakY.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Po(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var va={exports:{}},wi={},wa={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Hg(){if(fd)return ue;fd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function w(T,N,oe){this.props=T,this.context=N,this.refs=k,this.updater=oe||_}w.prototype.isReactComponent={},w.prototype.setState=function(T,N){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,N,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=w.prototype;function b(T,N,oe){this.props=T,this.context=N,this.refs=k,this.updater=oe||_}var z=b.prototype=new A;z.constructor=b,C(z,w.prototype),z.isPureReactComponent=!0;var I=Array.isArray,U=Object.prototype.hasOwnProperty,L={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function re(T,N,oe){var le,he={},ae=null,xe=null;if(N!=null)for(le in N.ref!==void 0&&(xe=N.ref),N.key!==void 0&&(ae=""+N.key),N)U.call(N,le)&&!B.hasOwnProperty(le)&&(he[le]=N[le]);var ge=arguments.length-2;if(ge===1)he.children=oe;else if(1<ge){for(var _e=Array(ge),je=0;je<ge;je++)_e[je]=arguments[je+2];he.children=_e}if(T&&T.defaultProps)for(le in ge=T.defaultProps,ge)he[le]===void 0&&(he[le]=ge[le]);return{$$typeof:i,type:T,key:ae,ref:xe,props:he,_owner:L.current}}function ie(T,N){return{$$typeof:i,type:T.type,key:N,ref:T.ref,props:T.props,_owner:T._owner}}function Y(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function K(T){var N={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(oe){return N[oe]})}var de=/\/+/g;function ce(T,N){return typeof T=="object"&&T!==null&&T.key!=null?K(""+T.key):N.toString(36)}function fe(T,N,oe,le,he){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(ae){case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case i:case e:xe=!0}}if(xe)return xe=T,he=he(xe),T=le===""?"."+ce(xe,0):le,I(he)?(oe="",T!=null&&(oe=T.replace(de,"$&/")+"/"),fe(he,N,oe,"",function(je){return je})):he!=null&&(Y(he)&&(he=ie(he,oe+(!he.key||xe&&xe.key===he.key?"":(""+he.key).replace(de,"$&/")+"/")+T)),N.push(he)),1;if(xe=0,le=le===""?".":le+":",I(T))for(var ge=0;ge<T.length;ge++){ae=T[ge];var _e=le+ce(ae,ge);xe+=fe(ae,N,oe,_e,he)}else if(_e=v(T),typeof _e=="function")for(T=_e.call(T),ge=0;!(ae=T.next()).done;)ae=ae.value,_e=le+ce(ae,ge++),xe+=fe(ae,N,oe,_e,he);else if(ae==="object")throw N=String(T),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return xe}function Xe(T,N,oe){if(T==null)return T;var le=[],he=0;return fe(T,le,"","",function(ae){return N.call(oe,ae,he++)}),le}function $(T){if(T._status===-1){var N=T._result;N=N(),N.then(function(oe){(T._status===0||T._status===-1)&&(T._status=1,T._result=oe)},function(oe){(T._status===0||T._status===-1)&&(T._status=2,T._result=oe)}),T._status===-1&&(T._status=0,T._result=N)}if(T._status===1)return T._result.default;throw T._result}var X={current:null},V={transition:null},H={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:V,ReactCurrentOwner:L};function W(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Xe,forEach:function(T,N,oe){Xe(T,function(){N.apply(this,arguments)},oe)},count:function(T){var N=0;return Xe(T,function(){N++}),N},toArray:function(T){return Xe(T,function(N){return N})||[]},only:function(T){if(!Y(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ue.Component=w,ue.Fragment=r,ue.Profiler=l,ue.PureComponent=b,ue.StrictMode=s,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ue.act=W,ue.cloneElement=function(T,N,oe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var le=C({},T.props),he=T.key,ae=T.ref,xe=T._owner;if(N!=null){if(N.ref!==void 0&&(ae=N.ref,xe=L.current),N.key!==void 0&&(he=""+N.key),T.type&&T.type.defaultProps)var ge=T.type.defaultProps;for(_e in N)U.call(N,_e)&&!B.hasOwnProperty(_e)&&(le[_e]=N[_e]===void 0&&ge!==void 0?ge[_e]:N[_e])}var _e=arguments.length-2;if(_e===1)le.children=oe;else if(1<_e){ge=Array(_e);for(var je=0;je<_e;je++)ge[je]=arguments[je+2];le.children=ge}return{$$typeof:i,type:T.type,key:he,ref:ae,props:le,_owner:xe}},ue.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},ue.createElement=re,ue.createFactory=function(T){var N=re.bind(null,T);return N.type=T,N},ue.createRef=function(){return{current:null}},ue.forwardRef=function(T){return{$$typeof:h,render:T}},ue.isValidElement=Y,ue.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:$}},ue.memo=function(T,N){return{$$typeof:m,type:T,compare:N===void 0?null:N}},ue.startTransition=function(T){var N=V.transition;V.transition={};try{T()}finally{V.transition=N}},ue.unstable_act=W,ue.useCallback=function(T,N){return X.current.useCallback(T,N)},ue.useContext=function(T){return X.current.useContext(T)},ue.useDebugValue=function(){},ue.useDeferredValue=function(T){return X.current.useDeferredValue(T)},ue.useEffect=function(T,N){return X.current.useEffect(T,N)},ue.useId=function(){return X.current.useId()},ue.useImperativeHandle=function(T,N,oe){return X.current.useImperativeHandle(T,N,oe)},ue.useInsertionEffect=function(T,N){return X.current.useInsertionEffect(T,N)},ue.useLayoutEffect=function(T,N){return X.current.useLayoutEffect(T,N)},ue.useMemo=function(T,N){return X.current.useMemo(T,N)},ue.useReducer=function(T,N,oe){return X.current.useReducer(T,N,oe)},ue.useRef=function(T){return X.current.useRef(T)},ue.useState=function(T){return X.current.useState(T)},ue.useSyncExternalStore=function(T,N,oe){return X.current.useSyncExternalStore(T,N,oe)},ue.useTransition=function(){return X.current.useTransition()},ue.version="18.3.1",ue}var pd;function du(){return pd||(pd=1,wa.exports=Hg()),wa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function Vg(){if(md)return wi;md=1;var i=du(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var g,x={},v=null,_=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(_=p.ref);for(g in p)s.call(p,g)&&!a.hasOwnProperty(g)&&(x[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)x[g]===void 0&&(x[g]=p[g]);return{$$typeof:e,type:h,key:v,ref:_,props:x,_owner:l.current}}return wi.Fragment=r,wi.jsx=c,wi.jsxs=c,wi}var gd;function $g(){return gd||(gd=1,va.exports=Vg()),va.exports}var Ee=$g(),In=du();const Wg=Po(In);var io={},Sa={exports:{}},dt={},Ca={exports:{}},ka={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Yg(){return yd||(yd=1,(function(i){function e(V,H){var W=V.length;V.push(H);e:for(;0<W;){var T=W-1>>>1,N=V[T];if(0<l(N,H))V[T]=H,V[W]=N,W=T;else break e}}function r(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var H=V[0],W=V.pop();if(W!==H){V[0]=W;e:for(var T=0,N=V.length,oe=N>>>1;T<oe;){var le=2*(T+1)-1,he=V[le],ae=le+1,xe=V[ae];if(0>l(he,W))ae<N&&0>l(xe,he)?(V[T]=xe,V[ae]=W,T=ae):(V[T]=he,V[le]=W,T=le);else if(ae<N&&0>l(xe,W))V[T]=xe,V[ae]=W,T=ae;else break e}}return H}function l(V,H){var W=V.sortIndex-H.sortIndex;return W!==0?W:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var p=[],m=[],g=1,x=null,v=3,_=!1,C=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(V){for(var H=r(m);H!==null;){if(H.callback===null)s(m);else if(H.startTime<=V)s(m),H.sortIndex=H.expirationTime,e(p,H);else break;H=r(m)}}function I(V){if(k=!1,z(V),!C)if(r(p)!==null)C=!0,$(U);else{var H=r(m);H!==null&&X(I,H.startTime-V)}}function U(V,H){C=!1,k&&(k=!1,A(re),re=-1),_=!0;var W=v;try{for(z(H),x=r(p);x!==null&&(!(x.expirationTime>H)||V&&!K());){var T=x.callback;if(typeof T=="function"){x.callback=null,v=x.priorityLevel;var N=T(x.expirationTime<=H);H=i.unstable_now(),typeof N=="function"?x.callback=N:x===r(p)&&s(p),z(H)}else s(p);x=r(p)}if(x!==null)var oe=!0;else{var le=r(m);le!==null&&X(I,le.startTime-H),oe=!1}return oe}finally{x=null,v=W,_=!1}}var L=!1,B=null,re=-1,ie=5,Y=-1;function K(){return!(i.unstable_now()-Y<ie)}function de(){if(B!==null){var V=i.unstable_now();Y=V;var H=!0;try{H=B(!0,V)}finally{H?ce():(L=!1,B=null)}}else L=!1}var ce;if(typeof b=="function")ce=function(){b(de)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Xe=fe.port2;fe.port1.onmessage=de,ce=function(){Xe.postMessage(null)}}else ce=function(){w(de,0)};function $(V){B=V,L||(L=!0,ce())}function X(V,H){re=w(function(){V(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){C||_||(C=!0,$(U))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(V){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var W=v;v=H;try{return V()}finally{v=W}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=v;v=V;try{return H()}finally{v=W}},i.unstable_scheduleCallback=function(V,H,W){var T=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,V){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,V={id:g++,callback:H,priorityLevel:V,startTime:W,expirationTime:N,sortIndex:-1},W>T?(V.sortIndex=W,e(m,V),r(p)===null&&V===r(m)&&(k?(A(re),re=-1):k=!0,X(I,W-T))):(V.sortIndex=N,e(p,V),C||_||(C=!0,$(U))),V},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(V){var H=v;return function(){var W=v;v=H;try{return V.apply(this,arguments)}finally{v=W}}}})(ka)),ka}var xd;function Xg(){return xd||(xd=1,Ca.exports=Yg()),Ca.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function qg(){if(_d)return dt;_d=1;var i=du(),e=Xg();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function v(t){return p.call(x,t)?!0:p.call(g,t)?!1:m.test(t)?x[t]=!0:(g[t]=!0,!1)}function _(t,n,o,u){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,n,o,u){if(n===null||typeof n>"u"||_(t,n,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function k(t,n,o,u,d,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){w[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];w[n]=new k(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){w[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){w[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){w[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){w[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){w[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){w[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){w[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(A,b);w[n]=new k(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(A,b);w[n]=new k(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(A,b);w[n]=new k(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){w[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),w.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){w[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function z(t,n,o,u){var d=w.hasOwnProperty(n)?w[n]:null;(d!==null?d.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,o,d,u)&&(o=null),u||d===null?v(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,n,o):t.setAttribute(n,o))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),K=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),V=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,T;function N(t){if(T===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+t}var oe=!1;function le(t,n){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(t,[],n)}else{try{n.call()}catch(F){u=F}t.call(n.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),f=u.stack.split(`
`),y=d.length-1,S=f.length-1;1<=y&&0<=S&&d[y]!==f[S];)S--;for(;1<=y&&0<=S;y--,S--)if(d[y]!==f[S]){if(y!==1||S!==1)do if(y--,S--,0>S||d[y]!==f[S]){var P=`
`+d[y].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=y&&0<=S);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?N(t):""}function he(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=le(t.type,!1),t;case 11:return t=le(t.type.render,!1),t;case 1:return t=le(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case L:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K:return(t.displayName||"Context")+".Consumer";case Y:return(t._context.displayName||"Context")+".Provider";case de:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xe:return n=t.displayName||null,n!==null?n:ae(t.type)||"Memo";case $:n=t._payload,t=t._init;try{return ae(t(n))}catch{}}return null}function xe(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ge(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _e(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function je(t){var n=_e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dn(t){t._valueTracker||(t._valueTracker=je(t))}function jt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return t&&(u=_e(t)?t.checked?"true":"false":t.value),t=u,t!==o?(n.setValue(t),!0):!1}function vt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rt(t,n){var o=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ht(t,n){var o=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;o=ge(n.value!=null?n.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Yi(t,n){n=n.checked,n!=null&&z(t,"checked",n,!1)}function er(t,n){Yi(t,n);var o=ge(n.value),u=n.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?qi(t,n.type,o):n.hasOwnProperty("defaultValue")&&qi(t,n.type,ge(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Xi(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function qi(t,n,o){(n!=="number"||vt(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Nr=Array.isArray;function tr(t,n,o,u){if(t=t.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=n.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+ge(o),n=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function bo(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cu(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(Nr(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:ge(o)}}function ku(t,n){var o=ge(n.value),u=ge(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Pu(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Mu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Mu(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qi,Tu=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(n,o,u,d)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Br(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yp=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(t){Yp.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Dr[n]=Dr[t]})});function Eu(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Dr.hasOwnProperty(t)&&Dr[t]?(""+n).trim():n+"px"}function Au(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Eu(o,n[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var Xp=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(t,n){if(n){if(Xp[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Fo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Lo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,nr=null,rr=null;function bu(t){if(t=oi(t)){if(typeof No!="function")throw Error(r(280));var n=t.stateNode;n&&(n=_s(n),No(t.stateNode,t.type,n))}}function Ru(t){nr?rr?rr.push(t):rr=[t]:nr=t}function Iu(){if(nr){var t=nr,n=rr;if(rr=nr=null,bu(t),n)for(t=0;t<n.length;t++)bu(n[t])}}function Fu(t,n){return t(n)}function zu(){}var Bo=!1;function Lu(t,n,o){if(Bo)return t(n,o);Bo=!0;try{return Fu(t,n,o)}finally{Bo=!1,(nr!==null||rr!==null)&&(zu(),Iu())}}function Or(t,n){var o=t.stateNode;if(o===null)return null;var u=_s(o);if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var Do=!1;if(h)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Do=!1}function qp(t,n,o,u,d,f,y,S,P){var F=Array.prototype.slice.call(arguments,3);try{n.apply(o,F)}catch(O){this.onError(O)}}var Ur=!1,Ki=null,Zi=!1,Oo=null,Qp={onError:function(t){Ur=!0,Ki=t}};function Kp(t,n,o,u,d,f,y,S,P){Ur=!1,Ki=null,qp.apply(Qp,arguments)}function Zp(t,n,o,u,d,f,y,S,P){if(Kp.apply(this,arguments),Ur){if(Ur){var F=Ki;Ur=!1,Ki=null}else throw Error(r(198));Zi||(Zi=!0,Oo=F)}}function Ln(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Nu(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Bu(t){if(Ln(t)!==t)throw Error(r(188))}function Jp(t){var n=t.alternate;if(!n){if(n=Ln(t),n===null)throw Error(r(188));return n!==t?null:t}for(var o=t,u=n;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Bu(d),t;if(f===u)return Bu(d),n;f=f.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=f;else{for(var y=!1,S=d.child;S;){if(S===o){y=!0,o=d,u=f;break}if(S===u){y=!0,u=d,o=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===o){y=!0,o=f,u=d;break}if(S===u){y=!0,u=f,o=d;break}S=S.sibling}if(!y)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:n}function Du(t){return t=Jp(t),t!==null?Ou(t):null}function Ou(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Ou(t);if(n!==null)return n;t=t.sibling}return null}var Gu=e.unstable_scheduleCallback,Uu=e.unstable_cancelCallback,em=e.unstable_shouldYield,tm=e.unstable_requestPaint,Le=e.unstable_now,nm=e.unstable_getCurrentPriorityLevel,Go=e.unstable_ImmediatePriority,ju=e.unstable_UserBlockingPriority,Ji=e.unstable_NormalPriority,rm=e.unstable_LowPriority,Hu=e.unstable_IdlePriority,es=null,Vt=null;function im(t){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(es,t,void 0,(t.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:lm,sm=Math.log,om=Math.LN2;function lm(t){return t>>>=0,t===0?32:31-(sm(t)/om|0)|0}var ts=64,ns=4194304;function jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rs(t,n){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,y=o&268435455;if(y!==0){var S=y&~d;S!==0?u=jr(S):(f&=y,f!==0&&(u=jr(f)))}else y=o&~d,y!==0?u=jr(y):f!==0&&(u=jr(f));if(u===0)return 0;if(n!==0&&n!==u&&(n&d)===0&&(d=u&-u,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((u&4)!==0&&(u|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)o=31-It(n),d=1<<o,u|=t[o],n&=~d;return u}function am(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(t,n){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var y=31-It(f),S=1<<y,P=d[y];P===-1?((S&o)===0||(S&u)!==0)&&(d[y]=am(S,n)):P<=n&&(t.expiredLanes|=S),f&=~S}}function Uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vu(){var t=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),t}function jo(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Hr(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-It(n),t[n]=o}function cm(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-It(o),f=1<<d;n[d]=0,u[d]=-1,t[d]=-1,o&=~f}}function Ho(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var u=31-It(o),d=1<<u;d&n|t[u]&n&&(t[u]|=n),o&=~d}}var ve=0;function $u(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Wu,Vo,Yu,Xu,qu,$o=!1,is=[],fn=null,pn=null,mn=null,Vr=new Map,$r=new Map,gn=[],hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(t,n){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(n.pointerId)}}function Wr(t,n,o,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},n!==null&&(n=oi(n),n!==null&&Vo(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function dm(t,n,o,u,d){switch(n){case"focusin":return fn=Wr(fn,t,n,o,u,d),!0;case"dragenter":return pn=Wr(pn,t,n,o,u,d),!0;case"mouseover":return mn=Wr(mn,t,n,o,u,d),!0;case"pointerover":var f=d.pointerId;return Vr.set(f,Wr(Vr.get(f)||null,t,n,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,$r.set(f,Wr($r.get(f)||null,t,n,o,u,d)),!0}return!1}function Ku(t){var n=Nn(t.target);if(n!==null){var o=Ln(n);if(o!==null){if(n=o.tag,n===13){if(n=Nu(o),n!==null){t.blockedOn=n,qu(t.priority,function(){Yu(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ss(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Yo(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);zo=u,o.target.dispatchEvent(u),zo=null}else return n=oi(o),n!==null&&Vo(n),t.blockedOn=o,!1;n.shift()}return!0}function Zu(t,n,o){ss(t)&&o.delete(n)}function fm(){$o=!1,fn!==null&&ss(fn)&&(fn=null),pn!==null&&ss(pn)&&(pn=null),mn!==null&&ss(mn)&&(mn=null),Vr.forEach(Zu),$r.forEach(Zu)}function Yr(t,n){t.blockedOn===n&&(t.blockedOn=null,$o||($o=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fm)))}function Xr(t){function n(d){return Yr(d,t)}if(0<is.length){Yr(is[0],t);for(var o=1;o<is.length;o++){var u=is[o];u.blockedOn===t&&(u.blockedOn=null)}}for(fn!==null&&Yr(fn,t),pn!==null&&Yr(pn,t),mn!==null&&Yr(mn,t),Vr.forEach(n),$r.forEach(n),o=0;o<gn.length;o++)u=gn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<gn.length&&(o=gn[0],o.blockedOn===null);)Ku(o),o.blockedOn===null&&gn.shift()}var ir=I.ReactCurrentBatchConfig,os=!0;function pm(t,n,o,u){var d=ve,f=ir.transition;ir.transition=null;try{ve=1,Wo(t,n,o,u)}finally{ve=d,ir.transition=f}}function mm(t,n,o,u){var d=ve,f=ir.transition;ir.transition=null;try{ve=4,Wo(t,n,o,u)}finally{ve=d,ir.transition=f}}function Wo(t,n,o,u){if(os){var d=Yo(t,n,o,u);if(d===null)cl(t,n,u,ls,o),Qu(t,u);else if(dm(d,t,n,o,u))u.stopPropagation();else if(Qu(t,u),n&4&&-1<hm.indexOf(t)){for(;d!==null;){var f=oi(d);if(f!==null&&Wu(f),f=Yo(t,n,o,u),f===null&&cl(t,n,u,ls,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else cl(t,n,u,null,o)}}var ls=null;function Yo(t,n,o,u){if(ls=null,t=Lo(u),t=Nn(t),t!==null)if(n=Ln(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Nu(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ls=t,null}function Ju(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case Go:return 1;case ju:return 4;case Ji:case rm:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var yn=null,Xo=null,as=null;function ec(){if(as)return as;var t,n=Xo,o=n.length,u,d="value"in yn?yn.value:yn.textContent,f=d.length;for(t=0;t<o&&n[t]===d[t];t++);var y=o-t;for(u=1;u<=y&&n[o-u]===d[f-u];u++);return as=d.slice(t,1<u?1-u:void 0)}function us(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function tc(){return!1}function pt(t){function n(o,u,d,f,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cs:tc,this.isPropagationStopped=tc,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=pt(sr),qr=W({},sr,{view:0,detail:0}),gm=pt(qr),Qo,Ko,Qr,hs=W({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Qo=t.screenX-Qr.screenX,Ko=t.screenY-Qr.screenY):Ko=Qo=0,Qr=t),Qo)},movementY:function(t){return"movementY"in t?t.movementY:Ko}}),nc=pt(hs),ym=W({},hs,{dataTransfer:0}),xm=pt(ym),_m=W({},qr,{relatedTarget:0}),Zo=pt(_m),vm=W({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=pt(vm),Sm=W({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cm=pt(Sm),km=W({},sr,{data:0}),rc=pt(km),Pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tm[t])?!!n[t]:!1}function Jo(){return Em}var Am=W({},qr,{key:function(t){if(t.key){var n=Pm[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bm=pt(Am),Rm=W({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=pt(Rm),Im=W({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Fm=pt(Im),zm=W({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lm=pt(zm),Nm=W({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=pt(Nm),Dm=[9,13,27,32],el=h&&"CompositionEvent"in window,Kr=null;h&&"documentMode"in document&&(Kr=document.documentMode);var Om=h&&"TextEvent"in window&&!Kr,sc=h&&(!el||Kr&&8<Kr&&11>=Kr),oc=" ",lc=!1;function ac(t,n){switch(t){case"keyup":return Dm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function Gm(t,n){switch(t){case"compositionend":return uc(n);case"keypress":return n.which!==32?null:(lc=!0,oc);case"textInput":return t=n.data,t===oc&&lc?null:t;default:return null}}function Um(t,n){if(or)return t==="compositionend"||!el&&ac(t,n)?(t=ec(),as=Xo=yn=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sc&&n.locale!=="ko"?null:n.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jm[t.type]:n==="textarea"}function hc(t,n,o,u){Ru(u),n=gs(n,"onChange"),0<n.length&&(o=new qo("onChange","change",null,o,u),t.push({event:o,listeners:n}))}var Zr=null,Jr=null;function Hm(t){Ac(t,0)}function ds(t){var n=hr(t);if(jt(n))return t}function Vm(t,n){if(t==="change")return n}var dc=!1;if(h){var tl;if(h){var nl="oninput"in document;if(!nl){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),nl=typeof fc.oninput=="function"}tl=nl}else tl=!1;dc=tl&&(!document.documentMode||9<document.documentMode)}function pc(){Zr&&(Zr.detachEvent("onpropertychange",mc),Jr=Zr=null)}function mc(t){if(t.propertyName==="value"&&ds(Jr)){var n=[];hc(n,Jr,t,Lo(t)),Lu(Hm,n)}}function $m(t,n,o){t==="focusin"?(pc(),Zr=n,Jr=o,Zr.attachEvent("onpropertychange",mc)):t==="focusout"&&pc()}function Wm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ds(Jr)}function Ym(t,n){if(t==="click")return ds(n)}function Xm(t,n){if(t==="input"||t==="change")return ds(n)}function qm(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ft=typeof Object.is=="function"?Object.is:qm;function ei(t,n){if(Ft(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!p.call(n,d)||!Ft(t[d],n[d]))return!1}return!0}function gc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yc(t,n){var o=gc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=n&&u>=n)return{node:o,offset:n-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gc(o)}}function xc(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xc(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _c(){for(var t=window,n=vt();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=vt(t.document)}return n}function rl(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Qm(t){var n=_c(),o=t.focusedElem,u=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&xc(o.ownerDocument.documentElement,o)){if(u!==null&&rl(o)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=yc(o,f);var y=yc(o,u);d&&y&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Km=h&&"documentMode"in document&&11>=document.documentMode,lr=null,il=null,ti=null,sl=!1;function vc(t,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sl||lr==null||lr!==vt(u)||(u=lr,"selectionStart"in u&&rl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ti&&ei(ti,u)||(ti=u,u=gs(il,"onSelect"),0<u.length&&(n=new qo("onSelect","select",null,n,o),t.push({event:n,listeners:u}),n.target=lr)))}function fs(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var ar={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},ol={},wc={};h&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function ps(t){if(ol[t])return ol[t];if(!ar[t])return t;var n=ar[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in wc)return ol[t]=n[o];return t}var Sc=ps("animationend"),Cc=ps("animationiteration"),kc=ps("animationstart"),Pc=ps("transitionend"),Mc=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(t,n){Mc.set(t,n),a(n,[t])}for(var ll=0;ll<Tc.length;ll++){var al=Tc[ll],Zm=al.toLowerCase(),Jm=al[0].toUpperCase()+al.slice(1);xn(Zm,"on"+Jm)}xn(Sc,"onAnimationEnd"),xn(Cc,"onAnimationIteration"),xn(kc,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Pc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function Ec(t,n,o){var u=t.type||"unknown-event";t.currentTarget=o,Zp(u,n,void 0,t),t.currentTarget=null}function Ac(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var y=u.length-1;0<=y;y--){var S=u[y],P=S.instance,F=S.currentTarget;if(S=S.listener,P!==f&&d.isPropagationStopped())break e;Ec(d,S,F),f=P}else for(y=0;y<u.length;y++){if(S=u[y],P=S.instance,F=S.currentTarget,S=S.listener,P!==f&&d.isPropagationStopped())break e;Ec(d,S,F),f=P}}}if(Zi)throw t=Oo,Zi=!1,Oo=null,t}function Me(t,n){var o=n[gl];o===void 0&&(o=n[gl]=new Set);var u=t+"__bubble";o.has(u)||(bc(n,t,2,!1),o.add(u))}function ul(t,n,o){var u=0;n&&(u|=4),bc(o,t,u,n)}var ms="_reactListening"+Math.random().toString(36).slice(2);function ri(t){if(!t[ms]){t[ms]=!0,s.forEach(function(o){o!=="selectionchange"&&(eg.has(o)||ul(o,!1,t),ul(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ms]||(n[ms]=!0,ul("selectionchange",!1,n))}}function bc(t,n,o,u){switch(Ju(n)){case 1:var d=pm;break;case 4:d=mm;break;default:d=Wo}o=d.bind(null,n,o,t),d=void 0,!Do||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(n,o,{capture:!0,passive:d}):t.addEventListener(n,o,!0):d!==void 0?t.addEventListener(n,o,{passive:d}):t.addEventListener(n,o,!1)}function cl(t,n,o,u,d){var f=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var P=y.tag;if((P===3||P===4)&&(P=y.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;y=y.return}for(;S!==null;){if(y=Nn(S),y===null)return;if(P=y.tag,P===5||P===6){u=f=y;continue e}S=S.parentNode}}u=u.return}Lu(function(){var F=f,O=Lo(o),G=[];e:{var D=Mc.get(t);if(D!==void 0){var q=qo,Z=t;switch(t){case"keypress":if(us(o)===0)break e;case"keydown":case"keyup":q=bm;break;case"focusin":Z="focus",q=Zo;break;case"focusout":Z="blur",q=Zo;break;case"beforeblur":case"afterblur":q=Zo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Fm;break;case Sc:case Cc:case kc:q=wm;break;case Pc:q=Lm;break;case"scroll":q=gm;break;case"wheel":q=Bm;break;case"copy":case"cut":case"paste":q=Cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ic}var J=(n&4)!==0,Ne=!J&&t==="scroll",E=J?D!==null?D+"Capture":null:D;J=[];for(var M=F,R;M!==null;){R=M;var j=R.stateNode;if(R.tag===5&&j!==null&&(R=j,E!==null&&(j=Or(M,E),j!=null&&J.push(ii(M,j,R)))),Ne)break;M=M.return}0<J.length&&(D=new q(D,Z,null,o,O),G.push({event:D,listeners:J}))}}if((n&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",D&&o!==zo&&(Z=o.relatedTarget||o.fromElement)&&(Nn(Z)||Z[Zt]))break e;if((q||D)&&(D=O.window===O?O:(D=O.ownerDocument)?D.defaultView||D.parentWindow:window,q?(Z=o.relatedTarget||o.toElement,q=F,Z=Z?Nn(Z):null,Z!==null&&(Ne=Ln(Z),Z!==Ne||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(q=null,Z=F),q!==Z)){if(J=nc,j="onMouseLeave",E="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(J=ic,j="onPointerLeave",E="onPointerEnter",M="pointer"),Ne=q==null?D:hr(q),R=Z==null?D:hr(Z),D=new J(j,M+"leave",q,o,O),D.target=Ne,D.relatedTarget=R,j=null,Nn(O)===F&&(J=new J(E,M+"enter",Z,o,O),J.target=R,J.relatedTarget=Ne,j=J),Ne=j,q&&Z)t:{for(J=q,E=Z,M=0,R=J;R;R=ur(R))M++;for(R=0,j=E;j;j=ur(j))R++;for(;0<M-R;)J=ur(J),M--;for(;0<R-M;)E=ur(E),R--;for(;M--;){if(J===E||E!==null&&J===E.alternate)break t;J=ur(J),E=ur(E)}J=null}else J=null;q!==null&&Rc(G,D,q,J,!1),Z!==null&&Ne!==null&&Rc(G,Ne,Z,J,!0)}}e:{if(D=F?hr(F):window,q=D.nodeName&&D.nodeName.toLowerCase(),q==="select"||q==="input"&&D.type==="file")var ee=Vm;else if(cc(D))if(dc)ee=Xm;else{ee=Wm;var te=$m}else(q=D.nodeName)&&q.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(ee=Ym);if(ee&&(ee=ee(t,F))){hc(G,ee,o,O);break e}te&&te(t,D,F),t==="focusout"&&(te=D._wrapperState)&&te.controlled&&D.type==="number"&&qi(D,"number",D.value)}switch(te=F?hr(F):window,t){case"focusin":(cc(te)||te.contentEditable==="true")&&(lr=te,il=F,ti=null);break;case"focusout":ti=il=lr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,vc(G,o,O);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":vc(G,o,O)}var ne;if(el)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else or?ac(t,o)&&(se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(sc&&o.locale!=="ko"&&(or||se!=="onCompositionStart"?se==="onCompositionEnd"&&or&&(ne=ec()):(yn=O,Xo="value"in yn?yn.value:yn.textContent,or=!0)),te=gs(F,se),0<te.length&&(se=new rc(se,t,null,o,O),G.push({event:se,listeners:te}),ne?se.data=ne:(ne=uc(o),ne!==null&&(se.data=ne)))),(ne=Om?Gm(t,o):Um(t,o))&&(F=gs(F,"onBeforeInput"),0<F.length&&(O=new rc("onBeforeInput","beforeinput",null,o,O),G.push({event:O,listeners:F}),O.data=ne))}Ac(G,n)})}function ii(t,n,o){return{instance:t,listener:n,currentTarget:o}}function gs(t,n){for(var o=n+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Or(t,o),f!=null&&u.unshift(ii(t,f,d)),f=Or(t,n),f!=null&&u.push(ii(t,f,d))),t=t.return}return u}function ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rc(t,n,o,u,d){for(var f=n._reactName,y=[];o!==null&&o!==u;){var S=o,P=S.alternate,F=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&F!==null&&(S=F,d?(P=Or(o,f),P!=null&&y.unshift(ii(o,P,S))):d||(P=Or(o,f),P!=null&&y.push(ii(o,P,S)))),o=o.return}y.length!==0&&t.push({event:n,listeners:y})}var tg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function Ic(t){return(typeof t=="string"?t:""+t).replace(tg,`
`).replace(ng,"")}function ys(t,n,o){if(n=Ic(n),Ic(t)!==n&&o)throw Error(r(425))}function xs(){}var hl=null,dl=null;function fl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,Fc=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Fc<"u"?function(t){return Fc.resolve(null).then(t).catch(sg)}:pl;function sg(t){setTimeout(function(){throw t})}function ml(t,n){var o=n,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Xr(n);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xr(n)}function _n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function zc(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var cr=Math.random().toString(36).slice(2),$t="__reactFiber$"+cr,si="__reactProps$"+cr,Zt="__reactContainer$"+cr,gl="__reactEvents$"+cr,og="__reactListeners$"+cr,lg="__reactHandles$"+cr;function Nn(t){var n=t[$t];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Zt]||o[$t]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=zc(t);t!==null;){if(o=t[$t])return o;t=zc(t)}return n}t=o,o=t.parentNode}return null}function oi(t){return t=t[$t]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function _s(t){return t[si]||null}var yl=[],dr=-1;function vn(t){return{current:t}}function Te(t){0>dr||(t.current=yl[dr],yl[dr]=null,dr--)}function Pe(t,n){dr++,yl[dr]=t.current,t.current=n}var wn={},Ke=vn(wn),lt=vn(!1),Bn=wn;function fr(t,n){var o=t.type.contextTypes;if(!o)return wn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=n[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function at(t){return t=t.childContextTypes,t!=null}function vs(){Te(lt),Te(Ke)}function Lc(t,n,o){if(Ke.current!==wn)throw Error(r(168));Pe(Ke,n),Pe(lt,o)}function Nc(t,n,o){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in n))throw Error(r(108,xe(t)||"Unknown",d));return W({},o,u)}function ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Bn=Ke.current,Pe(Ke,t),Pe(lt,lt.current),!0}function Bc(t,n,o){var u=t.stateNode;if(!u)throw Error(r(169));o?(t=Nc(t,n,Bn),u.__reactInternalMemoizedMergedChildContext=t,Te(lt),Te(Ke),Pe(Ke,t)):Te(lt),Pe(lt,o)}var Jt=null,Ss=!1,xl=!1;function Dc(t){Jt===null?Jt=[t]:Jt.push(t)}function ag(t){Ss=!0,Dc(t)}function Sn(){if(!xl&&Jt!==null){xl=!0;var t=0,n=ve;try{var o=Jt;for(ve=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Jt=null,Ss=!1}catch(d){throw Jt!==null&&(Jt=Jt.slice(t+1)),Gu(Go,Sn),d}finally{ve=n,xl=!1}}return null}var pr=[],mr=0,Cs=null,ks=0,wt=[],St=0,Dn=null,en=1,tn="";function On(t,n){pr[mr++]=ks,pr[mr++]=Cs,Cs=t,ks=n}function Oc(t,n,o){wt[St++]=en,wt[St++]=tn,wt[St++]=Dn,Dn=t;var u=en;t=tn;var d=32-It(u)-1;u&=~(1<<d),o+=1;var f=32-It(n)+d;if(30<f){var y=d-d%5;f=(u&(1<<y)-1).toString(32),u>>=y,d-=y,en=1<<32-It(n)+d|o<<d|u,tn=f+t}else en=1<<f|o<<d|u,tn=t}function _l(t){t.return!==null&&(On(t,1),Oc(t,1,0))}function vl(t){for(;t===Cs;)Cs=pr[--mr],pr[mr]=null,ks=pr[--mr],pr[mr]=null;for(;t===Dn;)Dn=wt[--St],wt[St]=null,tn=wt[--St],wt[St]=null,en=wt[--St],wt[St]=null}var mt=null,gt=null,Ae=!1,zt=null;function Gc(t,n){var o=Mt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function Uc(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,mt=t,gt=_n(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,mt=t,gt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Dn!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Mt(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,mt=t,gt=null,!0):!1;default:return!1}}function wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sl(t){if(Ae){var n=gt;if(n){var o=n;if(!Uc(t,n)){if(wl(t))throw Error(r(418));n=_n(o.nextSibling);var u=mt;n&&Uc(t,n)?Gc(u,o):(t.flags=t.flags&-4097|2,Ae=!1,mt=t)}}else{if(wl(t))throw Error(r(418));t.flags=t.flags&-4097|2,Ae=!1,mt=t}}}function jc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function Ps(t){if(t!==mt)return!1;if(!Ae)return jc(t),Ae=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!fl(t.type,t.memoizedProps)),n&&(n=gt)){if(wl(t))throw Hc(),Error(r(418));for(;n;)Gc(t,n),n=_n(n.nextSibling)}if(jc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){gt=_n(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}gt=null}}else gt=mt?_n(t.stateNode.nextSibling):null;return!0}function Hc(){for(var t=gt;t;)t=_n(t.nextSibling)}function gr(){gt=mt=null,Ae=!1}function Cl(t){zt===null?zt=[t]:zt.push(t)}var ug=I.ReactCurrentBatchConfig;function li(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,t));var d=u,f=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var S=d.refs;y===null?delete S[f]:S[f]=y},n._stringRef=f,n)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Ms(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Vc(t){var n=t._init;return n(t._payload)}function $c(t){function n(E,M){if(t){var R=E.deletions;R===null?(E.deletions=[M],E.flags|=16):R.push(M)}}function o(E,M){if(!t)return null;for(;M!==null;)n(E,M),M=M.sibling;return null}function u(E,M){for(E=new Map;M!==null;)M.key!==null?E.set(M.key,M):E.set(M.index,M),M=M.sibling;return E}function d(E,M){return E=bn(E,M),E.index=0,E.sibling=null,E}function f(E,M,R){return E.index=R,t?(R=E.alternate,R!==null?(R=R.index,R<M?(E.flags|=2,M):R):(E.flags|=2,M)):(E.flags|=1048576,M)}function y(E){return t&&E.alternate===null&&(E.flags|=2),E}function S(E,M,R,j){return M===null||M.tag!==6?(M=pa(R,E.mode,j),M.return=E,M):(M=d(M,R),M.return=E,M)}function P(E,M,R,j){var ee=R.type;return ee===B?O(E,M,R.props.children,j,R.key):M!==null&&(M.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===$&&Vc(ee)===M.type)?(j=d(M,R.props),j.ref=li(E,M,R),j.return=E,j):(j=Qs(R.type,R.key,R.props,null,E.mode,j),j.ref=li(E,M,R),j.return=E,j)}function F(E,M,R,j){return M===null||M.tag!==4||M.stateNode.containerInfo!==R.containerInfo||M.stateNode.implementation!==R.implementation?(M=ma(R,E.mode,j),M.return=E,M):(M=d(M,R.children||[]),M.return=E,M)}function O(E,M,R,j,ee){return M===null||M.tag!==7?(M=Yn(R,E.mode,j,ee),M.return=E,M):(M=d(M,R),M.return=E,M)}function G(E,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return M=pa(""+M,E.mode,R),M.return=E,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return R=Qs(M.type,M.key,M.props,null,E.mode,R),R.ref=li(E,null,M),R.return=E,R;case L:return M=ma(M,E.mode,R),M.return=E,M;case $:var j=M._init;return G(E,j(M._payload),R)}if(Nr(M)||H(M))return M=Yn(M,E.mode,R,null),M.return=E,M;Ms(E,M)}return null}function D(E,M,R,j){var ee=M!==null?M.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ee!==null?null:S(E,M,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case U:return R.key===ee?P(E,M,R,j):null;case L:return R.key===ee?F(E,M,R,j):null;case $:return ee=R._init,D(E,M,ee(R._payload),j)}if(Nr(R)||H(R))return ee!==null?null:O(E,M,R,j,null);Ms(E,R)}return null}function q(E,M,R,j,ee){if(typeof j=="string"&&j!==""||typeof j=="number")return E=E.get(R)||null,S(M,E,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return E=E.get(j.key===null?R:j.key)||null,P(M,E,j,ee);case L:return E=E.get(j.key===null?R:j.key)||null,F(M,E,j,ee);case $:var te=j._init;return q(E,M,R,te(j._payload),ee)}if(Nr(j)||H(j))return E=E.get(R)||null,O(M,E,j,ee,null);Ms(M,j)}return null}function Z(E,M,R,j){for(var ee=null,te=null,ne=M,se=M=0,$e=null;ne!==null&&se<R.length;se++){ne.index>se?($e=ne,ne=null):$e=ne.sibling;var ye=D(E,ne,R[se],j);if(ye===null){ne===null&&(ne=$e);break}t&&ne&&ye.alternate===null&&n(E,ne),M=f(ye,M,se),te===null?ee=ye:te.sibling=ye,te=ye,ne=$e}if(se===R.length)return o(E,ne),Ae&&On(E,se),ee;if(ne===null){for(;se<R.length;se++)ne=G(E,R[se],j),ne!==null&&(M=f(ne,M,se),te===null?ee=ne:te.sibling=ne,te=ne);return Ae&&On(E,se),ee}for(ne=u(E,ne);se<R.length;se++)$e=q(ne,E,se,R[se],j),$e!==null&&(t&&$e.alternate!==null&&ne.delete($e.key===null?se:$e.key),M=f($e,M,se),te===null?ee=$e:te.sibling=$e,te=$e);return t&&ne.forEach(function(Rn){return n(E,Rn)}),Ae&&On(E,se),ee}function J(E,M,R,j){var ee=H(R);if(typeof ee!="function")throw Error(r(150));if(R=ee.call(R),R==null)throw Error(r(151));for(var te=ee=null,ne=M,se=M=0,$e=null,ye=R.next();ne!==null&&!ye.done;se++,ye=R.next()){ne.index>se?($e=ne,ne=null):$e=ne.sibling;var Rn=D(E,ne,ye.value,j);if(Rn===null){ne===null&&(ne=$e);break}t&&ne&&Rn.alternate===null&&n(E,ne),M=f(Rn,M,se),te===null?ee=Rn:te.sibling=Rn,te=Rn,ne=$e}if(ye.done)return o(E,ne),Ae&&On(E,se),ee;if(ne===null){for(;!ye.done;se++,ye=R.next())ye=G(E,ye.value,j),ye!==null&&(M=f(ye,M,se),te===null?ee=ye:te.sibling=ye,te=ye);return Ae&&On(E,se),ee}for(ne=u(E,ne);!ye.done;se++,ye=R.next())ye=q(ne,E,se,ye.value,j),ye!==null&&(t&&ye.alternate!==null&&ne.delete(ye.key===null?se:ye.key),M=f(ye,M,se),te===null?ee=ye:te.sibling=ye,te=ye);return t&&ne.forEach(function(jg){return n(E,jg)}),Ae&&On(E,se),ee}function Ne(E,M,R,j){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case U:e:{for(var ee=R.key,te=M;te!==null;){if(te.key===ee){if(ee=R.type,ee===B){if(te.tag===7){o(E,te.sibling),M=d(te,R.props.children),M.return=E,E=M;break e}}else if(te.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===$&&Vc(ee)===te.type){o(E,te.sibling),M=d(te,R.props),M.ref=li(E,te,R),M.return=E,E=M;break e}o(E,te);break}else n(E,te);te=te.sibling}R.type===B?(M=Yn(R.props.children,E.mode,j,R.key),M.return=E,E=M):(j=Qs(R.type,R.key,R.props,null,E.mode,j),j.ref=li(E,M,R),j.return=E,E=j)}return y(E);case L:e:{for(te=R.key;M!==null;){if(M.key===te)if(M.tag===4&&M.stateNode.containerInfo===R.containerInfo&&M.stateNode.implementation===R.implementation){o(E,M.sibling),M=d(M,R.children||[]),M.return=E,E=M;break e}else{o(E,M);break}else n(E,M);M=M.sibling}M=ma(R,E.mode,j),M.return=E,E=M}return y(E);case $:return te=R._init,Ne(E,M,te(R._payload),j)}if(Nr(R))return Z(E,M,R,j);if(H(R))return J(E,M,R,j);Ms(E,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,M!==null&&M.tag===6?(o(E,M.sibling),M=d(M,R),M.return=E,E=M):(o(E,M),M=pa(R,E.mode,j),M.return=E,E=M),y(E)):o(E,M)}return Ne}var yr=$c(!0),Wc=$c(!1),Ts=vn(null),Es=null,xr=null,kl=null;function Pl(){kl=xr=Es=null}function Ml(t){var n=Ts.current;Te(Ts),t._currentValue=n}function Tl(t,n,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===o)break;t=t.return}}function _r(t,n){Es=t,kl=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(ut=!0),t.firstContext=null)}function Ct(t){var n=t._currentValue;if(kl!==t)if(t={context:t,memoizedValue:n,next:null},xr===null){if(Es===null)throw Error(r(308));xr=t,Es.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return n}var Gn=null;function El(t){Gn===null?Gn=[t]:Gn.push(t)}function Yc(t,n,o,u){var d=n.interleaved;return d===null?(o.next=o,El(n)):(o.next=d.next,d.next=o),n.interleaved=o,nn(t,u)}function nn(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Cn=!1;function Al(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(t,n,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(me&2)!==0){var d=u.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),u.pending=n,nn(t,o)}return d=u.interleaved,d===null?(n.next=n,El(u)):(n.next=d.next,d.next=n),u.interleaved=n,nn(t,o)}function As(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,Ho(t,o)}}function qc(t,n){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?d=f=n:f=f.next=n}else d=f=n;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function bs(t,n,o,u){var d=t.updateQueue;Cn=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,F=P.next;P.next=null,y===null?f=F:y.next=F,y=P;var O=t.alternate;O!==null&&(O=O.updateQueue,S=O.lastBaseUpdate,S!==y&&(S===null?O.firstBaseUpdate=F:S.next=F,O.lastBaseUpdate=P))}if(f!==null){var G=d.baseState;y=0,O=F=P=null,S=f;do{var D=S.lane,q=S.eventTime;if((u&D)===D){O!==null&&(O=O.next={eventTime:q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Z=t,J=S;switch(D=n,q=o,J.tag){case 1:if(Z=J.payload,typeof Z=="function"){G=Z.call(q,G,D);break e}G=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=J.payload,D=typeof Z=="function"?Z.call(q,G,D):Z,D==null)break e;G=W({},G,D);break e;case 2:Cn=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,D=d.effects,D===null?d.effects=[S]:D.push(S))}else q={eventTime:q,lane:D,tag:S.tag,payload:S.payload,callback:S.callback,next:null},O===null?(F=O=q,P=G):O=O.next=q,y|=D;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;D=S,S=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(O===null&&(P=G),d.baseState=P,d.firstBaseUpdate=F,d.lastBaseUpdate=O,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);Hn|=y,t.lanes=y,t.memoizedState=G}}function Qc(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var ai={},Wt=vn(ai),ui=vn(ai),ci=vn(ai);function Un(t){if(t===ai)throw Error(r(174));return t}function bl(t,n){switch(Pe(ci,n),Pe(ui,t),Pe(Wt,ai),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ro(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Ro(n,t)}Te(Wt),Pe(Wt,n)}function vr(){Te(Wt),Te(ui),Te(ci)}function Kc(t){Un(ci.current);var n=Un(Wt.current),o=Ro(n,t.type);n!==o&&(Pe(ui,t),Pe(Wt,o))}function Rl(t){ui.current===t&&(Te(Wt),Te(ui))}var be=vn(0);function Rs(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Il=[];function Fl(){for(var t=0;t<Il.length;t++)Il[t]._workInProgressVersionPrimary=null;Il.length=0}var Is=I.ReactCurrentDispatcher,zl=I.ReactCurrentBatchConfig,jn=0,Re=null,Oe=null,He=null,Fs=!1,hi=!1,di=0,cg=0;function Ze(){throw Error(r(321))}function Ll(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Ft(t[o],n[o]))return!1;return!0}function Nl(t,n,o,u,d,f){if(jn=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Is.current=t===null||t.memoizedState===null?pg:mg,t=o(u,d),hi){f=0;do{if(hi=!1,di=0,25<=f)throw Error(r(301));f+=1,He=Oe=null,n.updateQueue=null,Is.current=gg,t=o(u,d)}while(hi)}if(Is.current=Ns,n=Oe!==null&&Oe.next!==null,jn=0,He=Oe=Re=null,Fs=!1,n)throw Error(r(300));return t}function Bl(){var t=di!==0;return di=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Re.memoizedState=He=t:He=He.next=t,He}function kt(){if(Oe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var n=He===null?Re.memoizedState:He.next;if(n!==null)He=n,Oe=t;else{if(t===null)throw Error(r(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},He===null?Re.memoizedState=He=t:He=He.next=t}return He}function fi(t,n){return typeof n=="function"?n(t):n}function Dl(t){var n=kt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=Oe,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var S=y=null,P=null,F=f;do{var O=F.lane;if((jn&O)===O)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var G={lane:O,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(S=P=G,y=u):P=P.next=G,Re.lanes|=O,Hn|=O}F=F.next}while(F!==null&&F!==f);P===null?y=u:P.next=S,Ft(u,n.memoizedState)||(ut=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do f=d.lane,Re.lanes|=f,Hn|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ol(t){var n=kt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,f=n.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do f=t(f,y.action),y=y.next;while(y!==d);Ft(f,n.memoizedState)||(ut=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,u]}function Zc(){}function Jc(t,n){var o=Re,u=kt(),d=n(),f=!Ft(u.memoizedState,d);if(f&&(u.memoizedState=d,ut=!0),u=u.queue,Gl(nh.bind(null,o,u,t),[t]),u.getSnapshot!==n||f||He!==null&&He.memoizedState.tag&1){if(o.flags|=2048,pi(9,th.bind(null,o,u,d,n),void 0,null),Ve===null)throw Error(r(349));(jn&30)!==0||eh(o,n,d)}return d}function eh(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function th(t,n,o,u){n.value=o,n.getSnapshot=u,rh(n)&&ih(t)}function nh(t,n,o){return o(function(){rh(n)&&ih(t)})}function rh(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Ft(t,o)}catch{return!0}}function ih(t){var n=nn(t,1);n!==null&&Dt(n,t,1,-1)}function sh(t){var n=Yt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},n.queue=t,t=t.dispatch=fg.bind(null,Re,t),[n.memoizedState,t]}function pi(t,n,o,u){return t={tag:t,create:n,destroy:o,deps:u,next:null},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,n.lastEffect=t)),t}function oh(){return kt().memoizedState}function zs(t,n,o,u){var d=Yt();Re.flags|=t,d.memoizedState=pi(1|n,o,void 0,u===void 0?null:u)}function Ls(t,n,o,u){var d=kt();u=u===void 0?null:u;var f=void 0;if(Oe!==null){var y=Oe.memoizedState;if(f=y.destroy,u!==null&&Ll(u,y.deps)){d.memoizedState=pi(n,o,f,u);return}}Re.flags|=t,d.memoizedState=pi(1|n,o,f,u)}function lh(t,n){return zs(8390656,8,t,n)}function Gl(t,n){return Ls(2048,8,t,n)}function ah(t,n){return Ls(4,2,t,n)}function uh(t,n){return Ls(4,4,t,n)}function ch(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function hh(t,n,o){return o=o!=null?o.concat([t]):null,Ls(4,4,ch.bind(null,n,t),o)}function Ul(){}function dh(t,n){var o=kt();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&Ll(n,u[1])?u[0]:(o.memoizedState=[t,n],t)}function fh(t,n){var o=kt();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&Ll(n,u[1])?u[0]:(t=t(),o.memoizedState=[t,n],t)}function ph(t,n,o){return(jn&21)===0?(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=o):(Ft(o,n)||(o=Vu(),Re.lanes|=o,Hn|=o,t.baseState=!0),n)}function hg(t,n){var o=ve;ve=o!==0&&4>o?o:4,t(!0);var u=zl.transition;zl.transition={};try{t(!1),n()}finally{ve=o,zl.transition=u}}function mh(){return kt().memoizedState}function dg(t,n,o){var u=En(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},gh(t))yh(n,o);else if(o=Yc(t,n,o,u),o!==null){var d=st();Dt(o,t,u,d),xh(o,n,u)}}function fg(t,n,o){var u=En(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(t))yh(n,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,o);if(d.hasEagerState=!0,d.eagerState=S,Ft(S,y)){var P=n.interleaved;P===null?(d.next=d,El(n)):(d.next=P.next,P.next=d),n.interleaved=d;return}}catch{}finally{}o=Yc(t,n,d,u),o!==null&&(d=st(),Dt(o,t,u,d),xh(o,n,u))}}function gh(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function yh(t,n){hi=Fs=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function xh(t,n,o){if((o&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,Ho(t,o)}}var Ns={readContext:Ct,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},pg={readContext:Ct,useCallback:function(t,n){return Yt().memoizedState=[t,n===void 0?null:n],t},useContext:Ct,useEffect:lh,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,zs(4194308,4,ch.bind(null,n,t),o)},useLayoutEffect:function(t,n){return zs(4194308,4,t,n)},useInsertionEffect:function(t,n){return zs(4,2,t,n)},useMemo:function(t,n){var o=Yt();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var u=Yt();return n=o!==void 0?o(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=dg.bind(null,Re,t),[u.memoizedState,t]},useRef:function(t){var n=Yt();return t={current:t},n.memoizedState=t},useState:sh,useDebugValue:Ul,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=sh(!1),n=t[0];return t=hg.bind(null,t[1]),Yt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var u=Re,d=Yt();if(Ae){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Ve===null)throw Error(r(349));(jn&30)!==0||eh(u,n,o)}d.memoizedState=o;var f={value:o,getSnapshot:n};return d.queue=f,lh(nh.bind(null,u,f,t),[t]),u.flags|=2048,pi(9,th.bind(null,u,f,o,n),void 0,null),o},useId:function(){var t=Yt(),n=Ve.identifierPrefix;if(Ae){var o=tn,u=en;o=(u&~(1<<32-It(u)-1)).toString(32)+o,n=":"+n+"R"+o,o=di++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=cg++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},mg={readContext:Ct,useCallback:dh,useContext:Ct,useEffect:Gl,useImperativeHandle:hh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:fh,useReducer:Dl,useRef:oh,useState:function(){return Dl(fi)},useDebugValue:Ul,useDeferredValue:function(t){var n=kt();return ph(n,Oe.memoizedState,t)},useTransition:function(){var t=Dl(fi)[0],n=kt().memoizedState;return[t,n]},useMutableSource:Zc,useSyncExternalStore:Jc,useId:mh,unstable_isNewReconciler:!1},gg={readContext:Ct,useCallback:dh,useContext:Ct,useEffect:Gl,useImperativeHandle:hh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:fh,useReducer:Ol,useRef:oh,useState:function(){return Ol(fi)},useDebugValue:Ul,useDeferredValue:function(t){var n=kt();return Oe===null?n.memoizedState=t:ph(n,Oe.memoizedState,t)},useTransition:function(){var t=Ol(fi)[0],n=kt().memoizedState;return[t,n]},useMutableSource:Zc,useSyncExternalStore:Jc,useId:mh,unstable_isNewReconciler:!1};function Lt(t,n){if(t&&t.defaultProps){n=W({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function jl(t,n,o,u){n=t.memoizedState,o=o(u,n),o=o==null?n:W({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Bs={isMounted:function(t){return(t=t._reactInternals)?Ln(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var u=st(),d=En(t),f=rn(u,d);f.payload=n,o!=null&&(f.callback=o),n=kn(t,f,d),n!==null&&(Dt(n,t,d,u),As(n,t,d))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var u=st(),d=En(t),f=rn(u,d);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=kn(t,f,d),n!==null&&(Dt(n,t,d,u),As(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=st(),u=En(t),d=rn(o,u);d.tag=2,n!=null&&(d.callback=n),n=kn(t,d,u),n!==null&&(Dt(n,t,u,o),As(n,t,u))}};function _h(t,n,o,u,d,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,y):n.prototype&&n.prototype.isPureReactComponent?!ei(o,u)||!ei(d,f):!0}function vh(t,n,o){var u=!1,d=wn,f=n.contextType;return typeof f=="object"&&f!==null?f=Ct(f):(d=at(n)?Bn:Ke.current,u=n.contextTypes,f=(u=u!=null)?fr(t,d):wn),n=new n(o,f),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bs,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),n}function wh(t,n,o,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==t&&Bs.enqueueReplaceState(n,n.state,null)}function Hl(t,n,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Al(t);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Ct(f):(f=at(n)?Bn:Ke.current,d.context=fr(t,f)),d.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(jl(t,n,f,o),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Bs.enqueueReplaceState(d,d.state,null),bs(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function wr(t,n){try{var o="",u=n;do o+=he(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:n,stack:d,digest:null}}function Vl(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function $l(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var yg=typeof WeakMap=="function"?WeakMap:Map;function Sh(t,n,o){o=rn(-1,o),o.tag=3,o.payload={element:null};var u=n.value;return o.callback=function(){Vs||(Vs=!0,oa=u),$l(t,n)},o}function Ch(t,n,o){o=rn(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=n.value;o.payload=function(){return u(d)},o.callback=function(){$l(t,n)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){$l(t,n),typeof u!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),o}function kh(t,n,o){var u=t.pingCache;if(u===null){u=t.pingCache=new yg;var d=new Set;u.set(n,d)}else d=u.get(n),d===void 0&&(d=new Set,u.set(n,d));d.has(o)||(d.add(o),t=Rg.bind(null,t,n,o),n.then(t,t))}function Ph(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Mh(t,n,o,u,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=rn(-1,1),n.tag=2,kn(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var xg=I.ReactCurrentOwner,ut=!1;function it(t,n,o,u){n.child=t===null?Wc(n,null,o,u):yr(n,t.child,o,u)}function Th(t,n,o,u,d){o=o.render;var f=n.ref;return _r(n,d),u=Nl(t,n,o,u,f,d),o=Bl(),t!==null&&!ut?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,sn(t,n,d)):(Ae&&o&&_l(n),n.flags|=1,it(t,n,u,d),n.child)}function Eh(t,n,o,u,d){if(t===null){var f=o.type;return typeof f=="function"&&!fa(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=f,Ah(t,n,f,u,d)):(t=Qs(o.type,null,u,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,(t.lanes&d)===0){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:ei,o(y,u)&&t.ref===n.ref)return sn(t,n,d)}return n.flags|=1,t=bn(f,u),t.ref=n.ref,t.return=n,n.child=t}function Ah(t,n,o,u,d){if(t!==null){var f=t.memoizedProps;if(ei(f,u)&&t.ref===n.ref)if(ut=!1,n.pendingProps=u=f,(t.lanes&d)!==0)(t.flags&131072)!==0&&(ut=!0);else return n.lanes=t.lanes,sn(t,n,d)}return Wl(t,n,o,u,d)}function bh(t,n,o){var u=n.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Cr,yt),yt|=o;else{if((o&1073741824)===0)return t=f!==null?f.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Pe(Cr,yt),yt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,Pe(Cr,yt),yt|=u}else f!==null?(u=f.baseLanes|o,n.memoizedState=null):u=o,Pe(Cr,yt),yt|=u;return it(t,n,d,o),n.child}function Rh(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Wl(t,n,o,u,d){var f=at(o)?Bn:Ke.current;return f=fr(n,f),_r(n,d),o=Nl(t,n,o,u,f,d),u=Bl(),t!==null&&!ut?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,sn(t,n,d)):(Ae&&u&&_l(n),n.flags|=1,it(t,n,o,d),n.child)}function Ih(t,n,o,u,d){if(at(o)){var f=!0;ws(n)}else f=!1;if(_r(n,d),n.stateNode===null)Os(t,n),vh(n,o,u),Hl(n,o,u,d),u=!0;else if(t===null){var y=n.stateNode,S=n.memoizedProps;y.props=S;var P=y.context,F=o.contextType;typeof F=="object"&&F!==null?F=Ct(F):(F=at(o)?Bn:Ke.current,F=fr(n,F));var O=o.getDerivedStateFromProps,G=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function";G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==u||P!==F)&&wh(n,y,u,F),Cn=!1;var D=n.memoizedState;y.state=D,bs(n,u,y,d),P=n.memoizedState,S!==u||D!==P||lt.current||Cn?(typeof O=="function"&&(jl(n,o,O,u),P=n.memoizedState),(S=Cn||_h(n,o,S,u,D,P,F))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=P),y.props=u,y.state=P,y.context=F,u=S):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Xc(t,n),S=n.memoizedProps,F=n.type===n.elementType?S:Lt(n.type,S),y.props=F,G=n.pendingProps,D=y.context,P=o.contextType,typeof P=="object"&&P!==null?P=Ct(P):(P=at(o)?Bn:Ke.current,P=fr(n,P));var q=o.getDerivedStateFromProps;(O=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==G||D!==P)&&wh(n,y,u,P),Cn=!1,D=n.memoizedState,y.state=D,bs(n,u,y,d);var Z=n.memoizedState;S!==G||D!==Z||lt.current||Cn?(typeof q=="function"&&(jl(n,o,q,u),Z=n.memoizedState),(F=Cn||_h(n,o,F,u,D,Z,P)||!1)?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,P)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Z),y.props=u,y.state=Z,y.context=P,u=F):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),u=!1)}return Yl(t,n,o,u,f,d)}function Yl(t,n,o,u,d,f){Rh(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return d&&Bc(n,o,!1),sn(t,n,f);u=n.stateNode,xg.current=n;var S=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=yr(n,t.child,null,f),n.child=yr(n,null,S,f)):it(t,n,S,f),n.memoizedState=u.state,d&&Bc(n,o,!0),n.child}function Fh(t){var n=t.stateNode;n.pendingContext?Lc(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Lc(t,n.context,!1),bl(t,n.containerInfo)}function zh(t,n,o,u,d){return gr(),Cl(d),n.flags|=256,it(t,n,o,u),n.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function ql(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lh(t,n,o){var u=n.pendingProps,d=be.current,f=!1,y=(n.flags&128)!==0,S;if((S=y)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(f=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Pe(be,d&1),t===null)return Sl(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,f?(u=n.mode,f=n.child,y={mode:"hidden",children:y},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Ks(y,u,0,null),t=Yn(t,u,o,null),f.return=n,t.return=n,f.sibling=t,n.child=f,n.child.memoizedState=ql(o),n.memoizedState=Xl,t):Ql(n,y));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return _g(t,n,y,u,S,d,o);if(f){f=u.fallback,y=n.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==d?(u=n.child,u.childLanes=0,u.pendingProps=P,n.deletions=null):(u=bn(d,P),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=bn(S,f):(f=Yn(f,y,o,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,y=t.child.memoizedState,y=y===null?ql(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=t.childLanes&~o,n.memoizedState=Xl,u}return f=t.child,t=f.sibling,u=bn(f,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=o),u.return=n,u.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=u,n.memoizedState=null,u}function Ql(t,n){return n=Ks({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ds(t,n,o,u){return u!==null&&Cl(u),yr(n,t.child,null,o),t=Ql(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _g(t,n,o,u,d,f,y){if(o)return n.flags&256?(n.flags&=-257,u=Vl(Error(r(422))),Ds(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(f=u.fallback,d=n.mode,u=Ks({mode:"visible",children:u.children},d,0,null),f=Yn(f,d,y,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,(n.mode&1)!==0&&yr(n,t.child,null,y),n.child.memoizedState=ql(y),n.memoizedState=Xl,f);if((n.mode&1)===0)return Ds(t,n,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,f=Error(r(419)),u=Vl(f,u,void 0),Ds(t,n,y,u)}if(S=(y&t.childLanes)!==0,ut||S){if(u=Ve,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,nn(t,d),Dt(u,t,d,-1))}return da(),u=Vl(Error(r(421))),Ds(t,n,y,u)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=Ig.bind(null,t),d._reactRetry=n,null):(t=f.treeContext,gt=_n(d.nextSibling),mt=n,Ae=!0,zt=null,t!==null&&(wt[St++]=en,wt[St++]=tn,wt[St++]=Dn,en=t.id,tn=t.overflow,Dn=n),n=Ql(n,u.children),n.flags|=4096,n)}function Nh(t,n,o){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Tl(t.return,n,o)}function Kl(t,n,o,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function Bh(t,n,o){var u=n.pendingProps,d=u.revealOrder,f=u.tail;if(it(t,n,u.children,o),u=be.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nh(t,o,n);else if(t.tag===19)Nh(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Pe(be,u),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)t=o.alternate,t!==null&&Rs(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Kl(n,!1,d,o,f);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Rs(t)===null){n.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Kl(n,!0,o,null,f);break;case"together":Kl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Os(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function sn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),Hn|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,o=bn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=bn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function vg(t,n,o){switch(n.tag){case 3:Fh(n),gr();break;case 5:Kc(n);break;case 1:at(n.type)&&ws(n);break;case 4:bl(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,d=n.memoizedProps.value;Pe(Ts,u._currentValue),u._currentValue=d;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Pe(be,be.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Lh(t,n,o):(Pe(be,be.current&1),t=sn(t,n,o),t!==null?t.sibling:null);Pe(be,be.current&1);break;case 19:if(u=(o&n.childLanes)!==0,(t.flags&128)!==0){if(u)return Bh(t,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Pe(be,be.current),u)break;return null;case 22:case 23:return n.lanes=0,bh(t,n,o)}return sn(t,n,o)}var Dh,Zl,Oh,Gh;Dh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Zl=function(){},Oh=function(t,n,o,u){var d=t.memoizedProps;if(d!==u){t=n.stateNode,Un(Wt.current);var f=null;switch(o){case"input":d=Rt(t,d),u=Rt(t,u),f=[];break;case"select":d=W({},d,{value:void 0}),u=W({},u,{value:void 0}),f=[];break;case"textarea":d=bo(t,d),u=bo(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=xs)}Io(o,u);var y;o=null;for(F in d)if(!u.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var S=d[F];for(y in S)S.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(l.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in u){var P=u[F];if(S=d!=null?d[F]:void 0,u.hasOwnProperty(F)&&P!==S&&(P!=null||S!=null))if(F==="style")if(S){for(y in S)!S.hasOwnProperty(y)||P&&P.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in P)P.hasOwnProperty(y)&&S[y]!==P[y]&&(o||(o={}),o[y]=P[y])}else o||(f||(f=[]),f.push(F,o)),o=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(f=f||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(l.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&Me("scroll",t),f||S===P||(f=[])):(f=f||[]).push(F,P))}o&&(f=f||[]).push("style",o);var F=f;(n.updateQueue=F)&&(n.flags|=4)}},Gh=function(t,n,o,u){o!==u&&(n.flags|=4)};function mi(t,n){if(!Ae)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Je(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(n)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,n}function wg(t,n,o){var u=n.pendingProps;switch(vl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return at(n.type)&&vs(),Je(n),null;case 3:return u=n.stateNode,vr(),Te(lt),Te(Ke),Fl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ps(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zt!==null&&(ua(zt),zt=null))),Zl(t,n),Je(n),null;case 5:Rl(n);var d=Un(ci.current);if(o=n.type,t!==null&&n.stateNode!=null)Oh(t,n,o,u,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Je(n),null}if(t=Un(Wt.current),Ps(n)){u=n.stateNode,o=n.type;var f=n.memoizedProps;switch(u[$t]=n,u[si]=f,t=(n.mode&1)!==0,o){case"dialog":Me("cancel",u),Me("close",u);break;case"iframe":case"object":case"embed":Me("load",u);break;case"video":case"audio":for(d=0;d<ni.length;d++)Me(ni[d],u);break;case"source":Me("error",u);break;case"img":case"image":case"link":Me("error",u),Me("load",u);break;case"details":Me("toggle",u);break;case"input":Ht(u,f),Me("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Me("invalid",u);break;case"textarea":Cu(u,f),Me("invalid",u)}Io(o,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var S=f[y];y==="children"?typeof S=="string"?u.textContent!==S&&(f.suppressHydrationWarning!==!0&&ys(u.textContent,S,t),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&ys(u.textContent,S,t),d=["children",""+S]):l.hasOwnProperty(y)&&S!=null&&y==="onScroll"&&Me("scroll",u)}switch(o){case"input":dn(u),Xi(u,f,!0);break;case"textarea":dn(u),Pu(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=xs)}u=d,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mu(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[$t]=n,t[si]=u,Dh(t,n,!1,!1),n.stateNode=t;e:{switch(y=Fo(o,u),o){case"dialog":Me("cancel",t),Me("close",t),d=u;break;case"iframe":case"object":case"embed":Me("load",t),d=u;break;case"video":case"audio":for(d=0;d<ni.length;d++)Me(ni[d],t);d=u;break;case"source":Me("error",t),d=u;break;case"img":case"image":case"link":Me("error",t),Me("load",t),d=u;break;case"details":Me("toggle",t),d=u;break;case"input":Ht(t,u),d=Rt(t,u),Me("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=W({},u,{value:void 0}),Me("invalid",t);break;case"textarea":Cu(t,u),d=bo(t,u),Me("invalid",t);break;default:d=u}Io(o,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var P=S[f];f==="style"?Au(t,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Tu(t,P)):f==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Br(t,P):typeof P=="number"&&Br(t,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?P!=null&&f==="onScroll"&&Me("scroll",t):P!=null&&z(t,f,P,y))}switch(o){case"input":dn(t),Xi(t,u,!1);break;case"textarea":dn(t),Pu(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ge(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?tr(t,!!u.multiple,f,!1):u.defaultValue!=null&&tr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=xs)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Je(n),null;case 6:if(t&&n.stateNode!=null)Gh(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(o=Un(ci.current),Un(Wt.current),Ps(n)){if(u=n.stateNode,o=n.memoizedProps,u[$t]=n,(f=u.nodeValue!==o)&&(t=mt,t!==null))switch(t.tag){case 3:ys(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(u.nodeValue,o,(t.mode&1)!==0)}f&&(n.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[$t]=n,n.stateNode=u}return Je(n),null;case 13:if(Te(be),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&gt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Hc(),gr(),n.flags|=98560,f=!1;else if(f=Ps(n),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[$t]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Je(n),f=!1}else zt!==null&&(ua(zt),zt=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(be.current&1)!==0?Ge===0&&(Ge=3):da())),n.updateQueue!==null&&(n.flags|=4),Je(n),null);case 4:return vr(),Zl(t,n),t===null&&ri(n.stateNode.containerInfo),Je(n),null;case 10:return Ml(n.type._context),Je(n),null;case 17:return at(n.type)&&vs(),Je(n),null;case 19:if(Te(be),f=n.memoizedState,f===null)return Je(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)mi(f,!1);else{if(Ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=Rs(t),y!==null){for(n.flags|=128,mi(f,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=o,o=n.child;o!==null;)f=o,t=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,t=y.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Pe(be,be.current&1|2),n.child}t=t.sibling}f.tail!==null&&Le()>kr&&(n.flags|=128,u=!0,mi(f,!1),n.lanes=4194304)}else{if(!u)if(t=Rs(y),t!==null){if(n.flags|=128,u=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ae)return Je(n),null}else 2*Le()-f.renderingStartTime>kr&&o!==1073741824&&(n.flags|=128,u=!0,mi(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(o=f.last,o!==null?o.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Le(),n.sibling=null,o=be.current,Pe(be,u?o&1|2:o&1),n):(Je(n),null);case 22:case 23:return ha(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(yt&1073741824)!==0&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Sg(t,n){switch(vl(n),n.tag){case 1:return at(n.type)&&vs(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vr(),Te(lt),Te(Ke),Fl(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Rl(n),null;case 13:if(Te(be),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Te(be),null;case 4:return vr(),null;case 10:return Ml(n.type._context),null;case 22:case 23:return ha(),null;case 24:return null;default:return null}}var Gs=!1,et=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Sr(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Fe(t,n,u)}else o.current=null}function Jl(t,n,o){try{o()}catch(u){Fe(t,n,u)}}var Uh=!1;function kg(t,n){if(hl=os,t=_c(),rl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,S=-1,P=-1,F=0,O=0,G=t,D=null;t:for(;;){for(var q;G!==o||d!==0&&G.nodeType!==3||(S=y+d),G!==f||u!==0&&G.nodeType!==3||(P=y+u),G.nodeType===3&&(y+=G.nodeValue.length),(q=G.firstChild)!==null;)D=G,G=q;for(;;){if(G===t)break t;if(D===o&&++F===d&&(S=y),D===f&&++O===u&&(P=y),(q=G.nextSibling)!==null)break;G=D,D=G.parentNode}G=q}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(dl={focusedElem:t,selectionRange:o},os=!1,Q=n;Q!==null;)if(n=Q,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Q=t;else for(;Q!==null;){n=Q;try{var Z=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var J=Z.memoizedProps,Ne=Z.memoizedState,E=n.stateNode,M=E.getSnapshotBeforeUpdate(n.elementType===n.type?J:Lt(n.type,J),Ne);E.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(j){Fe(n,n.return,j)}if(t=n.sibling,t!==null){t.return=n.return,Q=t;break}Q=n.return}return Z=Uh,Uh=!1,Z}function gi(t,n,o){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&Jl(n,o,f)}d=d.next}while(d!==u)}}function Us(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==n)}}function ea(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function jh(t){var n=t.alternate;n!==null&&(t.alternate=null,jh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[$t],delete n[si],delete n[gl],delete n[og],delete n[lg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hh(t){return t.tag===5||t.tag===3||t.tag===4}function Vh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ta(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=xs));else if(u!==4&&(t=t.child,t!==null))for(ta(t,n,o),t=t.sibling;t!==null;)ta(t,n,o),t=t.sibling}function na(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(na(t,n,o),t=t.sibling;t!==null;)na(t,n,o),t=t.sibling}var qe=null,Nt=!1;function Pn(t,n,o){for(o=o.child;o!==null;)$h(t,n,o),o=o.sibling}function $h(t,n,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(es,o)}catch{}switch(o.tag){case 5:et||Sr(o,n);case 6:var u=qe,d=Nt;qe=null,Pn(t,n,o),qe=u,Nt=d,qe!==null&&(Nt?(t=qe,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):qe.removeChild(o.stateNode));break;case 18:qe!==null&&(Nt?(t=qe,o=o.stateNode,t.nodeType===8?ml(t.parentNode,o):t.nodeType===1&&ml(t,o),Xr(t)):ml(qe,o.stateNode));break;case 4:u=qe,d=Nt,qe=o.stateNode.containerInfo,Nt=!0,Pn(t,n,o),qe=u,Nt=d;break;case 0:case 11:case 14:case 15:if(!et&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Jl(o,n,y),d=d.next}while(d!==u)}Pn(t,n,o);break;case 1:if(!et&&(Sr(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Fe(o,n,S)}Pn(t,n,o);break;case 21:Pn(t,n,o);break;case 22:o.mode&1?(et=(u=et)||o.memoizedState!==null,Pn(t,n,o),et=u):Pn(t,n,o);break;default:Pn(t,n,o)}}function Wh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Cg),n.forEach(function(u){var d=Fg.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Bt(t,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 5:qe=S.stateNode,Nt=!1;break e;case 3:qe=S.stateNode.containerInfo,Nt=!0;break e;case 4:qe=S.stateNode.containerInfo,Nt=!0;break e}S=S.return}if(qe===null)throw Error(r(160));$h(f,y,d),qe=null,Nt=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(F){Fe(d,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Yh(n,t),n=n.sibling}function Yh(t,n){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bt(n,t),Xt(t),u&4){try{gi(3,t,t.return),Us(3,t)}catch(J){Fe(t,t.return,J)}try{gi(5,t,t.return)}catch(J){Fe(t,t.return,J)}}break;case 1:Bt(n,t),Xt(t),u&512&&o!==null&&Sr(o,o.return);break;case 5:if(Bt(n,t),Xt(t),u&512&&o!==null&&Sr(o,o.return),t.flags&32){var d=t.stateNode;try{Br(d,"")}catch(J){Fe(t,t.return,J)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,y=o!==null?o.memoizedProps:f,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Yi(d,f),Fo(S,y);var F=Fo(S,f);for(y=0;y<P.length;y+=2){var O=P[y],G=P[y+1];O==="style"?Au(d,G):O==="dangerouslySetInnerHTML"?Tu(d,G):O==="children"?Br(d,G):z(d,O,G,F)}switch(S){case"input":er(d,f);break;case"textarea":ku(d,f);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var q=f.value;q!=null?tr(d,!!f.multiple,q,!1):D!==!!f.multiple&&(f.defaultValue!=null?tr(d,!!f.multiple,f.defaultValue,!0):tr(d,!!f.multiple,f.multiple?[]:"",!1))}d[si]=f}catch(J){Fe(t,t.return,J)}}break;case 6:if(Bt(n,t),Xt(t),u&4){if(t.stateNode===null)throw Error(r(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(J){Fe(t,t.return,J)}}break;case 3:if(Bt(n,t),Xt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xr(n.containerInfo)}catch(J){Fe(t,t.return,J)}break;case 4:Bt(n,t),Xt(t);break;case 13:Bt(n,t),Xt(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(sa=Le())),u&4&&Wh(t);break;case 22:if(O=o!==null&&o.memoizedState!==null,t.mode&1?(et=(F=et)||O,Bt(n,t),et=F):Bt(n,t),Xt(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!O&&(t.mode&1)!==0)for(Q=t,O=t.child;O!==null;){for(G=Q=O;Q!==null;){switch(D=Q,q=D.child,D.tag){case 0:case 11:case 14:case 15:gi(4,D,D.return);break;case 1:Sr(D,D.return);var Z=D.stateNode;if(typeof Z.componentWillUnmount=="function"){u=D,o=D.return;try{n=u,Z.props=n.memoizedProps,Z.state=n.memoizedState,Z.componentWillUnmount()}catch(J){Fe(u,o,J)}}break;case 5:Sr(D,D.return);break;case 22:if(D.memoizedState!==null){Qh(G);continue}}q!==null?(q.return=D,Q=q):Qh(G)}O=O.sibling}e:for(O=null,G=t;;){if(G.tag===5){if(O===null){O=G;try{d=G.stateNode,F?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=G.stateNode,P=G.memoizedProps.style,y=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Eu("display",y))}catch(J){Fe(t,t.return,J)}}}else if(G.tag===6){if(O===null)try{G.stateNode.nodeValue=F?"":G.memoizedProps}catch(J){Fe(t,t.return,J)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;O===G&&(O=null),G=G.return}O===G&&(O=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Bt(n,t),Xt(t),u&4&&Wh(t);break;case 21:break;default:Bt(n,t),Xt(t)}}function Xt(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(Hh(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Br(d,""),u.flags&=-33);var f=Vh(t);na(t,f,d);break;case 3:case 4:var y=u.stateNode.containerInfo,S=Vh(t);ta(t,S,y);break;default:throw Error(r(161))}}catch(P){Fe(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pg(t,n,o){Q=t,Xh(t)}function Xh(t,n,o){for(var u=(t.mode&1)!==0;Q!==null;){var d=Q,f=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||Gs;if(!y){var S=d.alternate,P=S!==null&&S.memoizedState!==null||et;S=Gs;var F=et;if(Gs=y,(et=P)&&!F)for(Q=d;Q!==null;)y=Q,P=y.child,y.tag===22&&y.memoizedState!==null?Kh(d):P!==null?(P.return=y,Q=P):Kh(d);for(;f!==null;)Q=f,Xh(f),f=f.sibling;Q=d,Gs=S,et=F}qh(t)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Q=f):qh(t)}}function qh(t){for(;Q!==null;){var n=Q;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:et||Us(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!et)if(o===null)u.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:Lt(n.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Qc(n,f,u);break;case 3:var y=n.updateQueue;if(y!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Qc(n,y,o)}break;case 5:var S=n.stateNode;if(o===null&&n.flags&4){o=S;var P=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var O=F.memoizedState;if(O!==null){var G=O.dehydrated;G!==null&&Xr(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}et||n.flags&512&&ea(n)}catch(D){Fe(n,n.return,D)}}if(n===t){Q=null;break}if(o=n.sibling,o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Qh(t){for(;Q!==null;){var n=Q;if(n===t){Q=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Kh(t){for(;Q!==null;){var n=Q;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Us(4,n)}catch(P){Fe(n,o,P)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var d=n.return;try{u.componentDidMount()}catch(P){Fe(n,d,P)}}var f=n.return;try{ea(n)}catch(P){Fe(n,f,P)}break;case 5:var y=n.return;try{ea(n)}catch(P){Fe(n,y,P)}}}catch(P){Fe(n,n.return,P)}if(n===t){Q=null;break}var S=n.sibling;if(S!==null){S.return=n.return,Q=S;break}Q=n.return}}var Mg=Math.ceil,js=I.ReactCurrentDispatcher,ra=I.ReactCurrentOwner,Pt=I.ReactCurrentBatchConfig,me=0,Ve=null,De=null,Qe=0,yt=0,Cr=vn(0),Ge=0,yi=null,Hn=0,Hs=0,ia=0,xi=null,ct=null,sa=0,kr=1/0,on=null,Vs=!1,oa=null,Mn=null,$s=!1,Tn=null,Ws=0,_i=0,la=null,Ys=-1,Xs=0;function st(){return(me&6)!==0?Le():Ys!==-1?Ys:Ys=Le()}function En(t){return(t.mode&1)===0?1:(me&2)!==0&&Qe!==0?Qe&-Qe:ug.transition!==null?(Xs===0&&(Xs=Vu()),Xs):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Ju(t.type)),t)}function Dt(t,n,o,u){if(50<_i)throw _i=0,la=null,Error(r(185));Hr(t,o,u),((me&2)===0||t!==Ve)&&(t===Ve&&((me&2)===0&&(Hs|=o),Ge===4&&An(t,Qe)),ht(t,u),o===1&&me===0&&(n.mode&1)===0&&(kr=Le()+500,Ss&&Sn()))}function ht(t,n){var o=t.callbackNode;um(t,n);var u=rs(t,t===Ve?Qe:0);if(u===0)o!==null&&Uu(o),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(o!=null&&Uu(o),n===1)t.tag===0?ag(Jh.bind(null,t)):Dc(Jh.bind(null,t)),ig(function(){(me&6)===0&&Sn()}),o=null;else{switch($u(u)){case 1:o=Go;break;case 4:o=ju;break;case 16:o=Ji;break;case 536870912:o=Hu;break;default:o=Ji}o=ld(o,Zh.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function Zh(t,n){if(Ys=-1,Xs=0,(me&6)!==0)throw Error(r(327));var o=t.callbackNode;if(Pr()&&t.callbackNode!==o)return null;var u=rs(t,t===Ve?Qe:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=qs(t,u);else{n=u;var d=me;me|=2;var f=td();(Ve!==t||Qe!==n)&&(on=null,kr=Le()+500,$n(t,n));do try{Ag();break}catch(S){ed(t,S)}while(!0);Pl(),js.current=f,me=d,De!==null?n=0:(Ve=null,Qe=0,n=Ge)}if(n!==0){if(n===2&&(d=Uo(t),d!==0&&(u=d,n=aa(t,d))),n===1)throw o=yi,$n(t,0),An(t,u),ht(t,Le()),o;if(n===6)An(t,u);else{if(d=t.current.alternate,(u&30)===0&&!Tg(d)&&(n=qs(t,u),n===2&&(f=Uo(t),f!==0&&(u=f,n=aa(t,f))),n===1))throw o=yi,$n(t,0),An(t,u),ht(t,Le()),o;switch(t.finishedWork=d,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Wn(t,ct,on);break;case 3:if(An(t,u),(u&130023424)===u&&(n=sa+500-Le(),10<n)){if(rs(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){st(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=pl(Wn.bind(null,t,ct,on),n);break}Wn(t,ct,on);break;case 4:if(An(t,u),(u&4194240)===u)break;for(n=t.eventTimes,d=-1;0<u;){var y=31-It(u);f=1<<y,y=n[y],y>d&&(d=y),u&=~f}if(u=d,u=Le()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Mg(u/1960))-u,10<u){t.timeoutHandle=pl(Wn.bind(null,t,ct,on),u);break}Wn(t,ct,on);break;case 5:Wn(t,ct,on);break;default:throw Error(r(329))}}}return ht(t,Le()),t.callbackNode===o?Zh.bind(null,t):null}function aa(t,n){var o=xi;return t.current.memoizedState.isDehydrated&&($n(t,n).flags|=256),t=qs(t,n),t!==2&&(n=ct,ct=o,n!==null&&ua(n)),t}function ua(t){ct===null?ct=t:ct.push.apply(ct,t)}function Tg(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Ft(f(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function An(t,n){for(n&=~ia,n&=~Hs,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-It(n),u=1<<o;t[o]=-1,n&=~u}}function Jh(t){if((me&6)!==0)throw Error(r(327));Pr();var n=rs(t,0);if((n&1)===0)return ht(t,Le()),null;var o=qs(t,n);if(t.tag!==0&&o===2){var u=Uo(t);u!==0&&(n=u,o=aa(t,u))}if(o===1)throw o=yi,$n(t,0),An(t,n),ht(t,Le()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Wn(t,ct,on),ht(t,Le()),null}function ca(t,n){var o=me;me|=1;try{return t(n)}finally{me=o,me===0&&(kr=Le()+500,Ss&&Sn())}}function Vn(t){Tn!==null&&Tn.tag===0&&(me&6)===0&&Pr();var n=me;me|=1;var o=Pt.transition,u=ve;try{if(Pt.transition=null,ve=1,t)return t()}finally{ve=u,Pt.transition=o,me=n,(me&6)===0&&Sn()}}function ha(){yt=Cr.current,Te(Cr)}function $n(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,rg(o)),De!==null)for(o=De.return;o!==null;){var u=o;switch(vl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&vs();break;case 3:vr(),Te(lt),Te(Ke),Fl();break;case 5:Rl(u);break;case 4:vr();break;case 13:Te(be);break;case 19:Te(be);break;case 10:Ml(u.type._context);break;case 22:case 23:ha()}o=o.return}if(Ve=t,De=t=bn(t.current,null),Qe=yt=n,Ge=0,yi=null,ia=Hs=Hn=0,ct=xi=null,Gn!==null){for(n=0;n<Gn.length;n++)if(o=Gn[n],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var y=f.next;f.next=d,u.next=y}o.pending=u}Gn=null}return t}function ed(t,n){do{var o=De;try{if(Pl(),Is.current=Ns,Fs){for(var u=Re.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Fs=!1}if(jn=0,He=Oe=Re=null,hi=!1,di=0,ra.current=null,o===null||o.return===null){Ge=1,yi=n,De=null;break}e:{var f=t,y=o.return,S=o,P=n;if(n=Qe,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,O=S,G=O.tag;if((O.mode&1)===0&&(G===0||G===11||G===15)){var D=O.alternate;D?(O.updateQueue=D.updateQueue,O.memoizedState=D.memoizedState,O.lanes=D.lanes):(O.updateQueue=null,O.memoizedState=null)}var q=Ph(y);if(q!==null){q.flags&=-257,Mh(q,y,S,f,n),q.mode&1&&kh(f,F,n),n=q,P=F;var Z=n.updateQueue;if(Z===null){var J=new Set;J.add(P),n.updateQueue=J}else Z.add(P);break e}else{if((n&1)===0){kh(f,F,n),da();break e}P=Error(r(426))}}else if(Ae&&S.mode&1){var Ne=Ph(y);if(Ne!==null){(Ne.flags&65536)===0&&(Ne.flags|=256),Mh(Ne,y,S,f,n),Cl(wr(P,S));break e}}f=P=wr(P,S),Ge!==4&&(Ge=2),xi===null?xi=[f]:xi.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var E=Sh(f,P,n);qc(f,E);break e;case 1:S=P;var M=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Mn===null||!Mn.has(R)))){f.flags|=65536,n&=-n,f.lanes|=n;var j=Ch(f,S,n);qc(f,j);break e}}f=f.return}while(f!==null)}rd(o)}catch(ee){n=ee,De===o&&o!==null&&(De=o=o.return);continue}break}while(!0)}function td(){var t=js.current;return js.current=Ns,t===null?Ns:t}function da(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ve===null||(Hn&268435455)===0&&(Hs&268435455)===0||An(Ve,Qe)}function qs(t,n){var o=me;me|=2;var u=td();(Ve!==t||Qe!==n)&&(on=null,$n(t,n));do try{Eg();break}catch(d){ed(t,d)}while(!0);if(Pl(),me=o,js.current=u,De!==null)throw Error(r(261));return Ve=null,Qe=0,Ge}function Eg(){for(;De!==null;)nd(De)}function Ag(){for(;De!==null&&!em();)nd(De)}function nd(t){var n=od(t.alternate,t,yt);t.memoizedProps=t.pendingProps,n===null?rd(t):De=n,ra.current=null}function rd(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=wg(o,n,yt),o!==null){De=o;return}}else{if(o=Sg(o,n),o!==null){o.flags&=32767,De=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,De=null;return}}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);Ge===0&&(Ge=5)}function Wn(t,n,o){var u=ve,d=Pt.transition;try{Pt.transition=null,ve=1,bg(t,n,o,u)}finally{Pt.transition=d,ve=u}return null}function bg(t,n,o,u){do Pr();while(Tn!==null);if((me&6)!==0)throw Error(r(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(cm(t,f),t===Ve&&(De=Ve=null,Qe=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||$s||($s=!0,ld(Ji,function(){return Pr(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Pt.transition,Pt.transition=null;var y=ve;ve=1;var S=me;me|=4,ra.current=null,kg(t,o),Yh(o,t),Qm(dl),os=!!hl,dl=hl=null,t.current=o,Pg(o),tm(),me=S,ve=y,Pt.transition=f}else t.current=o;if($s&&($s=!1,Tn=t,Ws=d),f=t.pendingLanes,f===0&&(Mn=null),im(o.stateNode),ht(t,Le()),n!==null)for(u=t.onRecoverableError,o=0;o<n.length;o++)d=n[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Vs)throw Vs=!1,t=oa,oa=null,t;return(Ws&1)!==0&&t.tag!==0&&Pr(),f=t.pendingLanes,(f&1)!==0?t===la?_i++:(_i=0,la=t):_i=0,Sn(),null}function Pr(){if(Tn!==null){var t=$u(Ws),n=Pt.transition,o=ve;try{if(Pt.transition=null,ve=16>t?16:t,Tn===null)var u=!1;else{if(t=Tn,Tn=null,Ws=0,(me&6)!==0)throw Error(r(331));var d=me;for(me|=4,Q=t.current;Q!==null;){var f=Q,y=f.child;if((Q.flags&16)!==0){var S=f.deletions;if(S!==null){for(var P=0;P<S.length;P++){var F=S[P];for(Q=F;Q!==null;){var O=Q;switch(O.tag){case 0:case 11:case 15:gi(8,O,f)}var G=O.child;if(G!==null)G.return=O,Q=G;else for(;Q!==null;){O=Q;var D=O.sibling,q=O.return;if(jh(O),O===F){Q=null;break}if(D!==null){D.return=q,Q=D;break}Q=q}}}var Z=f.alternate;if(Z!==null){var J=Z.child;if(J!==null){Z.child=null;do{var Ne=J.sibling;J.sibling=null,J=Ne}while(J!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Q=y;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:gi(9,f,f.return)}var E=f.sibling;if(E!==null){E.return=f.return,Q=E;break e}Q=f.return}}var M=t.current;for(Q=M;Q!==null;){y=Q;var R=y.child;if((y.subtreeFlags&2064)!==0&&R!==null)R.return=y,Q=R;else e:for(y=M;Q!==null;){if(S=Q,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Us(9,S)}}catch(ee){Fe(S,S.return,ee)}if(S===y){Q=null;break e}var j=S.sibling;if(j!==null){j.return=S.return,Q=j;break e}Q=S.return}}if(me=d,Sn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(es,t)}catch{}u=!0}return u}finally{ve=o,Pt.transition=n}}return!1}function id(t,n,o){n=wr(o,n),n=Sh(t,n,1),t=kn(t,n,1),n=st(),t!==null&&(Hr(t,1,n),ht(t,n))}function Fe(t,n,o){if(t.tag===3)id(t,t,o);else for(;n!==null;){if(n.tag===3){id(n,t,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mn===null||!Mn.has(u))){t=wr(o,t),t=Ch(n,t,1),n=kn(n,t,1),t=st(),n!==null&&(Hr(n,1,t),ht(n,t));break}}n=n.return}}function Rg(t,n,o){var u=t.pingCache;u!==null&&u.delete(n),n=st(),t.pingedLanes|=t.suspendedLanes&o,Ve===t&&(Qe&o)===o&&(Ge===4||Ge===3&&(Qe&130023424)===Qe&&500>Le()-sa?$n(t,0):ia|=o),ht(t,n)}function sd(t,n){n===0&&((t.mode&1)===0?n=1:(n=ns,ns<<=1,(ns&130023424)===0&&(ns=4194304)));var o=st();t=nn(t,n),t!==null&&(Hr(t,n,o),ht(t,o))}function Ig(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),sd(t,o)}function Fg(t,n){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),sd(t,o)}var od;od=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||lt.current)ut=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return ut=!1,vg(t,n,o);ut=(t.flags&131072)!==0}else ut=!1,Ae&&(n.flags&1048576)!==0&&Oc(n,ks,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Os(t,n),t=n.pendingProps;var d=fr(n,Ke.current);_r(n,o),d=Nl(null,n,u,t,d,o);var f=Bl();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,at(u)?(f=!0,ws(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Al(n),d.updater=Bs,n.stateNode=d,d._reactInternals=n,Hl(n,u,t,o),n=Yl(null,n,u,!0,f,o)):(n.tag=0,Ae&&f&&_l(n),it(null,n,d,o),n=n.child),n;case 16:u=n.elementType;e:{switch(Os(t,n),t=n.pendingProps,d=u._init,u=d(u._payload),n.type=u,d=n.tag=Lg(u),t=Lt(u,t),d){case 0:n=Wl(null,n,u,t,o);break e;case 1:n=Ih(null,n,u,t,o);break e;case 11:n=Th(null,n,u,t,o);break e;case 14:n=Eh(null,n,u,Lt(u.type,t),o);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:Lt(u,d),Wl(t,n,u,d,o);case 1:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:Lt(u,d),Ih(t,n,u,d,o);case 3:e:{if(Fh(n),t===null)throw Error(r(387));u=n.pendingProps,f=n.memoizedState,d=f.element,Xc(t,n),bs(n,u,null,o);var y=n.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=wr(Error(r(423)),n),n=zh(t,n,u,o,d);break e}else if(u!==d){d=wr(Error(r(424)),n),n=zh(t,n,u,o,d);break e}else for(gt=_n(n.stateNode.containerInfo.firstChild),mt=n,Ae=!0,zt=null,o=Wc(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gr(),u===d){n=sn(t,n,o);break e}it(t,n,u,o)}n=n.child}return n;case 5:return Kc(n),t===null&&Sl(n),u=n.type,d=n.pendingProps,f=t!==null?t.memoizedProps:null,y=d.children,fl(u,d)?y=null:f!==null&&fl(u,f)&&(n.flags|=32),Rh(t,n),it(t,n,y,o),n.child;case 6:return t===null&&Sl(n),null;case 13:return Lh(t,n,o);case 4:return bl(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=yr(n,null,u,o):it(t,n,u,o),n.child;case 11:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:Lt(u,d),Th(t,n,u,d,o);case 7:return it(t,n,n.pendingProps,o),n.child;case 8:return it(t,n,n.pendingProps.children,o),n.child;case 12:return it(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(u=n.type._context,d=n.pendingProps,f=n.memoizedProps,y=d.value,Pe(Ts,u._currentValue),u._currentValue=y,f!==null)if(Ft(f.value,y)){if(f.children===d.children&&!lt.current){n=sn(t,n,o);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var S=f.dependencies;if(S!==null){y=f.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(f.tag===1){P=rn(-1,o&-o),P.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var O=F.pending;O===null?P.next=P:(P.next=O.next,O.next=P),F.pending=P}}f.lanes|=o,P=f.alternate,P!==null&&(P.lanes|=o),Tl(f.return,o,n),S.lanes|=o;break}P=P.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Tl(y,o,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}it(t,n,d.children,o),n=n.child}return n;case 9:return d=n.type,u=n.pendingProps.children,_r(n,o),d=Ct(d),u=u(d),n.flags|=1,it(t,n,u,o),n.child;case 14:return u=n.type,d=Lt(u,n.pendingProps),d=Lt(u.type,d),Eh(t,n,u,d,o);case 15:return Ah(t,n,n.type,n.pendingProps,o);case 17:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:Lt(u,d),Os(t,n),n.tag=1,at(u)?(t=!0,ws(n)):t=!1,_r(n,o),vh(n,u,d),Hl(n,u,d,o),Yl(null,n,u,!0,t,o);case 19:return Bh(t,n,o);case 22:return bh(t,n,o)}throw Error(r(156,n.tag))};function ld(t,n){return Gu(t,n)}function zg(t,n,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,n,o,u){return new zg(t,n,o,u)}function fa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lg(t){if(typeof t=="function")return fa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===de)return 11;if(t===Xe)return 14}return 2}function bn(t,n){var o=t.alternate;return o===null?(o=Mt(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Qs(t,n,o,u,d,f){var y=2;if(u=t,typeof t=="function")fa(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case B:return Yn(o.children,d,f,n);case re:y=8,d|=8;break;case ie:return t=Mt(12,o,n,d|2),t.elementType=ie,t.lanes=f,t;case ce:return t=Mt(13,o,n,d),t.elementType=ce,t.lanes=f,t;case fe:return t=Mt(19,o,n,d),t.elementType=fe,t.lanes=f,t;case X:return Ks(o,d,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:y=10;break e;case K:y=9;break e;case de:y=11;break e;case Xe:y=14;break e;case $:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=Mt(y,o,n,d),n.elementType=t,n.type=u,n.lanes=f,n}function Yn(t,n,o,u){return t=Mt(7,t,u,n),t.lanes=o,t}function Ks(t,n,o,u){return t=Mt(22,t,u,n),t.elementType=X,t.lanes=o,t.stateNode={isHidden:!1},t}function pa(t,n,o){return t=Mt(6,t,null,n),t.lanes=o,t}function ma(t,n,o){return n=Mt(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ng(t,n,o,u,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ga(t,n,o,u,d,f,y,S,P){return t=new Ng(t,n,o,S,P),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Mt(3,null,null,n),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(f),t}function Bg(t,n,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:u==null?null:""+u,children:t,containerInfo:n,implementation:o}}function ad(t){if(!t)return wn;t=t._reactInternals;e:{if(Ln(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(at(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(at(o))return Nc(t,o,n)}return n}function ud(t,n,o,u,d,f,y,S,P){return t=ga(o,u,!0,t,d,f,y,S,P),t.context=ad(null),o=t.current,u=st(),d=En(o),f=rn(u,d),f.callback=n??null,kn(o,f,d),t.current.lanes=d,Hr(t,d,u),ht(t,u),t}function Zs(t,n,o,u){var d=n.current,f=st(),y=En(d);return o=ad(o),n.context===null?n.context=o:n.pendingContext=o,n=rn(f,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=kn(d,n,y),t!==null&&(Dt(t,d,y,f),As(t,d,y)),y}function Js(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function ya(t,n){cd(t,n),(t=t.alternate)&&cd(t,n)}function Dg(){return null}var hd=typeof reportError=="function"?reportError:function(t){console.error(t)};function xa(t){this._internalRoot=t}eo.prototype.render=xa.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));Zs(t,n,null,null)},eo.prototype.unmount=xa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vn(function(){Zs(null,t,null,null)}),n[Zt]=null}};function eo(t){this._internalRoot=t}eo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Xu();t={blockedOn:null,target:t,priority:n};for(var o=0;o<gn.length&&n!==0&&n<gn[o].priority;o++);gn.splice(o,0,t),o===0&&Ku(t)}};function _a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function to(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dd(){}function Og(t,n,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var F=Js(y);f.call(F)}}var y=ud(n,u,t,0,null,!1,!1,"",dd);return t._reactRootContainer=y,t[Zt]=y.current,ri(t.nodeType===8?t.parentNode:t),Vn(),y}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var F=Js(P);S.call(F)}}var P=ga(t,0,!1,null,null,!1,!1,"",dd);return t._reactRootContainer=P,t[Zt]=P.current,ri(t.nodeType===8?t.parentNode:t),Vn(function(){Zs(n,P,o,u)}),P}function no(t,n,o,u,d){var f=o._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var S=d;d=function(){var P=Js(y);S.call(P)}}Zs(n,y,t,d)}else y=Og(o,n,t,d,u);return Js(y)}Wu=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=jr(n.pendingLanes);o!==0&&(Ho(n,o|1),ht(n,Le()),(me&6)===0&&(kr=Le()+500,Sn()))}break;case 13:Vn(function(){var u=nn(t,1);if(u!==null){var d=st();Dt(u,t,1,d)}}),ya(t,1)}},Vo=function(t){if(t.tag===13){var n=nn(t,134217728);if(n!==null){var o=st();Dt(n,t,134217728,o)}ya(t,134217728)}},Yu=function(t){if(t.tag===13){var n=En(t),o=nn(t,n);if(o!==null){var u=st();Dt(o,t,n,u)}ya(t,n)}},Xu=function(){return ve},qu=function(t,n){var o=ve;try{return ve=t,n()}finally{ve=o}},No=function(t,n,o){switch(n){case"input":if(er(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==t&&u.form===t.form){var d=_s(u);if(!d)throw Error(r(90));jt(u),er(u,d)}}}break;case"textarea":ku(t,o);break;case"select":n=o.value,n!=null&&tr(t,!!o.multiple,n,!1)}},Fu=ca,zu=Vn;var Gg={usingClientEntryPoint:!1,Events:[oi,hr,_s,Ru,Iu,ca]},vi={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ug={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Du(t),t===null?null:t.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||Dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{es=ro.inject(Ug),Vt=ro}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg,dt.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_a(n))throw Error(r(200));return Bg(t,n,null,o)},dt.createRoot=function(t,n){if(!_a(t))throw Error(r(299));var o=!1,u="",d=hd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=ga(t,1,!1,null,null,o,!1,u,d),t[Zt]=n.current,ri(t.nodeType===8?t.parentNode:t),new xa(n)},dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Du(n),t=t===null?null:t.stateNode,t},dt.flushSync=function(t){return Vn(t)},dt.hydrate=function(t,n,o){if(!to(n))throw Error(r(200));return no(null,t,n,!0,o)},dt.hydrateRoot=function(t,n,o){if(!_a(t))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",y=hd;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),n=ud(n,null,t,1,o??null,d,!1,f,y),t[Zt]=n.current,ri(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new eo(n)},dt.render=function(t,n,o){if(!to(n))throw Error(r(200));return no(null,t,n,!1,o)},dt.unmountComponentAtNode=function(t){if(!to(t))throw Error(r(40));return t._reactRootContainer?(Vn(function(){no(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1},dt.unstable_batchedUpdates=ca,dt.unstable_renderSubtreeIntoContainer=function(t,n,o,u){if(!to(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return no(t,n,o,!1,u)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var vd;function Qg(){if(vd)return Sa.exports;vd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sa.exports=qg(),Sa.exports}var wd;function Kg(){if(wd)return io;wd=1;var i=Qg();return io.createRoot=i.createRoot,io.hydrateRoot=i.hydrateRoot,io}var Zg=Kg();const Jg=Po(Zg),ey="modulepreload",ty=function(i){return"/"+i},Sd={},So=function(e,r,s){let l=Promise.resolve();if(r&&r.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=c(r.map(m=>{if(m=ty(m),m in Sd)return;Sd[m]=!0;const g=m.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":ey,g||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),g)return new Promise((_,C)=>{v.addEventListener("load",_),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return l.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var we=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(we||{});const qa=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},so=(i,e)=>qa(i).priority??e,bt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(qa).forEach(e=>{e.type.forEach(r=>{var s,l;return(l=(s=this._removeHandlers)[r])==null?void 0:l.call(s,e)})}),this},add(...i){return i.map(qa).forEach(e=>{e.type.forEach(r=>{var a,c;const s=this._addHandlers,l=this._queue;s[r]?(c=s[r])==null||c.call(s,e):(l[r]=l[r]||[],(a=l[r])==null||a.push(e))})}),this},handle(i,e,r){var c;const s=this._addHandlers,l=this._removeHandlers;if(s[i]||l[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=e,l[i]=r;const a=this._queue;return a[i]&&((c=a[i])==null||c.forEach(h=>e(h)),delete a[i]),this},handleByMap(i,e){return this.handle(i,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(i,e,r=-1){return this.handle(i,s=>{e.findIndex(a=>a.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((a,c)=>so(c.value,r)-so(a.value,r)))},s=>{const l=e.findIndex(a=>a.name===s.name);l!==-1&&e.splice(l,1)})},handleByList(i,e,r=-1){return this.handle(i,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((l,a)=>so(a,r)-so(l,r)))},s=>{const l=e.indexOf(s.ref);l!==-1&&e.splice(l,1)})},mixin(i,...e){for(const r of e)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(r))}},ny={extension:{type:we.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await So(()=>import("./browserAll-DNv1Q61c.js"),__vite__mapDeps([0,1,2,3]))}},ry={extension:{type:we.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await So(()=>import("./webworkerAll-C9PkzTat.js"),__vite__mapDeps([1,2,3]))}};class nt{constructor(e,r,s){this._x=r||0,this._y=s||0,this._observer=e}clone(e){return new nt(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Pa={exports:{}},Cd;function iy(){return Cd||(Cd=1,(function(i){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function a(p,m,g,x,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new l(g,x||p,v),C=r?r+m:m;return p._events[C]?p._events[C].fn?p._events[C]=[p._events[C],_]:p._events[C].push(_):(p._events[C]=_,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new s:delete p._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)e.call(g,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=r?r+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,_=x.length,C=new Array(_);v<_;v++)C[v]=x[v].fn;return C},h.prototype.listenerCount=function(m){var g=r?r+m:m,x=this._events[g];return x?x.fn?1:x.length:0},h.prototype.emit=function(m,g,x,v,_,C){var k=r?r+m:m;if(!this._events[k])return!1;var w=this._events[k],A=arguments.length,b,z;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,x),!0;case 4:return w.fn.call(w.context,g,x,v),!0;case 5:return w.fn.call(w.context,g,x,v,_),!0;case 6:return w.fn.call(w.context,g,x,v,_,C),!0}for(z=1,b=new Array(A-1);z<A;z++)b[z-1]=arguments[z];w.fn.apply(w.context,b)}else{var I=w.length,U;for(z=0;z<I;z++)switch(w[z].once&&this.removeListener(m,w[z].fn,void 0,!0),A){case 1:w[z].fn.call(w[z].context);break;case 2:w[z].fn.call(w[z].context,g);break;case 3:w[z].fn.call(w[z].context,g,x);break;case 4:w[z].fn.call(w[z].context,g,x,v);break;default:if(!b)for(U=1,b=new Array(A-1);U<A;U++)b[U-1]=arguments[U];w[z].fn.apply(w[z].context,b)}}return!0},h.prototype.on=function(m,g,x){return a(this,m,g,x,!1)},h.prototype.once=function(m,g,x){return a(this,m,g,x,!0)},h.prototype.removeListener=function(m,g,x,v){var _=r?r+m:m;if(!this._events[_])return this;if(!g)return c(this,_),this;var C=this._events[_];if(C.fn)C.fn===g&&(!v||C.once)&&(!x||C.context===x)&&c(this,_);else{for(var k=0,w=[],A=C.length;k<A;k++)(C[k].fn!==g||v&&!C[k].once||x&&C[k].context!==x)&&w.push(C[k]);w.length?this._events[_]=w.length===1?w[0]:w:c(this,_)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=r?r+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=r,h.EventEmitter=h,i.exports=h})(Pa)),Pa.exports}var sy=iy();const hn=Po(sy),oy=Math.PI*2,ly=180/Math.PI,ay=Math.PI/180;class rt{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new rt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Ma.x=0,Ma.y=0,Ma}}const Ma=new rt;class pe{constructor(e=1,r=0,s=0,l=1,a=0,c=0){this.array=null,this.a=e,this.b=r,this.c=s,this.d=l,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,s,l,a,c){return this.a=e,this.b=r,this.c=s,this.d=l,this.tx=a,this.ty=c,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const s=r||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,r){r=r||new rt;const s=e.x,l=e.y;return r.x=this.a*s+this.c*l+this.tx,r.y=this.b*s+this.d*l+this.ty,r}applyInverse(e,r){r=r||new rt;const s=this.a,l=this.b,a=this.c,c=this.d,h=this.tx,p=this.ty,m=1/(s*c+a*-l),g=e.x,x=e.y;return r.x=c*m*g+-a*m*x+(p*a-h*c)*m,r.y=s*m*x+-l*m*g+(-p*s+h*l)*m,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),s=Math.sin(e),l=this.a,a=this.c,c=this.tx;return this.a=l*r-this.b*s,this.b=l*s+this.b*r,this.c=a*r-this.d*s,this.d=a*s+this.d*r,this.tx=c*r-this.ty*s,this.ty=c*s+this.ty*r,this}append(e){const r=this.a,s=this.b,l=this.c,a=this.d;return this.a=e.a*r+e.b*l,this.b=e.a*s+e.b*a,this.c=e.c*r+e.d*l,this.d=e.c*s+e.d*a,this.tx=e.tx*r+e.ty*l+this.tx,this.ty=e.tx*s+e.ty*a+this.ty,this}appendFrom(e,r){const s=e.a,l=e.b,a=e.c,c=e.d,h=e.tx,p=e.ty,m=r.a,g=r.b,x=r.c,v=r.d;return this.a=s*m+l*x,this.b=s*g+l*v,this.c=a*m+c*x,this.d=a*g+c*v,this.tx=h*m+p*x+r.tx,this.ty=h*g+p*v+r.ty,this}setTransform(e,r,s,l,a,c,h,p,m){return this.a=Math.cos(h+m)*a,this.b=Math.sin(h+m)*a,this.c=-Math.sin(h-p)*c,this.d=Math.cos(h-p)*c,this.tx=e-(s*this.a+l*this.c),this.ty=r-(s*this.b+l*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,l=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=l*e.a+this.d*e.c,this.d=l*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,s=this.b,l=this.c,a=this.d,c=e.pivot,h=-Math.atan2(-l,a),p=Math.atan2(s,r),m=Math.abs(h+p);return m<1e-5||Math.abs(oy-m)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=p),e.scale.x=Math.sqrt(r*r+s*s),e.scale.y=Math.sqrt(l*l+a*a),e.position.x=this.tx+(c.x*r+c.y*l),e.position.y=this.ty+(c.x*s+c.y*a),e}invert(){const e=this.a,r=this.b,s=this.c,l=this.d,a=this.tx,c=e*l-r*s;return this.a=l/c,this.b=-r/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-l*a)/c,this.ty=-(e*this.ty-r*a)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new pe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return cy.identity()}static get shared(){return uy.identity()}}const uy=new pe,cy=new pe,qn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Qa=[],bf=[],oo=Math.sign;function hy(){for(let i=0;i<16;i++){const e=[];Qa.push(e);for(let r=0;r<16;r++){const s=oo(qn[i]*qn[r]+Kn[i]*Qn[r]),l=oo(Qn[i]*qn[r]+Zn[i]*Qn[r]),a=oo(qn[i]*Kn[r]+Kn[i]*Zn[r]),c=oo(Qn[i]*Kn[r]+Zn[i]*Zn[r]);for(let h=0;h<16;h++)if(qn[h]===s&&Qn[h]===l&&Kn[h]===a&&Zn[h]===c){e.push(h);break}}}for(let i=0;i<16;i++){const e=new pe;e.set(qn[i],Qn[i],Kn[i],Zn[i],0,0),bf.push(e)}}hy();const Ce={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>qn[i],uY:i=>Qn[i],vX:i=>Kn[i],vY:i=>Zn[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Qa[i][e],sub:(i,e)=>Qa[i][Ce.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Ce.S:Ce.N:Math.abs(e)*2<=Math.abs(i)?i>0?Ce.E:Ce.W:e>0?i>0?Ce.SE:Ce.SW:i>0?Ce.NE:Ce.NW,matrixAppendRotationInv:(i,e,r=0,s=0)=>{const l=bf[Ce.inv(e)];l.tx=r,l.ty=s,i.append(l)},transformRectCoords:(i,e,r,s)=>{const{x:l,y:a,width:c,height:h}=i,{x:p,y:m,width:g,height:x}=e;return r===Ce.E?(s.set(l+p,a+m,c,h),s):r===Ce.S?s.set(g-a-h+p,l+m,h,c):r===Ce.W?s.set(g-l-c+p,x-a-h+m,c,h):r===Ce.N?s.set(a+p,x-l-c+m,h,c):s.set(l+p,a+m,c,h)}},lo=[new rt,new rt,new rt,new rt];class Ye{constructor(e=0,r=0,s=0,l=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(s),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Ye(0,0,0,0)}clone(){return new Ye(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,s,l=.5){const{width:a,height:c}=this;if(a<=0||c<=0)return!1;const h=this.x,p=this.y,m=s*(1-l),g=s-m,x=h-m,v=h+a+m,_=p-m,C=p+c+m,k=h+g,w=h+a-g,A=p+g,b=p+c-g;return e>=x&&e<=v&&r>=_&&r<=C&&!(e>k&&e<w&&r>A&&r<b)}intersects(e,r){if(!r){const re=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=re)return!1;const Y=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Y}const s=this.left,l=this.right,a=this.top,c=this.bottom;if(l<=s||c<=a)return!1;const h=lo[0].set(e.left,e.top),p=lo[1].set(e.left,e.bottom),m=lo[2].set(e.right,e.top),g=lo[3].set(e.right,e.bottom);if(m.x<=h.x||p.y<=h.y)return!1;const x=Math.sign(r.a*r.d-r.b*r.c);if(x===0||(r.apply(h,h),r.apply(p,p),r.apply(m,m),r.apply(g,g),Math.max(h.x,p.x,m.x,g.x)<=s||Math.min(h.x,p.x,m.x,g.x)>=l||Math.max(h.y,p.y,m.y,g.y)<=a||Math.min(h.y,p.y,m.y,g.y)>=c))return!1;const v=x*(p.y-h.y),_=x*(h.x-p.x),C=v*s+_*a,k=v*l+_*a,w=v*s+_*c,A=v*l+_*c;if(Math.max(C,k,w,A)<=v*h.x+_*h.y||Math.min(C,k,w,A)>=v*g.x+_*g.y)return!1;const b=x*(h.y-m.y),z=x*(m.x-h.x),I=b*s+z*a,U=b*l+z*a,L=b*s+z*c,B=b*l+z*c;return!(Math.max(I,U,L,B)<=b*h.x+z*h.y||Math.min(I,U,L,B)>=b*g.x+z*g.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),l=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(s-r,0),this.y=l,this.height=Math.max(a-l,0),this}ceil(e=1,r=.001){const s=Math.ceil((this.x+this.width-r)*e)/e,l=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=s-this.x,this.height=l-this.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this.width*=e,this.height*=r,this}enlarge(e){const r=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),l=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=s-r,this.y=l,this.height=a-l,this}getBounds(e){return e||(e=new Ye),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const r=e.x,s=e.y,l=e.x+e.width,a=e.y+e.height;return r>=this.x&&r<this.x+this.width&&s>=this.y&&s<this.y+this.height&&l>=this.x&&l<this.x+this.width&&a>=this.y&&a<this.y+this.height}set(e,r,s,l){return this.x=e,this.y=r,this.width=s,this.height=l,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Ta={default:-1};function Be(i="default"){return Ta[i]===void 0&&(Ta[i]=-1),++Ta[i]}const kd=new Set,Ue="8.0.0",dy="8.3.4",Rr={quiet:!1,noColor:!1},Se=(i,e,r=3)=>{if(Rr.quiet||kd.has(e))return;let s=new Error().stack;const l=`${e}
Deprecated since v${i}`,a=typeof console.groupCollapsed=="function"&&!Rr.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",l):(s=s.split(`
`).splice(r).join(`
`),a?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",l),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",l),console.warn(s))),kd.add(e)};Object.defineProperties(Se,{quiet:{get:()=>Rr.quiet,set:i=>{Rr.quiet=i},enumerable:!0,configurable:!1},noColor:{get:()=>Rr.noColor,set:i=>{Rr.noColor=i},enumerable:!0,configurable:!1}});const Rf=()=>{};function Pd(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Md(i){return!(i&i-1)&&!!i}function If(i){const e={};for(const r in i)i[r]!==void 0&&(e[r]=i[r]);return e}const Td=Object.create(null);function fy(i){const e=Td[i];return e===void 0&&(Td[i]=Be("resource")),e}const Ff=class zf extends hn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...zf.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Se(Ue,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=fy(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Ff.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Lf=Ff;const Nf=class Bf extends hn{constructor(e={}){super(),this.options=e,this.uid=Be("textureSource"),this._resourceType="textureSource",this._resourceId=Be("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Bf.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new Lf(If(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,s;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(s=this._style)==null||s.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Be("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,s){s||(s=this._resolution),e||(e=this.width),r||(r=this.height);const l=Math.round(e*s),a=Math.round(r*s);return this.width=l/s,this.height=a/s,this._resolution=s,this.pixelWidth===l&&this.pixelHeight===a?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=a,this.emit("resize",this),this._resourceId=Be("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Md(this.pixelWidth)&&Md(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Nf.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ut=Nf;class fu extends Ut{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(r instanceof Float32Array?s="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?s="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?s="rgba16uint":(r instanceof Int8Array,s="bgra8unorm")),super({...e,resource:r,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}fu.extension=we.TextureSource;const Ed=new pe;class py{constructor(e,r){this.mapCoord=new pe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const s=this.mapCoord;for(let l=0;l<e.length;l+=2){const a=e[l],c=e[l+1];r[l]=a*s.a+c*s.c+s.tx,r[l+1]=a*s.b+c*s.d+s.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=e.orig,l=e.trim;l&&(Ed.set(s.width/l.width,0,0,s.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(Ed));const a=e.source,c=this.uClampFrame,h=this.clampMargin/a._resolution,p=this.clampOffset/a._resolution;return c[0]=(e.frame.x+h+p)/a.width,c[1]=(e.frame.y+h+p)/a.height,c[2]=(e.frame.x+e.frame.width-h+p)/a.width,c[3]=(e.frame.y+e.frame.height-h+p)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=e.frame.width===a.width&&e.frame.height===a.height&&e.rotate===0,!0}}class ke extends hn{constructor({source:e,label:r,frame:s,orig:l,trim:a,defaultAnchor:c,defaultBorders:h,rotate:p,dynamic:m}={}){if(super(),this.uid=Be("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Ye,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new Ut,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=l||this.frame,this.trim=a,this.rotate=p??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new py(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:s,height:l}=this._source,a=r.x/s,c=r.y/l,h=r.width/s,p=r.height/l;let m=this.rotate;if(m){const g=h/2,x=p/2,v=a+g,_=c+x;m=Ce.add(m,Ce.NW),e.x0=v+g*Ce.uX(m),e.y0=_+x*Ce.uY(m),m=Ce.add(m,2),e.x1=v+g*Ce.uX(m),e.y1=_+x*Ce.uY(m),m=Ce.add(m,2),e.x2=v+g*Ce.uX(m),e.y2=_+x*Ce.uY(m),m=Ce.add(m,2),e.x3=v+g*Ce.uX(m),e.y3=_+x*Ce.uY(m)}else e.x0=a,e.y0=c,e.x1=a+h,e.y1=c,e.x2=a+h,e.y2=c+p,e.x3=a,e.y3=c+p}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Se(Ue,"Texture.baseTexture is now Texture.source"),this._source}}ke.EMPTY=new ke({label:"EMPTY",source:new Ut({label:"EMPTY"})});ke.EMPTY.destroy=Rf;ke.WHITE=new ke({source:new fu({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});ke.WHITE.destroy=Rf;function my(i,e,r){const{width:s,height:l}=r.orig,a=r.trim;if(a){const c=a.width,h=a.height;i.minX=a.x-e._x*s,i.maxX=i.minX+c,i.minY=a.y-e._y*l,i.maxY=i.minY+h}else i.minX=-e._x*s,i.maxX=i.minX+s,i.minY=-e._y*l,i.maxY=i.minY+l}const Ad=new pe;class Gt{constructor(e=1/0,r=1/0,s=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ad,this.minX=e,this.minY=r,this.maxX=s,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Ye);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ad,this}set(e,r,s,l){this.minX=e,this.minY=r,this.maxX=s,this.maxY=l}addFrame(e,r,s,l,a){a||(a=this.matrix);const c=a.a,h=a.b,p=a.c,m=a.d,g=a.tx,x=a.ty;let v=this.minX,_=this.minY,C=this.maxX,k=this.maxY,w=c*e+p*r+g,A=h*e+m*r+x;w<v&&(v=w),A<_&&(_=A),w>C&&(C=w),A>k&&(k=A),w=c*s+p*r+g,A=h*s+m*r+x,w<v&&(v=w),A<_&&(_=A),w>C&&(C=w),A>k&&(k=A),w=c*e+p*l+g,A=h*e+m*l+x,w<v&&(v=w),A<_&&(_=A),w>C&&(C=w),A>k&&(k=A),w=c*s+p*l+g,A=h*s+m*l+x,w<v&&(v=w),A<_&&(_=A),w>C&&(C=w),A>k&&(k=A),this.minX=v,this.minY=_,this.maxX=C,this.maxY=k}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,s=this.minY,l=this.maxX,a=this.maxY,{a:c,b:h,c:p,d:m,tx:g,ty:x}=e;let v=c*r+p*s+g,_=h*r+m*s+x;this.minX=v,this.minY=_,this.maxX=v,this.maxY=_,v=c*l+p*s+g,_=h*l+m*s+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*r+p*a+g,_=h*r+m*a+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*l+p*a+g,_=h*l+m*a+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,s,l){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<s&&(this.minY=s),this.maxY>l&&(this.maxY=l),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Gt(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,s,l){let a=this.minX,c=this.minY,h=this.maxX,p=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,x=l.c,v=l.d,_=l.tx,C=l.ty;for(let k=r;k<s;k+=2){const w=e[k],A=e[k+1],b=m*w+x*A+_,z=g*w+v*A+C;a=b<a?b:a,c=z<c?z:c,h=b>h?b:h,p=z>p?z:p}this.minX=a,this.minY=c,this.maxX=h,this.maxY=p}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var gy={grad:.9,turn:360,rad:360/(2*Math.PI)},ln=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},We=function(i,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*i)/r+0},Tt=function(i,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),i>r?r:i>e?i:e},Df=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},bd=function(i){return{r:Tt(i.r,0,255),g:Tt(i.g,0,255),b:Tt(i.b,0,255),a:Tt(i.a)}},Ea=function(i){return{r:We(i.r),g:We(i.g),b:We(i.b),a:We(i.a,3)}},yy=/^#([0-9a-f]{3,8})$/i,ao=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},Of=function(i){var e=i.r,r=i.g,s=i.b,l=i.a,a=Math.max(e,r,s),c=a-Math.min(e,r,s),h=c?a===e?(r-s)/c:a===r?2+(s-e)/c:4+(e-r)/c:0;return{h:60*(h<0?h+6:h),s:a?c/a*100:0,v:a/255*100,a:l}},Gf=function(i){var e=i.h,r=i.s,s=i.v,l=i.a;e=e/360*6,r/=100,s/=100;var a=Math.floor(e),c=s*(1-r),h=s*(1-(e-a)*r),p=s*(1-(1-e+a)*r),m=a%6;return{r:255*[s,h,c,c,p,s][m],g:255*[p,s,s,h,c,c][m],b:255*[c,c,p,s,s,h][m],a:l}},Rd=function(i){return{h:Df(i.h),s:Tt(i.s,0,100),l:Tt(i.l,0,100),a:Tt(i.a)}},Id=function(i){return{h:We(i.h),s:We(i.s),l:We(i.l),a:We(i.a,3)}},Fd=function(i){return Gf((r=(e=i).s,{h:e.h,s:(r*=((s=e.l)<50?s:100-s)/100)>0?2*r/(s+r)*100:0,v:s+r,a:e.a}));var e,r,s},Li=function(i){return{h:(e=Of(i)).h,s:(l=(200-(r=e.s))*(s=e.v)/100)>0&&l<200?r*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:e.a};var e,r,s,l},xy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ka={string:[[function(i){var e=yy.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?We(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?We(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=vy.exec(i)||wy.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:bd({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=xy.exec(i)||_y.exec(i);if(!e)return null;var r,s,l=Rd({h:(r=e[1],s=e[2],s===void 0&&(s="deg"),Number(r)*(gy[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Fd(l)},"hsl"]],object:[[function(i){var e=i.r,r=i.g,s=i.b,l=i.a,a=l===void 0?1:l;return ln(e)&&ln(r)&&ln(s)?bd({r:Number(e),g:Number(r),b:Number(s),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,r=i.s,s=i.l,l=i.a,a=l===void 0?1:l;if(!ln(e)||!ln(r)||!ln(s))return null;var c=Rd({h:Number(e),s:Number(r),l:Number(s),a:Number(a)});return Fd(c)},"hsl"],[function(i){var e=i.h,r=i.s,s=i.v,l=i.a,a=l===void 0?1:l;if(!ln(e)||!ln(r)||!ln(s))return null;var c=(function(h){return{h:Df(h.h),s:Tt(h.s,0,100),v:Tt(h.v,0,100),a:Tt(h.a)}})({h:Number(e),s:Number(r),v:Number(s),a:Number(a)});return Gf(c)},"hsv"]]},zd=function(i,e){for(var r=0;r<e.length;r++){var s=e[r][0](i);if(s)return[s,e[r][1]]}return[null,void 0]},Sy=function(i){return typeof i=="string"?zd(i.trim(),Ka.string):typeof i=="object"&&i!==null?zd(i,Ka.object):[null,void 0]},Aa=function(i,e){var r=Li(i);return{h:r.h,s:Tt(r.s+100*e,0,100),l:r.l,a:r.a}},ba=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Ld=function(i,e){var r=Li(i);return{h:r.h,s:r.s,l:Tt(r.l+100*e,0,100),a:r.a}},Za=(function(){function i(e){this.parsed=Sy(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return We(ba(this.rgba),2)},i.prototype.isDark=function(){return ba(this.rgba)<.5},i.prototype.isLight=function(){return ba(this.rgba)>=.5},i.prototype.toHex=function(){return e=Ea(this.rgba),r=e.r,s=e.g,l=e.b,c=(a=e.a)<1?ao(We(255*a)):"","#"+ao(r)+ao(s)+ao(l)+c;var e,r,s,l,a,c},i.prototype.toRgb=function(){return Ea(this.rgba)},i.prototype.toRgbString=function(){return e=Ea(this.rgba),r=e.r,s=e.g,l=e.b,(a=e.a)<1?"rgba("+r+", "+s+", "+l+", "+a+")":"rgb("+r+", "+s+", "+l+")";var e,r,s,l,a},i.prototype.toHsl=function(){return Id(Li(this.rgba))},i.prototype.toHslString=function(){return e=Id(Li(this.rgba)),r=e.h,s=e.s,l=e.l,(a=e.a)<1?"hsla("+r+", "+s+"%, "+l+"%, "+a+")":"hsl("+r+", "+s+"%, "+l+"%)";var e,r,s,l,a},i.prototype.toHsv=function(){return e=Of(this.rgba),{h:We(e.h),s:We(e.s),v:We(e.v),a:We(e.a,3)};var e},i.prototype.invert=function(){return qt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),qt(Aa(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),qt(Aa(this.rgba,-e))},i.prototype.grayscale=function(){return qt(Aa(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),qt(Ld(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),qt(Ld(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?qt({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):We(this.rgba.a,3);var r},i.prototype.hue=function(e){var r=Li(this.rgba);return typeof e=="number"?qt({h:e,s:r.s,l:r.l,a:r.a}):We(r.h)},i.prototype.isEqual=function(e){return this.toHex()===qt(e).toHex()},i})(),qt=function(i){return i instanceof Za?i:new Za(i)},Nd=[],Cy=function(i){i.forEach(function(e){Nd.indexOf(e)<0&&(e(Za,Ka),Nd.push(e))})};function ky(i,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in r)s[r[l]]=l;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,p,m=s[this.toHex()];if(m)return m;if(c!=null&&c.closest){var g=this.toRgb(),x=1/0,v="black";if(!a.length)for(var _ in r)a[_]=new i(r[_]).toRgb();for(var C in r){var k=(h=g,p=a[C],Math.pow(h.r-p.r,2)+Math.pow(h.g-p.g,2)+Math.pow(h.b-p.b,2));k<x&&(x=k,v=C)}return v}},e.string.push([function(c){var h=c.toLowerCase(),p=h==="transparent"?"#0000":r[h];return p?new i(p).toRgb():null},"name"])}Cy([ky]);const zr=class bi{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof bi)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const s=typeof e;if(s!==typeof r)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((a,c)=>a===r[c]);if(e!==null&&r!==null){const a=Object.keys(e),c=Object.keys(r);return a.length!==c.length?!1:a.every(h=>e[h]===r[h])}return e===r}toRgba(){const[e,r,s,l]=this._components;return{r:e,g:r,b:s,a:l}}toRgb(){const[e,r,s]=this._components;return{r:e,g:r,b:s}}toRgbaString(){const[e,r,s]=this.toUint8RgbArray();return`rgba(${e},${r},${s},${this.alpha})`}toUint8RgbArray(e){const[r,s,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(s*255),e[2]=Math.round(l*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,s,l,a]=this._components;return e[0]=r,e[1]=s,e[2]=l,e[3]=a,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,s,l]=this._components;return e[0]=r,e[1]=s,e[2]=l,e}toNumber(){return this._int}toBgrNumber(){const[e,r,s]=this.toUint8RgbArray();return(s<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,s,l,a]=bi._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=s,this._components[2]*=l,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,a=this._int&255;return r&&(s=s*e+.5|0,l=l*e+.5|0,a=a*e+.5|0),(e*255<<24)+(s<<16)+(l<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,s,l,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;r=(c>>16&255)/255,s=(c>>8&255)/255,l=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,s,l,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,s,l,a=255]=e,r/=255,s/=255,l/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=bi.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=qt(e);c.isValid()&&({r,g:s,b:l,a}=c.rgba,r/=255,s/=255,l/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=s,this._components[2]=l,this._components[3]=a,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,s]=this._components;this._int=(e*255<<16)+(r*255<<8)+(s*255|0)}_clamp(e,r=0,s=1){return typeof e=="number"?Math.min(Math.max(e,r),s):(e.forEach((l,a)=>{e[a]=Math.min(Math.max(l,r),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof bi||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};zr.shared=new zr;zr._temp=new zr;zr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Et=zr;const Py={cullArea:null,cullable:!1,cullableChildren:!0};let Ra=0;const Bd=500;function _t(...i){Ra!==Bd&&(Ra++,Ra===Bd?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}const Mo={_registeredResources:new Set,register(i){this._registeredResources.add(i)},unregister(i){this._registeredResources.delete(i)},release(){this._registeredResources.forEach(i=>i.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(i){return this._registeredResources.has(i)},reset(){this._registeredResources.clear()}};class My{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var s;let r;return this._index>0?r=this._pool[--this._index]:(r=new this._classType,this._count++),(s=r.init)==null||s.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Ty{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new My(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const s=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[s]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const At=new Ty;Mo.register(At);const Ey={get isCachedAsTexture(){var i;return!!((i=this.renderGroup)!=null&&i.isCachedAsTexture)},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){var i;(i=this.renderGroup)==null||i.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){Se("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function Ay(i,e,r){const s=i.length;let l;if(e>=s||r===0)return;r=e+r>s?s-e:r;const a=s-r;for(l=e;l<a;++l)i[l]=i[l+r];i.length=a}const by={allowChildren:!0,removeChildren(i=0,e){var a;const r=e??this.children.length,s=r-i,l=[];if(s>0&&s<=r){for(let h=r-1;h>=i;h--){const p=this.children[h];p&&(l.push(p),p.parent=null)}Ay(this.children,i,r);const c=this.renderGroup||this.parentRenderGroup;c&&c.removeChildren(l);for(let h=0;h<l.length;++h){const p=l[h];(a=p.parentRenderLayer)==null||a.detach(p),this.emit("childRemoved",p,this,h),l[h].emit("removed",this)}return l.length>0&&this._didViewChangeTick++,l}else if(s===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const e=this.getChildAt(i);return this.removeChild(e)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,e)},getChildIndex(i){const e=this.children.indexOf(i);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(i,e){this.allowChildren||Se(Ue,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${i}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(i.parent){const l=i.parent.children.indexOf(i);if(i.parent===this&&l===e)return i;l!==-1&&i.parent.children.splice(l,1)}e===r.length?r.push(i):r.splice(e,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,e),i.emit("added",this),i},swapChildren(i,e){if(i===e)return;const r=this.getChildIndex(i),s=this.getChildIndex(e);this.children[r]=e,this.children[s]=i;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var i;(i=this.parent)==null||i.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(e=>this.reparentChildAt(e,this.children.length)),i[0])},reparentChildAt(i,e){if(i.parent===this)return this.setChildIndex(i,e),i;const r=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,e);const s=this.worldTransform.clone();return s.invert(),r.prepend(s),i.setFromMatrix(r),i},replaceChild(i,e){i.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(i)),e.setFromMatrix(i.localTransform),e.updateLocalTransform(),this.removeChild(i)}},Ry={collectRenderables(i,e,r){this.parentRenderLayer&&this.parentRenderLayer!==r||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,e,r):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,e,r))},collectRenderablesSimple(i,e,r){const s=this.children,l=s.length;for(let a=0;a<l;a++)s[a].collectRenderables(i,e,r)},collectRenderablesWithEffects(i,e,r){const{renderPipes:s}=e;for(let l=0;l<this.effects.length;l++){const a=this.effects[l];s[a.pipe].push(a,this,i)}this.collectRenderablesSimple(i,e,r);for(let l=this.effects.length-1;l>=0;l--){const a=this.effects[l];s[a.pipe].pop(a,this,i)}}};class Dd{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Iy{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const s=this._tests[r];if(s.test(e))return At.get(s.maskClass,e)}return e}returnMaskEffect(e){At.return(e)}}const Ja=new Iy;bt.handleByList(we.MaskEffect,Ja._effectClasses);const Fy={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((r,s)=>r.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const e=this.effects.indexOf(i);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const e=this._maskEffect;(e==null?void 0:e.mask)!==i&&(e&&(this.removeEffect(e),Ja.returnMaskEffect(e),this._maskEffect=null),i!=null&&(this._maskEffect=Ja.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){var i;return(i=this._maskEffect)==null?void 0:i.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){var a;!Array.isArray(i)&&i&&(i=[i]);const e=this._filterEffect||(this._filterEffect=new Dd);i=i;const r=(i==null?void 0:i.length)>0,s=((a=e.filters)==null?void 0:a.length)>0,l=r!==s;i=Array.isArray(i)?i.slice(0):i,e.filters=Object.freeze(i),l&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=i??null))},get filters(){var i;return(i=this._filterEffect)==null?void 0:i.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new Dd),this._filterEffect.filterArea=i},get filterArea(){var i;return(i=this._filterEffect)==null?void 0:i.filterArea}},zy={label:null,get name(){return Se(Ue,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){Se(Ue,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,e=!1){return this.getChildByLabel(i,e)},getChildByLabel(i,e=!1){const r=this.children;for(let s=0;s<r.length;s++){const l=r[s];if(l.label===i||i instanceof RegExp&&i.test(l.label))return l}if(e)for(let s=0;s<r.length;s++){const a=r[s].getChildByLabel(i,!0);if(a)return a}return null},getChildrenByLabel(i,e=!1,r=[]){const s=this.children;for(let l=0;l<s.length;l++){const a=s[l];(a.label===i||i instanceof RegExp&&i.test(a.label))&&r.push(a)}if(e)for(let l=0;l<s.length;l++)s[l].getChildrenByLabel(i,!0,r);return r}},ot=At.getPool(pe),un=At.getPool(Gt),Ly=new pe,Ny={getFastGlobalBounds(i,e){e||(e=new Gt),e.clear(),this._getGlobalBoundsRecursive(!!i,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const r=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(r.worldTransform),e},_getGlobalBoundsRecursive(i,e,r){let s=e;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==r||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(s=un.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const a=this.children;for(let c=0;c<a.length;c++)a[c]._getGlobalBoundsRecursive(i,s,r)}if(l){let a=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(a||(a=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));a&&s.applyMatrix(c.worldTransform.copyTo(Ly).invert()),e.addBounds(s),un.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),un.return(s))}};function Uf(i,e,r){r.clear();let s,l;return i.parent?e?s=i.parent.worldTransform:(l=ot.get().identity(),s=pu(i,l)):s=pe.IDENTITY,jf(i,r,s,e),l&&ot.return(l),r.isValid||r.set(0,0,0,0),r}function jf(i,e,r,s){var h,p;if(!i.visible||!i.measurable)return;let l;s?l=i.worldTransform:(i.updateLocalTransform(),l=ot.get(),l.appendFrom(i.localTransform,r));const a=e,c=!!i.effects.length;if(c&&(e=un.get().clear()),i.boundsArea)e.addRect(i.boundsArea,l);else{const m=i.bounds;m&&!m.isEmpty()&&(e.matrix=l,e.addBounds(m));for(let g=0;g<i.children.length;g++)jf(i.children[g],e,l,s)}if(c){for(let m=0;m<i.effects.length;m++)(p=(h=i.effects[m]).addBounds)==null||p.call(h,e);a.addBounds(e,pe.IDENTITY),un.return(e)}s||ot.return(l)}function pu(i,e){const r=i.parent;return r&&(pu(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function Hf(i,e){if(i===16777215||!e)return e;if(e===16777215||!i)return i;const r=i>>16&255,s=i>>8&255,l=i&255,a=e>>16&255,c=e>>8&255,h=e&255,p=r*a/255|0,m=s*c/255|0,g=l*h/255|0;return(p<<16)+(m<<8)+g}const Od=16777215;function Gd(i,e){return i===Od?e:e===Od?i:Hf(i,e)}function vo(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const By={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(i=new pe,e){if(e)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const r=pu(this,ot.get().identity());return i.appendFrom(this.localTransform,r),ot.return(r),i},getGlobalTint(i){if(i)return this.renderGroup?vo(this.renderGroup.worldColor):this.parentRenderGroup?vo(Gd(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=Gd(e,r.localColor),r=r.parent;return vo(e)}};function Vf(i,e,r){return e.clear(),r||(r=pe.IDENTITY),$f(i,e,r,i,!0),e.isValid||e.set(0,0,0,0),e}function $f(i,e,r,s,l){var p,m;let a;if(l)a=ot.get(),a=r.copyTo(a);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const g=i.localTransform;a=ot.get(),a.appendFrom(g,r)}const c=e,h=!!i.effects.length;if(h&&(e=un.get().clear()),i.boundsArea)e.addRect(i.boundsArea,a);else{i.renderPipeId&&(e.matrix=a,e.addBounds(i.bounds));const g=i.children;for(let x=0;x<g.length;x++)$f(g[x],e,a,s,!1)}if(h){for(let g=0;g<i.effects.length;g++)(m=(p=i.effects[g]).addLocalBounds)==null||m.call(p,e,s);c.addBounds(e,pe.IDENTITY),un.return(e)}ot.return(a)}function Wf(i,e){const r=i.children;for(let s=0;s<r.length;s++){const l=r[s],a=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,h=e.index;(e.data[h]!==a||e.data[h+1]!==c)&&(e.data[e.index]=a,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,l.children.length&&Wf(l,e)}return e.didChange}const Dy=new pe,Oy={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=i/e*r:this.scale.x=r},_setHeight(i,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=i/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Gt});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),Wf(this,i),i.didChange&&Vf(this,i.localBounds,Dy),i.localBounds},getBounds(i,e){return Uf(this,i,e||new Gt)}},Gy={_onRender:null,set onRender(i){const e=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},Uy={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(jy))}};function jy(i,e){return i._zIndex-e._zIndex}const Hy={getGlobalPosition(i=new rt,e=!1){return this.parent?this.parent.toGlobal(this._position,i,e):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,e,r=!1){const s=this.getGlobalTransform(ot.get(),r);return e=s.apply(i,e),ot.return(s),e},toLocal(i,e,r,s){e&&(i=e.toGlobal(i,r,s));const l=this.getGlobalTransform(ot.get(),s);return r=l.applyInverse(i,r),ot.return(l),r}};class Yf{constructor(){this.uid=Be("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Vy=0;class $y{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new Lf(this.textureOptions)}createTexture(e,r,s){const l=new Ut({...this.textureOptions,width:e,height:r,resolution:1,antialias:s,autoGarbageCollect:!1});return new ke({source:l,label:`texturePool_${Vy++}`})}getOptimalTexture(e,r,s=1,l){let a=Math.ceil(e*s-1e-6),c=Math.ceil(r*s-1e-6);a=Pd(a),c=Pd(c);const h=(a<<17)+(c<<1)+(l?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let p=this._texturePool[h].pop();return p||(p=this.createTexture(a,c,l)),p.source._resolution=s,p.source.width=a/s,p.source.height=c/s,p.source.pixelWidth=a,p.source.pixelHeight=c,p.frame.x=0,p.frame.y=0,p.frame.width=e,p.frame.height=r,p.updateUvs(),this._poolKeyHash[p.uid]=h,p}getSameSizeTexture(e,r=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,r)}returnTexture(e,r=!1){const s=this._poolKeyHash[e.uid];r&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const s=this._texturePool[r];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this._texturePool={}}}const Xf=new $y;Mo.register(Xf);class Wy{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new pe,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Yf,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let s=0;s<r.length;s++){const l=r[s];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Xf.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let s=0;s<r.length;s++)this.addChild(r[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let s=0;s<r.length;s++)this.removeChild(r[s])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let r=0;r<this._onRenderContainers.length;r++)this._onRenderContainers[r]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let s=0;s<r.length;s++)this._getChildren(r[s],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const s=e.children;for(let l=0;l<s.length;l++)this._getChildren(s[l],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new pe),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new pe),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new pe),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Yy(i,e,r={}){for(const s in e)!r[s]&&e[s]!==void 0&&(i[s]=e[s])}const Ia=new nt(null),uo=new nt(null),Fa=new nt(null,1,1),co=new nt(null),Ud=1,Xy=2,za=4;class Kt extends hn{constructor(e={}){var r,s;super(),this.uid=Be("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new pe,this.relativeGroupTransform=new pe,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new nt(this,0,0),this._scale=Fa,this._pivot=uo,this._origin=co,this._skew=Ia,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Yy(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(l=>this.addChild(l)),(s=e.parent)==null||s.addChild(this)}static mixin(e){Se("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),bt.mixin(Kt,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Se(Ue,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let l=0;l<e.length;l++)this.addChild(e[l]);return e[0]}const r=e[0],s=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),s&&(s.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,s&&s.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let l=0;l<e.length;l++)this.removeChild(e[l]);return e[0]}const r=e[0],s=this.children.indexOf(r);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parentRenderLayer&&r.parentRenderLayer.detach(r),r.parent=null,this.emit("childRemoved",r,this,s),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=At.get(Wy,this),this.groupTransform=pe.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),At.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new pe),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*ly}set angle(e){this.rotation=e*ay}get pivot(){return this._pivot===uo&&(this._pivot=new nt(this,0,0)),this._pivot}set pivot(e){this._pivot===uo&&(this._pivot=new nt(this,0,0),this._origin!==co&&_t("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Ia&&(this._skew=new nt(this,0,0)),this._skew}set skew(e){this._skew===Ia&&(this._skew=new nt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Fa&&(this._scale=new nt(this,1,1)),this._scale}set scale(e){this._scale===Fa&&(this._scale=new nt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===co&&(this._origin=new nt(this,0,0)),this._origin}set origin(e){this._origin===co&&(this._origin=new nt(this,0,0),this._pivot!==uo&&_t("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const s=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,s.width),r!==void 0&&this._setHeight(r,s.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,s=this._scale,l=this._pivot,a=this._origin,c=this._position,h=s._x,p=s._y,m=l._x,g=l._y,x=-a._x,v=-a._y;r.a=this._cx*h,r.b=this._sx*h,r.c=this._cy*p,r.d=this._sy*p,r.tx=c._x-(m*r.a+g*r.c)+(x*r.a+v*r.c)-x,r.ty=c._y-(m*r.b+g*r.d)+(x*r.b+v*r.d)-v}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Ud,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=Et.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=Ud,this._onUpdate())}get tint(){return vo(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Xy,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=za,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=za,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=za,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var l;if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&r)for(let a=0;a<r.length;++a)r[a].destroy(e);(l=this.renderGroup)==null||l.destroy(),this.renderGroup=null}}bt.mixin(Kt,by,Ny,Hy,Gy,Oy,Fy,zy,Uy,Py,Ey,By,Ry);class qf extends Kt{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Gt(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:s,y:l}=e;return s>=r.minX&&s<=r.maxX&&l>=r.minY&&l<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var r,s;super.destroy(e),this._bounds=null;for(const l in this._gpuData)(s=(r=this._gpuData[l]).destroy)==null||s.call(r);this._gpuData=null}collectRenderablesSimple(e,r,s){const{renderPipes:l}=r;l.blendMode.pushBlendMode(this,this.groupBlendMode,e),l[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let p=0;p<h;p++)c[p].collectRenderables(e,r,s);l.blendMode.popBlendMode(e)}}class Oi extends qf{constructor(e=ke.EMPTY){e instanceof ke&&(e={texture:e});const{texture:r=ke.EMPTY,anchor:s,roundPixels:l,width:a,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new nt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=l??!1,a!==void 0&&(this.width=a),c!==void 0&&(this.height=c)}static from(e,r=!1){return e instanceof ke?new Oi(e):new Oi(ke.from(e,r))}set texture(e){e||(e=ke.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return my(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Se("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,s=this._bounds,{width:l,height:a}=r.orig;s.minX=-e._x*l,s.maxX=s.minX+l,s.minY=-e._y*a,s.maxY=s.minY+a}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const qy=new Gt;function Qf(i,e,r){const s=qy;i.measurable=!0,Uf(i,r,s),e.addBoundsMask(s),i.measurable=!1}function Kf(i,e,r){const s=un.get();i.measurable=!0;const l=ot.get().identity(),a=Zf(i,r,l);Vf(i,s,a),i.measurable=!1,e.addBoundsMask(s),ot.return(l),un.return(s)}function Zf(i,e,r){return i?(i!==e&&(Zf(i.parent,e,r),i.updateLocalTransform(),r.append(i.localTransform)),r):(_t("Mask bounds, renderable is not inside the root container"),r)}class Jf{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Oi),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,r){this.inverse||Qf(this.mask,e,r)}addLocalBounds(e,r){Kf(this.mask,e,r)}containsPoint(e,r){const s=this.mask;return r(s,e)}destroy(){this.reset()}static test(e){return e instanceof Oi}}Jf.extension=we.MaskEffect;class ep{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}ep.extension=we.MaskEffect;class tp{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,r){Qf(this.mask,e,r)}addLocalBounds(e,r){Kf(this.mask,e,r)}containsPoint(e,r){const s=this.mask;return r(s,e)}destroy(){this.reset()}static test(e){return e instanceof Kt}}tp.extension=we.MaskEffect;const Qy={createCanvas:(i,e)=>{const r=document.createElement("canvas");return r.width=i,r.height=e,r},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let jd=Qy;const zn={get(){return jd},set(i){jd=i}};class np extends Ut{constructor(e){e.resource||(e.resource=zn.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,s=this._resolution){const l=super.resize(e,r,s);return l&&this.resizeCanvas(),l}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}np.extension=we.TextureSource;class Co extends Ut{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Co.extension=we.TextureSource;var eu=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(eu||{});class La{constructor(e,r=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=s,this._once=l}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const rp=class xt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new La(null,null,1/0),this.deltaMS=1/xt.targetFPMS,this.elapsedMS=1/xt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,s=eu.NORMAL){return this._addListener(new La(e,r,s))}addOnce(e,r,s=eu.NORMAL){return this._addListener(new La(e,r,s,!0))}_addListener(e){let r=this._head.next,s=this._head;if(!r)e.connect(s);else{for(;r;){if(e.priority>r.priority){e.connect(s);break}s=r,r=r.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,r){let s=this._head.next;for(;s;)s.match(e,r)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*xt.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,r)/1e3,xt.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!xt._shared){const e=xt._shared=new xt;e.autoStart=!0,e._protected=!0}return xt._shared}static get system(){if(!xt._system){const e=xt._system=new xt;e.autoStart=!0,e._protected=!0}return xt._system}};rp.targetFPMS=.06;let ho=rp,Na;async function Ky(){return Na??(Na=(async()=>{var c;const e=zn.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(h=>{const p=document.createElement("video");p.onloadeddata=()=>h(p),p.onerror=()=>h(null),p.autoplay=!1,p.crossOrigin="anonymous",p.preload="auto",p.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",p.load()});if(!r)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const l=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(l),e.deleteTexture(s),(c=e.getExtension("WEBGL_lose_context"))==null||c.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Na}const To=class ip extends Ut{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...ip.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=ho.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Ky(),this._load=new Promise((s,l)=>{this.isValid?s(this):(this._resolve=s,this._reject=l,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ho.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ho.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ho.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};To.extension=we.TextureSource;To.defaultOptions={...Ut.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};To.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Zy=To;const Er=(i,e,r=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(s=>typeof s=="string"||r?e(s):s):i);class Jy{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||_t(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const s=Er(e);let l;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.test(r)){l=m.getCacheableAssets(s,r);break}}const a=new Map(Object.entries(l||{}));l||s.forEach(p=>{a.set(p,r)});const c=[...a.keys()],h={cacheKeys:c,keys:s};s.forEach(p=>{this._cacheMap.set(p,h)}),c.forEach(p=>{const m=l?l[p]:r;this._cache.has(p)&&this._cache.get(p)!==m&&_t("[Cache] already has key:",p),this._cache.set(p,a.get(p))})}remove(e){if(!this._cacheMap.has(e)){_t(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(l=>{this._cache.delete(l)}),r.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Ar=new Jy,tu=[];bt.handleByList(we.TextureSource,tu);function sp(i={}){const e=i&&i.resource,r=e?i.resource:i,s=e?i:{resource:i};for(let l=0;l<tu.length;l++){const a=tu[l];if(a.test(r))return new a(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function e0(i={},e=!1){const r=i&&i.resource,s=r?i.resource:i,l=r?i:{resource:i};if(!e&&Ar.has(s))return Ar.get(s);const a=new ke({source:sp(l)});return a.on("destroy",()=>{Ar.has(s)&&Ar.remove(s)}),e||Ar.set(s,a),a}function t0(i,e=!1){return typeof i=="string"?Ar.get(i):i instanceof Ut?new ke({source:i}):e0(i,e)}ke.from=t0;Ut.from=sp;bt.add(Jf,ep,tp,Zy,Co,np,fu);var op=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(op||{});function Ot(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Si(i){return i.split("?")[0].split("#")[0]}function n0(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r0(i,e,r){return i.replace(new RegExp(n0(e),"g"),r)}function i0(i,e){let r="",s=0,l=-1,a=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(l===h-1||a===1))if(l!==h-1&&a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const p=r.lastIndexOf("/");if(p!==r.length-1){p===-1?(r="",s=0):(r=r.slice(0,p),s=r.length-1-r.lastIndexOf("/")),l=h,a=0;continue}}else if(r.length===2||r.length===1){r="",s=0,l=h,a=0;continue}}}else r.length>0?r+=`/${i.slice(l+1,h)}`:r=i.slice(l+1,h),s=h-l-1;l=h,a=0}else c===46&&a!==-1?++a:a=-1}return r}const Gi={toPosix(i){return r0(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Ot(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(i);return r?r[0]:""},toAbsolute(i,e,r){if(Ot(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Si(this.toPosix(e??zn.get().getBaseUrl())),l=Si(this.toPosix(r??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?Gi.join(l,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(Ot(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const r=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const s=i.endsWith("/");return i=i0(i),i.length>0&&s&&(i+="/"),r?`/${i}`:e+i},isAbsolute(i){return Ot(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let r=0;r<i.length;++r){const s=i[r];if(Ot(s),s.length>0)if(e===void 0)e=s;else{const l=i[r-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Ot(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const r=e===47;let s=-1,l=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let h=i.length-1;h>=1;--h)if(e=i.charCodeAt(h),e===47){if(!l){s=h;break}}else l=!1;return s===-1?r?"/":this.isUrl(c)?a+i:a:r&&s===1?"//":a+i.slice(0,s)},rootname(i){Ot(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const r=i.indexOf("/",e.length);r!==-1?e=i.slice(0,r):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Ot(i),e&&Ot(e),i=Si(this.toPosix(i));let r=0,s=-1,l=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,h=-1;for(a=i.length-1;a>=0;--a){const p=i.charCodeAt(a);if(p===47){if(!l){r=a+1;break}}else h===-1&&(l=!1,h=a+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(s=a):(c=-1,s=h))}return r===s?s=h:s===-1&&(s=i.length),i.slice(r,s)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!l){r=a+1;break}}else s===-1&&(l=!1,s=a+1);return s===-1?"":i.slice(r,s)},extname(i){Ot(i),i=Si(this.toPosix(i));let e=-1,r=0,s=-1,l=!0,a=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!l){r=c+1;break}continue}s===-1&&(l=!1,s=c+1),h===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||s===-1||a===0||a===1&&e===s-1&&e===r+1?"":i.slice(e,s)},parse(i){Ot(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=Si(this.toPosix(i));let r=i.charCodeAt(0);const s=this.isAbsolute(i);let l;e.root=this.rootname(i),s||this.hasProtocol(i)?l=1:l=0;let a=-1,c=0,h=-1,p=!0,m=i.length-1,g=0;for(;m>=l;--m){if(r=i.charCodeAt(m),r===47){if(!p){c=m+1;break}continue}h===-1&&(p=!1,h=m+1),r===46?a===-1?a=m:g!==1&&(g=1):a!==-1&&(g=-1)}return a===-1||h===-1||g===0||g===1&&a===h-1&&a===c+1?h!==-1&&(c===0&&s?e.base=e.name=i.slice(1,h):e.base=e.name=i.slice(c,h)):(c===0&&s?(e.name=i.slice(1,a),e.base=i.slice(1,h)):(e.name=i.slice(c,a),e.base=i.slice(c,h)),e.ext=i.slice(a,h)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function lp(i,e,r,s,l){const a=e[r];for(let c=0;c<a.length;c++){const h=a[c];r<e.length-1?lp(i.replace(s[r],h),e,r+1,s,l):l.push(i.replace(s[r],h))}}function s0(i){const e=/\{(.*?)\}/g,r=i.match(e),s=[];if(r){const l=[];r.forEach(a=>{const c=a.substring(1,a.length-1).split(",");l.push(c)}),lp(i,l,0,r,s)}else s.push(i);return s}const Hd=i=>!Array.isArray(i);class ap{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(r[s])}`).join("&")}}getAlias(e){const{alias:r,src:s}=e;return Er(r||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(c=>(c==null?void 0:c.src)??c):a!=null&&a.src?a.src:a,!0)}addManifest(e){this._manifest&&_t("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const s=[];let l=r;Array.isArray(r)||(l=Object.entries(r).map(([a,c])=>typeof c=="string"||Array.isArray(c)?{alias:a,src:c}:{alias:a,...c})),l.forEach(a=>{const c=a.src,h=a.alias;let p;if(typeof h=="string"){const m=this._createBundleAssetId(e,h);s.push(m),p=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(e,g));s.push(...m),p=[...h,...m]}this.add({...a,alias:p,src:c})}),this._bundles[e]=s}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let s;s=a=>{this.hasKey(a)&&_t(`[Resolver] already has key: ${a} overwriting`)},Er(r).forEach(a=>{const{src:c}=a;let{data:h,format:p,loadParser:m,parser:g}=a;const x=Er(c).map(k=>typeof k=="string"?s0(k):Array.isArray(k)?k:[k]),v=this.getAlias(a);Array.isArray(v)?v.forEach(s):s(v);const _=[],C=k=>{const w=this._parsers.find(A=>A.test(k));return{...w==null?void 0:w.parse(k),src:k}};x.forEach(k=>{k.forEach(w=>{let A={};if(typeof w!="object"?A=C(w):(h=w.data??h,p=w.format??p,(w.loadParser||w.parser)&&(m=w.loadParser??m,g=w.parser??g),A={...C(w.src),...w}),!v)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:v,data:h,format:p,loadParser:m,parser:g,progressSize:a.progressSize}),_.push(A)})}),v.forEach(k=>{this._assetMap[k]=_})})}resolveBundle(e){const r=Hd(e);e=Er(e);const s={};return e.forEach(l=>{const a=this._bundles[l];if(a){const c=this.resolve(a),h={};for(const p in c){const m=c[p];h[this._extractAssetIdFromBundle(l,p)]=m}s[l]=h}}),r?s[e[0]]:s}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const s={};for(const l in r)s[l]=r[l].src;return s}return r.src}resolve(e){const r=Hd(e);e=Er(e);const s={};return e.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let a=this._assetMap[l];const c=this._getPreferredOrder(a);c==null||c.priority.forEach(h=>{c.params[h].forEach(p=>{const m=a.filter(g=>g[h]?g[h]===p:!1);m.length&&(a=m)})}),this._resolverHash[l]=a[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),r?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const s=e[r],l=this._preferredOrder.find(a=>a.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:s,data:l,loadParser:a,parser:c,format:h,progressSize:p}=r;return(this._basePath||this._rootPath)&&(e.src=Gi.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...l||{},...e.data},e.loadParser=a??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??o0(e.src),p!==void 0&&(e.progressSize=p),e}}ap.RETINA_PREFIX=/@([0-9\.]+)x/;function o0(i){return i.split(".").pop().split("?").shift().split("#").shift()}const Vd=(i,e)=>{const r=e.split("?")[1];return r&&(i+=`?${r}`),i},up=class Ri{constructor(e,r){this.linkedSheets=[];let s=e;(e==null?void 0:e.source)instanceof Ut&&(s={texture:e,data:r});const{texture:l,data:a,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=l instanceof ke?l:null,this.textureSource=l.source,this.textures={},this.animations={},this.data=a;const h=parseFloat(a.meta.scale);h?(this.resolution=h,l.source.resolution=this.resolution):this.resolution=l.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Ri.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const s=Ri.BATCH_SIZE;for(;r-e<s&&r<this._frameKeys.length;){const l=this._frameKeys[r],a=this._frames[l],c=a.frame;if(c){let h=null,p=null;const m=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,g=new Ye(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);a.rotated?h=new Ye(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new Ye(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(p=new Ye(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new ke({source:this.textureSource,frame:h,orig:g,trim:p,rotate:a.rotated?2:0,defaultAnchor:a.anchor,defaultBorders:a.borders,label:l.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let s=0;s<e[r].length;s++){const l=e[r][s];this.animations[r].push(this.textures[l])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ri.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ri.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};up.BATCH_SIZE=1e3;let $d=up;const l0=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function cp(i,e,r){const s={};if(i.forEach(l=>{s[l]=e}),Object.keys(e.textures).forEach(l=>{s[`${e.cachePrefix}${l}`]=e.textures[l]}),!r){const l=Gi.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{const h=cp([`${l}/${e.data.meta.related_multi_packs[c]}`],a,!0);Object.assign(s,h)})}return s}const a0={extension:we.Asset,cache:{test:i=>i instanceof $d,getCacheableAssets:(i,e)=>cp(i,e,!1)},resolver:{extension:{type:we.ResolveParser,name:"resolveSpritesheet"},test:i=>{const r=i.split("?")[0].split("."),s=r.pop(),l=r.pop();return s==="json"&&l0.includes(l)},parse:i=>{var r;const e=i.split(".");return{resolution:parseFloat(((r=ap.RETINA_PREFIX.exec(i))==null?void 0:r[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:we.LoadParser,priority:op.Normal,name:"spritesheetLoader"},async testParse(i,e){return Gi.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,r){var x,v;const{texture:s,imageFilename:l,textureOptions:a,cachePrefix:c}=(e==null?void 0:e.data)??{};let h=Gi.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let p;if(s instanceof ke)p=s;else{const _=Vd(h+(l??i.meta.image),e.src);p=(await r.load([{src:_,data:a}]))[_]}const m=new $d({texture:p.source,data:i,cachePrefix:c});await m.parse();const g=(x=i==null?void 0:i.meta)==null?void 0:x.related_multi_packs;if(Array.isArray(g)){const _=[];for(const k of g){if(typeof k!="string")continue;let w=h+k;(v=e.data)!=null&&v.ignoreMultiPack||(w=Vd(w,e.src),_.push(r.load({src:w,data:{textureOptions:a,ignoreMultiPack:!0}})))}const C=await Promise.all(_);m.linkedSheets=C,C.forEach(k=>{k.linkedSheets=[m].concat(m.linkedSheets.filter(w=>w!==k))})}return m},async unload(i,e,r){await r.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};bt.add(a0);const Ba=Object.create(null),Wd=Object.create(null);function mu(i,e){let r=Wd[i];return r===void 0&&(Ba[e]===void 0&&(Ba[e]=1),Wd[i]=r=Ba[e]++),r}let Mr;function hp(){return(!Mr||Mr!=null&&Mr.isContextLost())&&(Mr=zn.get().createCanvas().getContext("webgl",{})),Mr}let fo;function u0(){if(!fo){fo="mediump";const i=hp();i&&i.getShaderPrecisionFormat&&(fo=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return fo}function c0(i,e,r){return e?i:r?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function h0(i,e,r){const s=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let l=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return l==="highp"&&s!=="highp"&&(l="mediump"),`precision ${l} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function d0(i,e){return e?`#version 300 es
${i}`:i}const f0={},p0={};function m0(i,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const s=r?f0:p0;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${e}`}
${i}`}function g0(i,e){return e?i.replace("#version 300 es",""):i}const Da={stripVersion:g0,ensurePrecision:h0,addProgramDefines:c0,setProgramName:m0,insertVersion:d0},Ci=Object.create(null),dp=class nu{constructor(e){e={...nu.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:u0()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let l=e.fragment,a=e.vertex;Object.keys(Da).forEach(c=>{const h=s[c];l=Da[c](l,h,!0),a=Da[c](a,h,!1)}),this.fragment=l,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=mu(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Ci[this._cacheKey]=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return Ci[r]||(Ci[r]=new nu(e),Ci[r]._cacheKey=r),Ci[r]}};dp.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let fp=dp;const Yd={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function y0(i){return Yd[i]??Yd.float32}const x0={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function _0({source:i,entryPoint:e}){const r={},s=i.indexOf(`fn ${e}`);if(s!==-1){const l=i.indexOf("->",s);if(l!==-1){const a=i.substring(s,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(a))!==null;){const p=x0[h[3]]??"float32";r[h[2]]={location:parseInt(h[1],10),format:p,stride:y0(p).stride,offset:0,instance:!1,start:0}}}}return r}function Oa(i){var x,v;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,m=(x=i.match(e))==null?void 0:x.map(_=>({group:parseInt(_.match(r)[1],10),binding:parseInt(_.match(s)[1],10),name:_.match(l)[2],isUniform:_.match(l)[1]==="<uniform>",type:_.match(a)[1]}));if(!m)return{groups:[],structs:[]};const g=((v=i.match(c))==null?void 0:v.map(_=>{const C=_.match(p)[1],k=_.match(h).reduce((w,A)=>{const[b,z]=A.split(":");return w[b.trim()]=z.trim(),w},{});return k?{name:C,members:k}:null}).filter(({name:_})=>m.some(C=>C.type===_)))??[];return{groups:m,structs:g}}var Ii=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Ii||{});function v0({groups:i}){const e=[];for(let r=0;r<i.length;r++){const s=i[r];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:Ii.VERTEX|Ii.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:Ii.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:Ii.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function w0({groups:i}){const e=[];for(let r=0;r<i.length;r++){const s=i[r];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function S0(i,e){const r=new Set,s=new Set,l=[...i.structs,...e.structs].filter(c=>r.has(c.name)?!1:(r.add(c.name),!0)),a=[...i.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:l,groups:a}}const ki=Object.create(null);class Eo{constructor(e){var h,p;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:s,layout:l,gpuLayout:a,name:c}=e;if(this.name=c,this.fragment=r,this.vertex=s,r.source===s.source){const m=Oa(r.source);this.structsAndGroups=m}else{const m=Oa(s.source),g=Oa(r.source);this.structsAndGroups=S0(m,g)}this.layout=l??w0(this.structsAndGroups),this.gpuLayout=a??v0(this.structsAndGroups),this.autoAssignGlobalUniforms=((h=this.layout[0])==null?void 0:h.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((p=this.layout[1])==null?void 0:p.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,s=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=mu(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=_0(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,ki[this._cacheKey]=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return ki[r]||(ki[r]=new Eo(e),ki[r]._cacheKey=r),ki[r]}}const pp=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],C0=pp.reduce((i,e)=>(i[e]=!0,i),{});function k0(i,e){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const mp=class gp{constructor(e,r){this._touched=0,this.uid=Be("uniform"),this._resourceType="uniformGroup",this._resourceId=Be("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...gp.defaultOptions,...r},this.uniformStructures=e;const s={};for(const l in e){const a=e[l];if(a.name=l,a.size=a.size??1,!C0[a.type]){const c=a.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,p]=c;throw new Error(`Uniform type ${a.type} is not supported. Use type: '${h}', size: ${p} instead.`)}throw new Error(`Uniform type ${a.type} is not supported. Supported uniform types are: ${pp.join(", ")}`)}a.value??(a.value=k0(a.type,a.size)),s[l]=a.value}this.uniforms=s,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=mu(Object.keys(s).map(l=>`${l}-${e[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};mp.defaultOptions={ubo:!1,isStatic:!1};let yp=mp;class wo{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const s in e){const l=e[s];this.setResource(l,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const s in this.resources)e[r++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,r){var l,a;const s=this.resources[r];e!==s&&(s&&((l=e.off)==null||l.call(e,"change",this.onResourceChange,this)),(a=e.on)==null||a.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const s in r)r[s]._touched=e}destroy(){var r;const e=this.resources;for(const s in e){const l=e[s];(r=l==null?void 0:l.off)==null||r.call(l,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const s in r)r[s]===e&&(r[s]=null)}else this._updateKey()}}var ru=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(ru||{});class gu extends hn{constructor(e){super(),this.uid=Be("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:r,glProgram:s,groups:l,resources:a,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=r,this.glProgram=s,c===void 0&&(c=0,r&&(c|=ru.WEBGPU),s&&(c|=ru.WEBGL)),this.compatibleRenderers=c;const p={};if(!a&&!l&&(a={}),a&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&l&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&l&&h)for(const m in h)for(const g in h[m]){const x=h[m][g];p[x]={group:m,binding:g,name:x}}else if(r&&l&&!h){const m=r.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,p[g.name]=g})}else if(a){l={},h={},r&&r.structsAndGroups.groups.forEach(x=>{h[x.group]=h[x.group]||{},h[x.group][x.binding]=x.name,p[x.name]=x});let m=0;for(const g in a)p[g]||(l[99]||(l[99]=new wo,this._ownedBindGroups.push(l[99])),p[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in a){const x=g;let v=a[g];!v.source&&!v._resourceType&&(v=new yp(v));const _=p[x];_&&(l[_.group]||(l[_.group]=new wo,this._ownedBindGroups.push(l[_.group])),l[_.group].setResource(v,_.binding))}}this.groups=l,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(l,p)}addResource(e,r,s){var l,a;(l=this._uniformBindMap)[r]||(l[r]={}),(a=this._uniformBindMap[r])[s]||(a[s]=e),this.groups[r]||(this.groups[r]=new wo,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const s={};for(const l in r){const a=r[l];Object.defineProperty(s,a.name,{get(){return e[a.group].getResource(a.binding)},set(c){e[a.group].setResource(c,a.binding)}})}return s}destroy(e=!1){var r,s;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(s=this.glProgram)==null||s.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(l=>{l.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:r,gl:s,...l}=e;let a,c;return r&&(a=Eo.from(r)),s&&(c=fp.from(s)),new gu({gpuProgram:a,glProgram:c,...l})}}const iu=[];bt.handleByNamedList(we.Environment,iu);async function P0(i){if(!i)for(let e=0;e<iu.length;e++){const r=iu[e];if(r.value.test()){await r.value.load();return}}}let Pi;function M0(){if(typeof Pi=="boolean")return Pi;try{Pi=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Pi=!1}return Pi}function Xd(i,e,r=2){const s=e&&e.length,l=s?e[0]*r:i.length;let a=xp(i,0,l,r,!0);const c=[];if(!a||a.next===a.prev)return c;let h,p,m;if(s&&(a=R0(i,e,a,r)),i.length>80*r){h=i[0],p=i[1];let g=h,x=p;for(let v=r;v<l;v+=r){const _=i[v],C=i[v+1];_<h&&(h=_),C<p&&(p=C),_>g&&(g=_),C>x&&(x=C)}m=Math.max(g-h,x-p),m=m!==0?32767/m:0}return Ui(a,c,r,h,p,m,0),c}function xp(i,e,r,s,l){let a;if(l===j0(i,e,r,s)>0)for(let c=e;c<r;c+=s)a=qd(c/s|0,i[c],i[c+1],a);else for(let c=r-s;c>=e;c-=s)a=qd(c/s|0,i[c],i[c+1],a);return a&&Lr(a,a.next)&&(Hi(a),a=a.next),a}function Jn(i,e){if(!i)return i;e||(e=i);let r=i,s;do if(s=!1,!r.steiner&&(Lr(r,r.next)||Ie(r.prev,r,r.next)===0)){if(Hi(r),r=e=r.prev,r===r.next)break;s=!0}else r=r.next;while(s||r!==e);return e}function Ui(i,e,r,s,l,a,c){if(!i)return;!c&&a&&N0(i,s,l,a);let h=i;for(;i.prev!==i.next;){const p=i.prev,m=i.next;if(a?E0(i,s,l,a):T0(i)){e.push(p.i,i.i,m.i),Hi(i),i=m.next,h=m.next;continue}if(i=m,i===h){c?c===1?(i=A0(Jn(i),e),Ui(i,e,r,s,l,a,2)):c===2&&b0(i,e,r,s,l,a):Ui(Jn(i),e,r,s,l,a,1);break}}}function T0(i){const e=i.prev,r=i,s=i.next;if(Ie(e,r,s)>=0)return!1;const l=e.x,a=r.x,c=s.x,h=e.y,p=r.y,m=s.y,g=Math.min(l,a,c),x=Math.min(h,p,m),v=Math.max(l,a,c),_=Math.max(h,p,m);let C=s.next;for(;C!==e;){if(C.x>=g&&C.x<=v&&C.y>=x&&C.y<=_&&Fi(l,h,a,p,c,m,C.x,C.y)&&Ie(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function E0(i,e,r,s){const l=i.prev,a=i,c=i.next;if(Ie(l,a,c)>=0)return!1;const h=l.x,p=a.x,m=c.x,g=l.y,x=a.y,v=c.y,_=Math.min(h,p,m),C=Math.min(g,x,v),k=Math.max(h,p,m),w=Math.max(g,x,v),A=su(_,C,e,r,s),b=su(k,w,e,r,s);let z=i.prevZ,I=i.nextZ;for(;z&&z.z>=A&&I&&I.z<=b;){if(z.x>=_&&z.x<=k&&z.y>=C&&z.y<=w&&z!==l&&z!==c&&Fi(h,g,p,x,m,v,z.x,z.y)&&Ie(z.prev,z,z.next)>=0||(z=z.prevZ,I.x>=_&&I.x<=k&&I.y>=C&&I.y<=w&&I!==l&&I!==c&&Fi(h,g,p,x,m,v,I.x,I.y)&&Ie(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;z&&z.z>=A;){if(z.x>=_&&z.x<=k&&z.y>=C&&z.y<=w&&z!==l&&z!==c&&Fi(h,g,p,x,m,v,z.x,z.y)&&Ie(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;I&&I.z<=b;){if(I.x>=_&&I.x<=k&&I.y>=C&&I.y<=w&&I!==l&&I!==c&&Fi(h,g,p,x,m,v,I.x,I.y)&&Ie(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function A0(i,e){let r=i;do{const s=r.prev,l=r.next.next;!Lr(s,l)&&vp(s,r,r.next,l)&&ji(s,l)&&ji(l,s)&&(e.push(s.i,r.i,l.i),Hi(r),Hi(r.next),r=i=l),r=r.next}while(r!==i);return Jn(r)}function b0(i,e,r,s,l,a){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&O0(c,h)){let p=wp(c,h);c=Jn(c,c.next),p=Jn(p,p.next),Ui(c,e,r,s,l,a,0),Ui(p,e,r,s,l,a,0);return}h=h.next}c=c.next}while(c!==i)}function R0(i,e,r,s){const l=[];for(let a=0,c=e.length;a<c;a++){const h=e[a]*s,p=a<c-1?e[a+1]*s:i.length,m=xp(i,h,p,s,!1);m===m.next&&(m.steiner=!0),l.push(D0(m))}l.sort(I0);for(let a=0;a<l.length;a++)r=F0(l[a],r);return r}function I0(i,e){let r=i.x-e.x;if(r===0&&(r=i.y-e.y,r===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),l=(e.next.y-e.y)/(e.next.x-e.x);r=s-l}return r}function F0(i,e){const r=z0(i,e);if(!r)return e;const s=wp(r,i);return Jn(s,s.next),Jn(r,r.next)}function z0(i,e){let r=e;const s=i.x,l=i.y;let a=-1/0,c;if(Lr(i,r))return r;do{if(Lr(i,r.next))return r.next;if(l<=r.y&&l>=r.next.y&&r.next.y!==r.y){const x=r.x+(l-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(x<=s&&x>a&&(a=x,c=r.x<r.next.x?r:r.next,x===s))return c}r=r.next}while(r!==e);if(!c)return null;const h=c,p=c.x,m=c.y;let g=1/0;r=c;do{if(s>=r.x&&r.x>=p&&s!==r.x&&_p(l<m?s:a,l,p,m,l<m?a:s,l,r.x,r.y)){const x=Math.abs(l-r.y)/(s-r.x);ji(r,i)&&(x<g||x===g&&(r.x>c.x||r.x===c.x&&L0(c,r)))&&(c=r,g=x)}r=r.next}while(r!==h);return c}function L0(i,e){return Ie(i.prev,i,e.prev)<0&&Ie(e.next,i,i.next)<0}function N0(i,e,r,s){let l=i;do l.z===0&&(l.z=su(l.x,l.y,e,r,s)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==i);l.prevZ.nextZ=null,l.prevZ=null,B0(l)}function B0(i){let e,r=1;do{let s=i,l;i=null;let a=null;for(e=0;s;){e++;let c=s,h=0;for(let m=0;m<r&&(h++,c=c.nextZ,!!c);m++);let p=r;for(;h>0||p>0&&c;)h!==0&&(p===0||!c||s.z<=c.z)?(l=s,s=s.nextZ,h--):(l=c,c=c.nextZ,p--),a?a.nextZ=l:i=l,l.prevZ=a,a=l;s=c}a.nextZ=null,r*=2}while(e>1);return i}function su(i,e,r,s,l){return i=(i-r)*l|0,e=(e-s)*l|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function D0(i){let e=i,r=i;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==i);return r}function _p(i,e,r,s,l,a,c,h){return(l-c)*(e-h)>=(i-c)*(a-h)&&(i-c)*(s-h)>=(r-c)*(e-h)&&(r-c)*(a-h)>=(l-c)*(s-h)}function Fi(i,e,r,s,l,a,c,h){return!(i===c&&e===h)&&_p(i,e,r,s,l,a,c,h)}function O0(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!G0(i,e)&&(ji(i,e)&&ji(e,i)&&U0(i,e)&&(Ie(i.prev,i,e.prev)||Ie(i,e.prev,e))||Lr(i,e)&&Ie(i.prev,i,i.next)>0&&Ie(e.prev,e,e.next)>0)}function Ie(i,e,r){return(e.y-i.y)*(r.x-e.x)-(e.x-i.x)*(r.y-e.y)}function Lr(i,e){return i.x===e.x&&i.y===e.y}function vp(i,e,r,s){const l=mo(Ie(i,e,r)),a=mo(Ie(i,e,s)),c=mo(Ie(r,s,i)),h=mo(Ie(r,s,e));return!!(l!==a&&c!==h||l===0&&po(i,r,e)||a===0&&po(i,s,e)||c===0&&po(r,i,s)||h===0&&po(r,e,s))}function po(i,e,r){return e.x<=Math.max(i.x,r.x)&&e.x>=Math.min(i.x,r.x)&&e.y<=Math.max(i.y,r.y)&&e.y>=Math.min(i.y,r.y)}function mo(i){return i>0?1:i<0?-1:0}function G0(i,e){let r=i;do{if(r.i!==i.i&&r.next.i!==i.i&&r.i!==e.i&&r.next.i!==e.i&&vp(r,r.next,i,e))return!0;r=r.next}while(r!==i);return!1}function ji(i,e){return Ie(i.prev,i,i.next)<0?Ie(i,e,i.next)>=0&&Ie(i,i.prev,e)>=0:Ie(i,e,i.prev)<0||Ie(i,i.next,e)<0}function U0(i,e){let r=i,s=!1;const l=(i.x+e.x)/2,a=(i.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&l<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(s=!s),r=r.next;while(r!==i);return s}function wp(i,e){const r=ou(i.i,i.x,i.y),s=ou(e.i,e.x,e.y),l=i.next,a=e.prev;return i.next=e,e.prev=i,r.next=l,l.prev=r,s.next=r,r.prev=s,a.next=s,s.prev=a,s}function qd(i,e,r,s){const l=ou(i,e,r);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function Hi(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function ou(i,e,r){return{i,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function j0(i,e,r,s){let l=0;for(let a=e,c=r-s;a<r;a+=s)l+=(i[c]-i[a])*(i[a+1]+i[c+1]),c=a;return l}const H0=Xd.default||Xd;var Sp=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(Sp||{});class V0{constructor(e){this.items=[],this._name=e}emit(e,r,s,l,a,c,h,p){const{name:m,items:g}=this;for(let x=0,v=g.length;x<v;x++)g[x][m](e,r,s,l,a,c,h,p);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const $0=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Cp=class kp extends hn{constructor(e){super(),this.uid=Be("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...$0,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await P0(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...kp.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,r){let s=e;if(s instanceof Kt&&(s={container:s},r&&(Se(Ue,"passing a second argument is deprecated, please use render options instead"),s.target=r.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const l=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=l?s.clearColor:Et.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,r,s){const l=this.view.resolution;this.view.resize(e,r,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==l&&this.runners.resolutionChange.emit(s)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Sp.ALL);const{clear:s,clearColor:l,target:a}=e;Et.shared.setValue(l??this.background.colorRgba),r.renderTarget.clear(a,s,Et.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new V0(r)})}_addSystems(e){let r;for(r in e){const s=e[r];this._addSystem(s.value,s.name)}}_addSystem(e,r){const s=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=s,this._systemsHash[r]=s;for(const l in this.runners)this.runners[l].add(s);return this}_addPipes(e,r){const s=r.reduce((l,a)=>(l[a.name]=a.value,l),{});e.forEach(l=>{const a=l.value,c=l.name,h=s[c];this.renderPipes[c]=new a(this,h?new h:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&Mo.release(),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!M0())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Cp.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Pp=Cp,go;function W0(i){return go!==void 0||(go=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:i??Pp.defaultOptions.failIfMajorPerformanceCaveat};try{if(!zn.get().getWebGLRenderingContext())return!1;let l=zn.get().createCanvas().getContext("webgl",e);const a=!!((r=l==null?void 0:l.getContextAttributes())!=null&&r.stencil);if(l){const c=l.getExtension("WEBGL_lose_context");c&&c.loseContext()}return l=null,a}catch{return!1}})()),go}let yo;async function Y0(i={}){return yo!==void 0||(yo=await(async()=>{const e=zn.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),yo}const Qd=["webgl","webgpu","canvas"];async function X0(i){let e=[];i.preference?(e.push(i.preference),Qd.forEach(a=>{a!==i.preference&&e.push(a)})):e=Qd.slice();let r,s={};for(let a=0;a<e.length;a++){const c=e[a];if(c==="webgpu"&&await Y0()){const{WebGPURenderer:h}=await So(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-CNoOT-sq.js");return{WebGPURenderer:p}},__vite__mapDeps([4,2,5,3]));r=h,s={...i,...i.webgpu};break}else if(c==="webgl"&&W0(i.failIfMajorPerformanceCaveat??Pp.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await So(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-DNLvsakY.js");return{WebGLRenderer:p}},__vite__mapDeps([6,2,5]));r=h,s={...i,...i.webgl};break}else if(c==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!r)throw new Error("No available renderer for the current environment");const l=new r;return await l.init(s),l}const Mp="8.14.3";class Tp{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Mp)}static destroy(){}}Tp.extension=we.Application;class q0{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Mp)}destroy(){this._renderer=null}}q0.extension={type:[we.WebGLSystem,we.WebGPUSystem],name:"initHook",priority:-10};const Ep=class lu{constructor(...e){this.stage=new Kt,e[0]!==void 0&&Se(Ue,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new Kt),this.renderer=await X0(e),lu._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Se(Ue,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const s=lu._plugins.slice(0);s.reverse(),s.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Ep._plugins=[];let Ap=Ep;bt.handleByList(we.Application,Ap._plugins);bt.add(Tp);const Kd=[{offset:0,color:"white"},{offset:1,color:"black"}],yu=class au{constructor(...e){this.uid=Be("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let r=Q0(e);r={...r.type==="radial"?au.defaultRadialOptions:au.defaultLinearOptions,...If(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,r.type==="radial"?(this.center=r.center,this.outerCenter=r.outerCenter??this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation):(this.start=r.start,this.end=r.end),this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(e,r){return this.colorStops.push({offset:e,color:Et.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:r}=this.start,{x:s,y:l}=this.end,a=s-e,c=l-r;const h=a<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(a<0){const w=e;e=s,s=w,a*=-1}if(c<0){const w=r;r=l,l=w,c*=-1}}const p=this.colorStops.length?this.colorStops:Kd,m=this._textureSize,{canvas:g,context:x}=Jd(m,1),v=h?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);Zd(v,p),x.fillStyle=v,x.fillRect(0,0,m,1),this.texture=new ke({source:new Co({resource:g,addressMode:this._wrapMode})});const _=Math.sqrt(a*a+c*c),C=Math.atan2(c,a),k=new pe;k.scale(_/m,1),k.rotate(C),k.translate(e,r),this.textureSpace==="local"&&k.scale(m,m),this.transform=k}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:Kd,r=this._textureSize,{canvas:s,context:l}=Jd(r,r),{x:a,y:c}=this.center,{x:h,y:p}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,x=h-g,v=p-g,_=r/(g*2),C=(a-x)*_,k=(c-v)*_,w=l.createRadialGradient(C,k,m*_,(h-x)*_,(p-v)*_,g*_);Zd(w,e),l.fillStyle=e[e.length-1].color,l.fillRect(0,0,r,r),l.fillStyle=w,l.translate(C,k),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-C,-k),l.fillRect(0,0,r,r),this.texture=new ke({source:new Co({resource:s,addressMode:this._wrapMode})});const A=new pe;A.scale(1/_,1/_),A.translate(x,v),this.textureSpace==="local"&&A.scale(r,r),this.transform=A}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};yu.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};yu.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Wi=yu;function Zd(i,e){for(let r=0;r<e.length;r++){const s=e[r];i.addColorStop(s.offset,s.color)}}function Jd(i,e){const r=zn.get().createCanvas(i,e),s=r.getContext("2d");return{canvas:r,context:s}}function Q0(i){let e=i[0]??{};return(typeof e=="number"||i[1])&&(Se("8.5.2","use options object instead"),e={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??Wi.defaultLinearOptions.textureSize}),e}const ef={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class K0{constructor(e,r){this.uid=Be("fillPattern"),this._tick=0,this.transform=new pe,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=ef[r].addressModeU,e.source.style.addressModeV=ef[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Ga,tf;function Z0(){if(tf)return Ga;tf=1,Ga=r;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function r(a){var c=[];return a.replace(e,function(h,p,m){var g=p.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([p].concat(m.splice(0,2))),g="l",p=p=="m"?"l":"L");;){if(m.length==i[g])return m.unshift(p),c.push(m);if(m.length<i[g])throw new Error("malformed path data");c.push([p].concat(m.splice(0,i[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(a){var c=a.match(s);return c?c.map(Number):[]}return Ga}var J0=Z0();const ex=Po(J0);function tx(i,e){const r=ex(i),s=[];let l=null,a=0,c=0;for(let h=0;h<r.length;h++){const p=r[h],m=p[0],g=p;switch(m){case"M":a=g[1],c=g[2],e.moveTo(a,c);break;case"m":a+=g[1],c+=g[2],e.moveTo(a,c);break;case"H":a=g[1],e.lineTo(a,c);break;case"h":a+=g[1],e.lineTo(a,c);break;case"V":c=g[1],e.lineTo(a,c);break;case"v":c+=g[1],e.lineTo(a,c);break;case"L":a=g[1],c=g[2],e.lineTo(a,c);break;case"l":a+=g[1],c+=g[2],e.lineTo(a,c);break;case"C":a=g[5],c=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],a,c);break;case"c":e.bezierCurveTo(a+g[1],c+g[2],a+g[3],c+g[4],a+g[5],c+g[6]),a+=g[5],c+=g[6];break;case"S":a=g[3],c=g[4],e.bezierCurveToShort(g[1],g[2],a,c);break;case"s":e.bezierCurveToShort(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"Q":a=g[3],c=g[4],e.quadraticCurveTo(g[1],g[2],a,c);break;case"q":e.quadraticCurveTo(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"T":a=g[1],c=g[2],e.quadraticCurveToShort(a,c);break;case"t":a+=g[1],c+=g[2],e.quadraticCurveToShort(a,c);break;case"A":a=g[6],c=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"a":a+=g[6],c+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"Z":case"z":e.closePath(),s.length>0&&(l=s.pop(),l?(a=l.startX,c=l.startY):(a=0,c=0)),l=null;break;default:_t(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:a,startY:c},s.push(l))}return e}class xu{constructor(e=0,r=0,s=0){this.type="circle",this.x=e,this.y=r,this.radius=s}clone(){return new xu(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-e,a=this.y-r;return l*=l,a*=a,l+a<=s}strokeContains(e,r,s,l=.5){if(this.radius===0)return!1;const a=this.x-e,c=this.y-r,h=this.radius,p=(1-l)*s,m=Math.sqrt(a*a+c*c);return m<=h+p&&m>h-(s-p)}getBounds(e){return e||(e=new Ye),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class _u{constructor(e=0,r=0,s=0,l=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=s,this.halfHeight=l}clone(){return new _u(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,l=(r-this.y)/this.halfHeight;return s*=s,l*=l,s+l<=1}strokeContains(e,r,s,l=.5){const{halfWidth:a,halfHeight:c}=this;if(a<=0||c<=0)return!1;const h=s*(1-l),p=s-h,m=a-p,g=c-p,x=a+h,v=c+h,_=e-this.x,C=r-this.y,k=_*_/(m*m)+C*C/(g*g),w=_*_/(x*x)+C*C/(v*v);return k>1&&w<=1}getBounds(e){return e||(e=new Ye),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function nx(i,e,r,s,l,a){const c=i-r,h=e-s,p=l-r,m=a-s,g=c*p+h*m,x=p*p+m*m;let v=-1;x!==0&&(v=g/x);let _,C;v<0?(_=r,C=s):v>1?(_=l,C=a):(_=r+v*p,C=s+v*m);const k=i-_,w=e-C;return k*k+w*w}let rx,ix;class Ni{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const s=[];for(let l=0,a=r.length;l<a;l++)s.push(r[l].x,r[l].y);r=s}this.points=r,this.closePath=!0}isClockwise(){let e=0;const r=this.points,s=r.length;for(let l=0;l<s;l+=2){const a=r[l],c=r[l+1],h=r[(l+2)%s],p=r[(l+3)%s];e+=(h-a)*(p+c)}return e<0}containsPolygon(e){const r=this.getBounds(rx),s=e.getBounds(ix);if(!r.containsRect(s))return!1;const l=e.points;for(let a=0;a<l.length;a+=2){const c=l[a],h=l[a+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),r=new Ni(e);return r.closePath=this.closePath,r}contains(e,r){let s=!1;const l=this.points.length/2;for(let a=0,c=l-1;a<l;c=a++){const h=this.points[a*2],p=this.points[a*2+1],m=this.points[c*2],g=this.points[c*2+1];p>r!=g>r&&e<(m-h)*((r-p)/(g-p))+h&&(s=!s)}return s}strokeContains(e,r,s,l=.5){const a=s*s,c=a*(1-l),h=a-c,{points:p}=this,m=p.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const x=p[g],v=p[g+1],_=p[(g+2)%p.length],C=p[(g+3)%p.length],k=nx(e,r,x,v,_,C),w=Math.sign((_-x)*(r-v)-(C-v)*(e-x));if(k<=(w<0?h:c))return!0}return!1}getBounds(e){e||(e=new Ye);const r=this.points;let s=1/0,l=-1/0,a=1/0,c=-1/0;for(let h=0,p=r.length;h<p;h+=2){const m=r[h],g=r[h+1];s=m<s?m:s,l=m>l?m:l,a=g<a?g:a,c=g>c?g:c}return e.x=s,e.width=l-s,e.y=a,e.height=c-a,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Se("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Se("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const xo=(i,e,r,s,l,a,c)=>{const h=i-r,p=e-s,m=Math.sqrt(h*h+p*p);return m>=l-a&&m<=l+c};class vu{constructor(e=0,r=0,s=0,l=0,a=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=s,this.height=l,this.radius=a}getBounds(e){return e||(e=new Ye),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new vu(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+s&&r<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let l=e-(this.x+s),a=r-(this.y+s);const c=s*s;if(l*l+a*a<=c||(l=e-(this.x+this.width-s),l*l+a*a<=c)||(a=r-(this.y+this.height-s),l*l+a*a<=c)||(l=e-(this.x+s),l*l+a*a<=c))return!0}return!1}strokeContains(e,r,s,l=.5){const{x:a,y:c,width:h,height:p,radius:m}=this,g=s*(1-l),x=s-g,v=a+m,_=c+m,C=h-m*2,k=p-m*2,w=a+h,A=c+p;return(e>=a-g&&e<=a+x||e>=w-x&&e<=w+g)&&r>=_&&r<=_+k||(r>=c-g&&r<=c+x||r>=A-x&&r<=A+g)&&e>=v&&e<=v+C?!0:e<v&&r<_&&xo(e,r,v,_,m,x,g)||e>w-m&&r<_&&xo(e,r,w-m,_,m,x,g)||e>w-m&&r>A-m&&xo(e,r,w-m,A-m,m,x,g)||e<v&&r>A-m&&xo(e,r,v,A-m,m,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const bp={};function sx(i,e,r){let s=2166136261;for(let l=0;l<e;l++)s^=i[l].uid,s=Math.imul(s,16777619),s>>>=0;return bp[s]||ox(i,e,s,r)}function ox(i,e,r,s){const l={};let a=0;for(let h=0;h<s;h++){const p=h<e?i[h]:ke.EMPTY.source;l[a++]=p.source,l[a++]=p.style}const c=new wo(l);return bp[r]=c,c}class nf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function rf(i,e){const r=i.byteLength/8|0,s=new Float64Array(i,0,r);new Float64Array(e,0,r).set(s);const a=i.byteLength-r*8;if(a>0){const c=new Uint8Array(i,r*8,a);new Uint8Array(e,r*8,a).set(c)}}const lx={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var ax=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(ax||{});function sf(i,e){return e.alphaMode==="no-premultiply-alpha"&&lx[i]||i}const ux=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function cx(i){let e="";for(let r=0;r<i;++r)r>0&&(e+=`
else `),r<i-1&&(e+=`if(test == ${r}.0){}`);return e}function hx(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=ux.replace(/%forloop%/gi,cx(i));if(e.shaderSource(r,s),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))i=i/2|0;else break}}finally{e.deleteShader(r)}return i}let Tr=null;function dx(){var e;if(Tr)return Tr;const i=hp();return Tr=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Tr=hx(Tr,i),(e=i.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Tr}class fx{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class px{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new fx,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Bi=[];let ko=0;Mo.register({clear:()=>{if(Bi.length>0)for(const i of Bi)i&&i.destroy();Bi.length=0,ko=0}});function of(){return ko>0?Bi[--ko]:new px}function lf(i){Bi[ko++]=i}let Mi=0;const Rp=class Ip{constructor(e){this.uid=Be("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...Ip.defaultOptions,...e},e.maxTextures||(Se("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=dx());const{maxTextures:r,attributesInitialSize:s,indicesInitialSize:l}=e;this.attributeBuffer=new nf(s*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)lf(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const s=e._batch.textures.ids[r._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let s=of(),l=s.textures;l.clear();const a=r[this.elementStart];let c=sf(a.blendMode,a.texture._source),h=a.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,v=this._batchIndexStart,_="startBatch";const C=this.maxTextures;for(let k=this.elementStart;k<this.elementSize;++k){const w=r[k];r[k]=null;const b=w.texture._source,z=sf(w.blendMode,b),I=c!==z||h!==w.topology;if(b._batchTick===Mi&&!I){w._textureId=b._textureBindLocation,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,p,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,p,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}b._batchTick=Mi,(l.count>=C||I)&&(this._finishBatch(s,v,x-v,l,c,h,e,_),_="renderBatch",v=x,c=z,h=w.topology,s=of(),l=s.textures,l.clear(),++Mi),w._textureId=b._textureBindLocation=l.count,l.ids[b.uid]=l.count,l.textures[l.count++]=b,w._batch=s,x+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,p,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,p,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(s,v,x-v,l,c,h,e,_),v=x,++Mi),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=x}_finishBatch(e,r,s,l,a,c,h,p){e.gpuBindGroup=null,e.bindGroup=null,e.action=p,e.batcher=this,e.textures=l,e.blendMode=a,e.topology=c,e.start=r,e.size=s,++Mi,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),s=new nf(r);rf(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const r=this.indexBuffer;let s=Math.max(e,r.length*1.5);s+=s%2;const l=s>65535?new Uint32Array(s):new Uint16Array(s);if(l.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let a=0;a<r.length;a++)l[a]=r[a];else rf(r.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(e,r,s){e[r]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3}packIndex(e,r,s,l){const a=e.indices,c=e.indexSize,h=e.indexOffset,p=e.attributeOffset;for(let m=0;m<c;m++)r[s++]=l+a[m+h]-p}destroy(e={}){var r;if(this.batches!==null){for(let s=0;s<this.batches.length;s++)lf(this.batches[s]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&((r=this.shader)==null||r.destroy(),this.shader=null);for(let s=0;s<this._elements.length;s++)this._elements[s]&&(this._elements[s]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Rp.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let mx=Rp;var ft=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(ft||{});class Vi extends hn{constructor(e){let{data:r,size:s}=e;const{usage:l,label:a,shrinkToFit:c}=e;super(),this.uid=Be("buffer"),this._resourceType="buffer",this._resourceId=Be("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,s??(s=r==null?void 0:r.byteLength);const h=!!r;this.descriptor={size:s,usage:l,mappedAtCreation:h,label:a},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ft.STATIC)}set static(e){e?this.descriptor.usage|=ft.STATIC:this.descriptor.usage&=~ft.STATIC}setDataWithSize(e,r,s){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const l=this._data;if(this._data=e,this._dataInt32=null,!l||l.length!==e.length){!this.shrinkToFit&&l&&e.byteLength<l.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Be("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Fp(i,e){if(!(i instanceof Vi)){let r=e?ft.INDEX:ft.VERTEX;i instanceof Array&&(e?(i=new Uint32Array(i),r=ft.INDEX|ft.COPY_DST):(i=new Float32Array(i),r=ft.VERTEX|ft.COPY_DST)),i=new Vi({data:i,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return i}function gx(i,e,r){const s=i.getAttribute(e);if(!s)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const l=s.buffer.data;let a=1/0,c=1/0,h=-1/0,p=-1/0;const m=l.BYTES_PER_ELEMENT,g=(s.offset||0)/m,x=(s.stride||8)/m;for(let v=g;v<l.length;v+=x){const _=l[v],C=l[v+1];_>h&&(h=_),C>p&&(p=C),_<a&&(a=_),C<c&&(c=C)}return r.minX=a,r.minY=c,r.maxX=h,r.maxY=p,r}function yx(i){return(i instanceof Vi||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=Fp(i.buffer,!1),i}class xx extends hn{constructor(e={}){super(),this.uid=Be("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Gt,this._boundsDirty=!0;const{attributes:r,indexBuffer:s,topology:l}=e;if(this.buffers=[],this.attributes={},r)for(const a in r)this.addAttribute(a,r[a]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const s=yx(r);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=Fp(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,gx(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(s=>s.destroy()),(r=this.indexBuffer)==null||r.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const _x=new Float32Array(1),vx=new Uint32Array(1);class wx extends xx{constructor(){const r=new Vi({data:_x,label:"attribute-batch-buffer",usage:ft.VERTEX|ft.COPY_DST,shrinkToFit:!1}),s=new Vi({data:vx,label:"index-batch-buffer",usage:ft.INDEX|ft.COPY_DST,shrinkToFit:!1}),l=24;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:l,offset:0},aUV:{buffer:r,format:"float32x2",stride:l,offset:8},aColor:{buffer:r,format:"unorm8x4",stride:l,offset:16},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:l,offset:20}},indexBuffer:s})}}function af(i,e,r){if(i)for(const s in i){const l=s.toLocaleLowerCase(),a=e[l];if(a){let c=i[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&a.push(`//----${r}----//`),a.push(c)}else _t(`${s} placement hook does not exist in shader`)}}const Sx=/\{\{(.*?)\}\}/g;function uf(i){var s;const e={};return(((s=i.match(Sx))==null?void 0:s.map(l=>l.replace(/[{()}]/g,"")))??[]).forEach(l=>{e[l]=[]}),e}function cf(i,e){let r;const s=/@in\s+([^;]+);/g;for(;(r=s.exec(i))!==null;)e.push(r[1])}function hf(i,e,r=!1){const s=[];cf(e,s),i.forEach(h=>{h.header&&cf(h.header,s)});const l=s;r&&l.sort();const a=l.map((h,p)=>`       @location(${p}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${a}
`),c}function df(i,e){let r;const s=/@out\s+([^;]+);/g;for(;(r=s.exec(i))!==null;)e.push(r[1])}function Cx(i){const r=/\b(\w+)\s*:/g.exec(i);return r?r[1]:""}function kx(i){const e=/@.*?\s+/g;return i.replace(e,"")}function Px(i,e){const r=[];df(e,r),i.forEach(p=>{p.header&&df(p.header,r)});let s=0;const l=r.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${s++}) ${p}`).join(`,
`),a=r.sort().map(p=>`       var ${kx(p)};`).join(`
`),c=`return VSOutput(
            ${r.sort().map(p=>` ${Cx(p)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${l}
`),h=h.replace("{{start}}",`
${a}
`),h=h.replace("{{return}}",`
${c}
`),h}function ff(i,e){let r=i;for(const s in e){const l=e[s];l.join(`
`).length?r=r.replace(`{{${s}}}`,`//-----${s} START-----//
${l.join(`
`)}
//----${s} FINISH----//`):r=r.replace(`{{${s}}}`,"")}return r}const Fn=Object.create(null),Ua=new Map;let Mx=0;function Tx({template:i,bits:e}){const r=zp(i,e);if(Fn[r])return Fn[r];const{vertex:s,fragment:l}=Ax(i,e);return Fn[r]=Lp(s,l,e),Fn[r]}function Ex({template:i,bits:e}){const r=zp(i,e);return Fn[r]||(Fn[r]=Lp(i.vertex,i.fragment,e)),Fn[r]}function Ax(i,e){const r=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let l=hf(r,i.vertex,!0);l=Px(r,l);const a=hf(s,i.fragment,!0);return{vertex:l,fragment:a}}function zp(i,e){return e.map(r=>(Ua.has(r)||Ua.set(r,Mx++),Ua.get(r))).sort((r,s)=>r-s).join("-")+i.vertex+i.fragment}function Lp(i,e,r){const s=uf(i),l=uf(e);return r.forEach(a=>{af(a.vertex,s,a.name),af(a.fragment,l,a.name)}),{vertex:ff(i,s),fragment:ff(e,l)}}const bx=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Rx=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Ix=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Fx=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,zx={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Lx={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Nx({bits:i,name:e}){const r=Tx({template:{fragment:Rx,vertex:bx},bits:[zx,...i]});return Eo.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function Bx({bits:i,name:e}){return new fp({name:e,...Ex({template:{vertex:Ix,fragment:Fx},bits:[Lx,...i]})})}const Dx={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Ox={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},ja={};function Gx(i){const e=[];if(i===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let s=0;s<i;s++)e.push(`@group(1) @binding(${r++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function Ux(i){const e=[];if(i===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<i;r++)r===i-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function jx(i){return ja[i]||(ja[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Gx(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Ux(i)}
            `}}),ja[i]}const Ha={};function Hx(i){const e=[];for(let r=0;r<i;r++)r>0&&e.push("else"),r<i-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function Vx(i){return Ha[i]||(Ha[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${Hx(i)}
            `}}),Ha[i]}const $x={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Wx={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},pf={};function Yx(i){let e=pf[i];if(e)return e;const r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=s;return e=pf[i]=new yp({uTextures:{value:r,type:"i32",size:i}},{isStatic:!0}),e}class mf extends gu{constructor(e){const r=Bx({name:"batch",bits:[Ox,Vx(e),Wx]}),s=Nx({name:"batch",bits:[Dx,jx(e),$x]});super({glProgram:r,gpuProgram:s,resources:{batchSamplers:Yx(e)}}),this.maxTextures=e}}let Ti=null;const Np=class Bp extends mx{constructor(e){super(e),this.geometry=new wx,this.name=Bp.extension.name,this.vertexSize=6,Ti??(Ti=new mf(e.maxTextures)),this.shader=Ti}packAttributes(e,r,s,l,a){const c=a<<16|e.roundPixels&65535,h=e.transform,p=h.a,m=h.b,g=h.c,x=h.d,v=h.tx,_=h.ty,{positions:C,uvs:k}=e,w=e.color,A=e.attributeOffset,b=A+e.attributeSize;for(let z=A;z<b;z++){const I=z*2,U=C[I],L=C[I+1];r[l++]=p*U+g*L+v,r[l++]=x*L+m*U+_,r[l++]=k[I],r[l++]=k[I+1],s[l++]=w,s[l++]=c}}packQuadAttributes(e,r,s,l,a){const c=e.texture,h=e.transform,p=h.a,m=h.b,g=h.c,x=h.d,v=h.tx,_=h.ty,C=e.bounds,k=C.maxX,w=C.minX,A=C.maxY,b=C.minY,z=c.uvs,I=e.color,U=a<<16|e.roundPixels&65535;r[l+0]=p*w+g*b+v,r[l+1]=x*b+m*w+_,r[l+2]=z.x0,r[l+3]=z.y0,s[l+4]=I,s[l+5]=U,r[l+6]=p*k+g*b+v,r[l+7]=x*b+m*k+_,r[l+8]=z.x1,r[l+9]=z.y1,s[l+10]=I,s[l+11]=U,r[l+12]=p*k+g*A+v,r[l+13]=x*A+m*k+_,r[l+14]=z.x2,r[l+15]=z.y2,s[l+16]=I,s[l+17]=U,r[l+18]=p*w+g*A+v,r[l+19]=x*A+m*w+_,r[l+20]=z.x3,r[l+21]=z.y3,s[l+22]=I,s[l+23]=U}_updateMaxTextures(e){this.shader.maxTextures!==e&&(Ti=new mf(e),this.shader=Ti)}destroy(){this.shader=null,super.destroy()}};Np.extension={type:[we.Batcher],name:"default"};let Xx=Np;function qx(i,e,r,s,l,a,c,h=null){let p=0;r*=e,l*=a;const m=h.a,g=h.b,x=h.c,v=h.d,_=h.tx,C=h.ty;for(;p<c;){const k=i[r],w=i[r+1];s[l]=m*k+x*w+_,s[l+1]=g*k+v*w+C,l+=a,r+=e,p++}}function Qx(i,e,r,s){let l=0;for(e*=r;l<s;)i[e]=0,i[e+1]=0,e+=r,l++}function Dp(i,e,r,s,l){const a=e.a,c=e.b,h=e.c,p=e.d,m=e.tx,g=e.ty;r||(r=0),s||(s=2),l||(l=i.length/s-r);let x=r*s;for(let v=0;v<l;v++){const _=i[x],C=i[x+1];i[x]=a*_+h*C+m,i[x+1]=c*_+p*C+g,x+=s}}const Kx=new pe;class Op{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?Hf(r,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||Kx}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const $i={extension:{type:we.ShapeBuilder,name:"circle"},build(i,e){let r,s,l,a,c,h;if(i.type==="circle"){const I=i;if(c=h=I.radius,c<=0)return!1;r=I.x,s=I.y,l=a=0}else if(i.type==="ellipse"){const I=i;if(c=I.halfWidth,h=I.halfHeight,c<=0||h<=0)return!1;r=I.x,s=I.y,l=a=0}else{const I=i,U=I.width/2,L=I.height/2;r=I.x+U,s=I.y+L,c=h=Math.max(0,Math.min(I.radius,Math.min(U,L))),l=U-c,a=L-h}if(l<0||a<0)return!1;const p=Math.ceil(2.3*Math.sqrt(c+h)),m=p*8+(l?4:0)+(a?4:0);if(m===0)return!1;if(p===0)return e[0]=e[6]=r+l,e[1]=e[3]=s+a,e[2]=e[4]=r-l,e[5]=e[7]=s-a,!0;let g=0,x=p*4+(l?2:0)+2,v=x,_=m,C=l+c,k=a,w=r+C,A=r-C,b=s+k;if(e[g++]=w,e[g++]=b,e[--x]=b,e[--x]=A,a){const I=s-k;e[v++]=A,e[v++]=I,e[--_]=I,e[--_]=w}for(let I=1;I<p;I++){const U=Math.PI/2*(I/p),L=l+Math.cos(U)*c,B=a+Math.sin(U)*h,re=r+L,ie=r-L,Y=s+B,K=s-B;e[g++]=re,e[g++]=Y,e[--x]=Y,e[--x]=ie,e[v++]=ie,e[v++]=K,e[--_]=K,e[--_]=re}C=l,k=a+h,w=r+C,A=r-C,b=s+k;const z=s-k;return e[g++]=w,e[g++]=b,e[--_]=z,e[--_]=w,l&&(e[g++]=A,e[g++]=b,e[--_]=z,e[--_]=A),!0},triangulate(i,e,r,s,l,a){if(i.length===0)return;let c=0,h=0;for(let g=0;g<i.length;g+=2)c+=i[g],h+=i[g+1];c/=i.length/2,h/=i.length/2;let p=s;e[p*r]=c,e[p*r+1]=h;const m=p++;for(let g=0;g<i.length;g+=2)e[p*r]=i[g],e[p*r+1]=i[g+1],g>0&&(l[a++]=p,l[a++]=m,l[a++]=p-1),p++;l[a++]=m+1,l[a++]=m,l[a++]=p-1}},Zx={...$i,extension:{...$i.extension,name:"ellipse"}},Jx={...$i,extension:{...$i.extension,name:"roundedRectangle"}},Gp=1e-4,gf=1e-4;function e_(i){const e=i.length;if(e<6)return 1;let r=0;for(let s=0,l=i[e-2],a=i[e-1];s<e;s+=2){const c=i[s],h=i[s+1];r+=(c-l)*(h+a),l=c,a=h}return r<0?-1:1}function yf(i,e,r,s,l,a,c,h){const p=i-r*l,m=e-s*l,g=i+r*a,x=e+s*a;let v,_;c?(v=s,_=-r):(v=-s,_=r);const C=p+v,k=m+_,w=g+v,A=x+_;return h.push(C,k),h.push(w,A),2}function Xn(i,e,r,s,l,a,c,h){const p=r-i,m=s-e;let g=Math.atan2(p,m),x=Math.atan2(l-i,a-e);h&&g<x?g+=Math.PI*2:!h&&g>x&&(x+=Math.PI*2);let v=g;const _=x-g,C=Math.abs(_),k=Math.sqrt(p*p+m*m),w=(15*C*Math.sqrt(k)/Math.PI>>0)+1,A=_/w;if(v+=A,h){c.push(i,e),c.push(r,s);for(let b=1,z=v;b<w;b++,z+=A)c.push(i,e),c.push(i+Math.sin(z)*k,e+Math.cos(z)*k);c.push(i,e),c.push(l,a)}else{c.push(r,s),c.push(i,e);for(let b=1,z=v;b<w;b++,z+=A)c.push(i+Math.sin(z)*k,e+Math.cos(z)*k),c.push(i,e);c.push(l,a),c.push(i,e)}return w*2}function t_(i,e,r,s,l,a){const c=Gp;if(i.length===0)return;const h=e;let p=h.alignment;if(e.alignment!==.5){let H=e_(i);p=(p-.5)*H+.5}const m=new rt(i[0],i[1]),g=new rt(i[i.length-2],i[i.length-1]),x=s,v=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(x){i=i.slice(),v&&(i.pop(),i.pop(),g.set(i[i.length-2],i[i.length-1]));const H=(m.x+g.x)*.5,W=(g.y+m.y)*.5;i.unshift(H,W),i.push(H,W)}const _=l,C=i.length/2;let k=i.length;const w=_.length/2,A=h.width/2,b=A*A,z=h.miterLimit*h.miterLimit;let I=i[0],U=i[1],L=i[2],B=i[3],re=0,ie=0,Y=-(U-B),K=I-L,de=0,ce=0,fe=Math.sqrt(Y*Y+K*K);Y/=fe,K/=fe,Y*=A,K*=A;const Xe=p,$=(1-Xe)*2,X=Xe*2;x||(h.cap==="round"?k+=Xn(I-Y*($-X)*.5,U-K*($-X)*.5,I-Y*$,U-K*$,I+Y*X,U+K*X,_,!0)+2:h.cap==="square"&&(k+=yf(I,U,Y,K,$,X,!0,_))),_.push(I-Y*$,U-K*$),_.push(I+Y*X,U+K*X);for(let H=1;H<C-1;++H){I=i[(H-1)*2],U=i[(H-1)*2+1],L=i[H*2],B=i[H*2+1],re=i[(H+1)*2],ie=i[(H+1)*2+1],Y=-(U-B),K=I-L,fe=Math.sqrt(Y*Y+K*K),Y/=fe,K/=fe,Y*=A,K*=A,de=-(B-ie),ce=L-re,fe=Math.sqrt(de*de+ce*ce),de/=fe,ce/=fe,de*=A,ce*=A;const W=L-I,T=U-B,N=L-re,oe=ie-B,le=W*N+T*oe,he=T*N-oe*W,ae=he<0;if(Math.abs(he)<.001*Math.abs(le)){_.push(L-Y*$,B-K*$),_.push(L+Y*X,B+K*X),le>=0&&(h.join==="round"?k+=Xn(L,B,L-Y*$,B-K*$,L-de*$,B-ce*$,_,!1)+4:k+=2,_.push(L-de*X,B-ce*X),_.push(L+de*$,B+ce*$));continue}const xe=(-Y+I)*(-K+B)-(-Y+L)*(-K+U),ge=(-de+re)*(-ce+B)-(-de+L)*(-ce+ie),_e=(W*ge-N*xe)/he,je=(oe*xe-T*ge)/he,dn=(_e-L)*(_e-L)+(je-B)*(je-B),jt=L+(_e-L)*$,vt=B+(je-B)*$,Rt=L-(_e-L)*X,Ht=B-(je-B)*X,Yi=Math.min(W*W+T*T,N*N+oe*oe),er=ae?$:X,Xi=Yi+er*er*b;dn<=Xi?h.join==="bevel"||dn/b>z?(ae?(_.push(jt,vt),_.push(L+Y*X,B+K*X),_.push(jt,vt),_.push(L+de*X,B+ce*X)):(_.push(L-Y*$,B-K*$),_.push(Rt,Ht),_.push(L-de*$,B-ce*$),_.push(Rt,Ht)),k+=2):h.join==="round"?ae?(_.push(jt,vt),_.push(L+Y*X,B+K*X),k+=Xn(L,B,L+Y*X,B+K*X,L+de*X,B+ce*X,_,!0)+4,_.push(jt,vt),_.push(L+de*X,B+ce*X)):(_.push(L-Y*$,B-K*$),_.push(Rt,Ht),k+=Xn(L,B,L-Y*$,B-K*$,L-de*$,B-ce*$,_,!1)+4,_.push(L-de*$,B-ce*$),_.push(Rt,Ht)):(_.push(jt,vt),_.push(Rt,Ht)):(_.push(L-Y*$,B-K*$),_.push(L+Y*X,B+K*X),h.join==="round"?ae?k+=Xn(L,B,L+Y*X,B+K*X,L+de*X,B+ce*X,_,!0)+2:k+=Xn(L,B,L-Y*$,B-K*$,L-de*$,B-ce*$,_,!1)+2:h.join==="miter"&&dn/b<=z&&(ae?(_.push(Rt,Ht),_.push(Rt,Ht)):(_.push(jt,vt),_.push(jt,vt)),k+=2),_.push(L-de*$,B-ce*$),_.push(L+de*X,B+ce*X),k+=2)}I=i[(C-2)*2],U=i[(C-2)*2+1],L=i[(C-1)*2],B=i[(C-1)*2+1],Y=-(U-B),K=I-L,fe=Math.sqrt(Y*Y+K*K),Y/=fe,K/=fe,Y*=A,K*=A,_.push(L-Y*$,B-K*$),_.push(L+Y*X,B+K*X),x||(h.cap==="round"?k+=Xn(L-Y*($-X)*.5,B-K*($-X)*.5,L-Y*$,B-K*$,L+Y*X,B+K*X,_,!1)+2:h.cap==="square"&&(k+=yf(L,B,Y,K,$,X,!1,_)));const V=gf*gf;for(let H=w;H<k+w-2;++H)I=_[H*2],U=_[H*2+1],L=_[(H+1)*2],B=_[(H+1)*2+1],re=_[(H+2)*2],ie=_[(H+2)*2+1],!(Math.abs(I*(B-ie)+L*(ie-U)+re*(U-B))<V)&&a.push(H,H+1,H+2)}function n_(i,e,r,s){const l=Gp;if(i.length===0)return;const a=i[0],c=i[1],h=i[i.length-2],p=i[i.length-1],m=e||Math.abs(a-h)<l&&Math.abs(c-p)<l,g=r,x=i.length/2,v=g.length/2;for(let _=0;_<x;_++)g.push(i[_*2]),g.push(i[_*2+1]);for(let _=0;_<x-1;_++)s.push(v+_,v+_+1);m&&s.push(v+x-1,v)}function Up(i,e,r,s,l,a,c){const h=H0(i,e,2);if(!h)return;for(let m=0;m<h.length;m+=3)a[c++]=h[m]+l,a[c++]=h[m+1]+l,a[c++]=h[m+2]+l;let p=l*s;for(let m=0;m<i.length;m+=2)r[p]=i[m],r[p+1]=i[m+1],p+=s}const r_=[],i_={extension:{type:we.ShapeBuilder,name:"polygon"},build(i,e){for(let r=0;r<i.points.length;r++)e[r]=i.points[r];return!0},triangulate(i,e,r,s,l,a){Up(i,r_,e,r,s,l,a)}},s_={extension:{type:we.ShapeBuilder,name:"rectangle"},build(i,e){const r=i,s=r.x,l=r.y,a=r.width,c=r.height;return a>0&&c>0?(e[0]=s,e[1]=l,e[2]=s+a,e[3]=l,e[4]=s+a,e[5]=l+c,e[6]=s,e[7]=l+c,!0):!1},triangulate(i,e,r,s,l,a){let c=0;s*=r,e[s+c]=i[0],e[s+c+1]=i[1],c+=r,e[s+c]=i[2],e[s+c+1]=i[3],c+=r,e[s+c]=i[6],e[s+c+1]=i[7],c+=r,e[s+c]=i[4],e[s+c+1]=i[5],c+=r;const h=s/r;l[a++]=h,l[a++]=h+1,l[a++]=h+2,l[a++]=h+1,l[a++]=h+3,l[a++]=h+2}},o_={extension:{type:we.ShapeBuilder,name:"triangle"},build(i,e){return e[0]=i.x,e[1]=i.y,e[2]=i.x2,e[3]=i.y2,e[4]=i.x3,e[5]=i.y3,!0},triangulate(i,e,r,s,l,a){let c=0;s*=r,e[s+c]=i[0],e[s+c+1]=i[1],c+=r,e[s+c]=i[2],e[s+c+1]=i[3],c+=r,e[s+c]=i[4],e[s+c+1]=i[5];const h=s/r;l[a++]=h,l[a++]=h+1,l[a++]=h+2}},l_=new pe,a_=new Ye;function u_(i,e,r,s){const l=e.matrix?i.copyFrom(e.matrix).invert():i.identity();if(e.textureSpace==="local"){const c=r.getBounds(a_);e.width&&c.pad(e.width);const{x:h,y:p}=c,m=1/c.width,g=1/c.height,x=-h*m,v=-p*g,_=l.a,C=l.b,k=l.c,w=l.d;l.a*=m,l.b*=m,l.c*=g,l.d*=g,l.tx=x*_+v*k+l.tx,l.ty=x*C+v*w+l.ty}else l.translate(e.texture.frame.x,e.texture.frame.y),l.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return!(e.fill instanceof Wi)&&a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat",a.update()),s&&l.append(l_.copyFrom(s).invert()),l}const Ao={};bt.handleByMap(we.ShapeBuilder,Ao);bt.add(s_,i_,o_,$i,Zx,Jx);const c_=new Ye,h_=new pe;function d_(i,e){const{geometryData:r,batches:s}=e;s.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let l=0;l<i.instructions.length;l++){const a=i.instructions[l];if(a.action==="texture")f_(a.data,s,r);else if(a.action==="fill"||a.action==="stroke"){const c=a.action==="stroke",h=a.data.path.shapePath,p=a.data.style,m=a.data.hole;c&&m&&xf(m.shapePath,p,!0,s,r),m&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),xf(h,p,c,s,r)}}}function f_(i,e,r){const s=[],l=Ao.rectangle,a=c_;a.x=i.dx,a.y=i.dy,a.width=i.dw,a.height=i.dh;const c=i.transform;if(!l.build(a,s))return;const{vertices:h,uvs:p,indices:m}=r,g=m.length,x=h.length/2;c&&Dp(s,c),l.triangulate(s,h,2,x,m,g);const v=i.image,_=v.uvs;p.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const C=At.get(Op);C.indexOffset=g,C.indexSize=m.length-g,C.attributeOffset=x,C.attributeSize=h.length/2-x,C.baseColor=i.style,C.alpha=i.alpha,C.texture=v,C.geometryData=r,e.push(C)}function xf(i,e,r,s,l){const{vertices:a,uvs:c,indices:h}=l;i.shapePrimitives.forEach(({shape:p,transform:m,holes:g})=>{const x=[],v=Ao[p.type];if(!v.build(p,x))return;const _=h.length,C=a.length/2;let k="triangle-list";if(m&&Dp(x,m),r){const z=p.closePath??!0,I=e;I.pixelLine?(n_(x,z,a,h),k="line-list"):t_(x,I,!1,z,a,h)}else if(g){const z=[],I=x.slice();p_(g).forEach(L=>{z.push(I.length/2),I.push(...L)}),Up(I,z,a,2,C,h,_)}else v.triangulate(x,a,2,C,h,_);const w=c.length/2,A=e.texture;if(A!==ke.WHITE){const z=u_(h_,e,p,m);qx(a,2,C,c,w,2,a.length/2-C,z)}else Qx(c,w,2,a.length/2-C);const b=At.get(Op);b.indexOffset=_,b.indexSize=h.length-_,b.attributeOffset=C,b.attributeSize=a.length/2-C,b.baseColor=e.color,b.alpha=e.alpha,b.texture=A,b.geometryData=l,b.topology=k,s.push(b)})}function p_(i){const e=[];for(let r=0;r<i.length;r++){const s=i[r].shape,l=[];Ao[s.type].build(s,l)&&e.push(l)}return e}class m_{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class g_{constructor(){this.instructions=new Yf}init(e){const r=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(r):this.batcher=new Xx({maxTextures:r}),this.instructions.reset()}get geometry(){return Se(dy,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const wu=class uu{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){uu.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??uu.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),d_(e,r);const s=e.batchMode;e.customShader||s==="no-batch"?r.isBatchable=!1:s==="auto"?r.isBatchable=r.geometryData.vertices.length<400:r.isBatchable=!0,e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const r=At.get(g_,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:l}=this._gpuContextHash[e.uid],a=l.vertices.length,c=l.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=r.batcher;h.ensureAttributeBuffer(a),h.ensureIndexBuffer(c),h.begin();for(let g=0;g<s.length;g++){const x=s[g];h.add(x)}h.finish(r.instructions);const p=h.geometry;p.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),p.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let g=0;g<m.length;g++){const x=m[g];x.bindGroup=sx(x.textures.textures,x.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new m_;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(At.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(s=>{At.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};wu.extension={type:[we.WebGLSystem,we.WebGPUSystem,we.CanvasSystem],name:"graphicsContext"};wu.defaultOptions={bezierSmoothness:.5};let jp=wu;const y_=8,_o=11920929e-14,x_=1;function Hp(i,e,r,s,l,a,c,h,p,m){const x=Math.min(.99,Math.max(0,m??jp.defaultOptions.bezierSmoothness));let v=(x_-x)/1;return v*=v,__(e,r,s,l,a,c,h,p,i,v),i}function __(i,e,r,s,l,a,c,h,p,m){cu(i,e,r,s,l,a,c,h,p,m,0),p.push(c,h)}function cu(i,e,r,s,l,a,c,h,p,m,g){if(g>y_)return;const x=(i+r)/2,v=(e+s)/2,_=(r+l)/2,C=(s+a)/2,k=(l+c)/2,w=(a+h)/2,A=(x+_)/2,b=(v+C)/2,z=(_+k)/2,I=(C+w)/2,U=(A+z)/2,L=(b+I)/2;if(g>0){let B=c-i,re=h-e;const ie=Math.abs((r-c)*re-(s-h)*B),Y=Math.abs((l-c)*re-(a-h)*B);if(ie>_o&&Y>_o){if((ie+Y)*(ie+Y)<=m*(B*B+re*re)){p.push(U,L);return}}else if(ie>_o){if(ie*ie<=m*(B*B+re*re)){p.push(U,L);return}}else if(Y>_o){if(Y*Y<=m*(B*B+re*re)){p.push(U,L);return}}else if(B=U-(i+c)/2,re=L-(e+h)/2,B*B+re*re<=m){p.push(U,L);return}}cu(i,e,x,v,A,b,U,L,p,m,g+1),cu(U,L,z,I,k,w,c,h,p,m,g+1)}const v_=8,w_=11920929e-14,S_=1;function C_(i,e,r,s,l,a,c,h){const m=Math.min(.99,Math.max(0,h??jp.defaultOptions.bezierSmoothness));let g=(S_-m)/1;return g*=g,k_(e,r,s,l,a,c,i,g),i}function k_(i,e,r,s,l,a,c,h){hu(c,i,e,r,s,l,a,h,0),c.push(l,a)}function hu(i,e,r,s,l,a,c,h,p){if(p>v_)return;const m=(e+s)/2,g=(r+l)/2,x=(s+a)/2,v=(l+c)/2,_=(m+x)/2,C=(g+v)/2;let k=a-e,w=c-r;const A=Math.abs((s-a)*w-(l-c)*k);if(A>w_){if(A*A<=h*(k*k+w*w)){i.push(_,C);return}}else if(k=_-(e+a)/2,w=C-(r+c)/2,k*k+w*w<=h){i.push(_,C);return}hu(i,e,r,m,g,_,C,h,p+1),hu(i,_,C,x,v,a,c,h,p+1)}function Vp(i,e,r,s,l,a,c,h){let p=Math.abs(l-a);(!c&&l>a||c&&a>l)&&(p=2*Math.PI-p),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(p/Math.PI)))),h=Math.max(h,3);let m=p/h,g=l;m*=c?-1:1;for(let x=0;x<h+1;x++){const v=Math.cos(g),_=Math.sin(g),C=e+v*s,k=r+_*s;i.push(C,k),g+=m}}function P_(i,e,r,s,l,a){const c=i[i.length-2],p=i[i.length-1]-r,m=c-e,g=l-r,x=s-e,v=Math.abs(p*x-m*g);if(v<1e-8||a===0){(i[i.length-2]!==e||i[i.length-1]!==r)&&i.push(e,r);return}const _=p*p+m*m,C=g*g+x*x,k=p*g+m*x,w=a*Math.sqrt(_)/v,A=a*Math.sqrt(C)/v,b=w*k/_,z=A*k/C,I=w*x+A*m,U=w*g+A*p,L=m*(A+b),B=p*(A+b),re=x*(w+z),ie=g*(w+z),Y=Math.atan2(B-U,L-I),K=Math.atan2(ie-U,re-I);Vp(i,I+e,U+r,a,Y,K,m*g>x*p)}const Di=Math.PI*2,Va={centerX:0,centerY:0,ang1:0,ang2:0},$a=({x:i,y:e},r,s,l,a,c,h,p)=>{i*=r,e*=s;const m=l*i-a*e,g=a*i+l*e;return p.x=m+c,p.y=g+h,p};function M_(i,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:r,l=Math.cos(i),a=Math.sin(i),c=Math.cos(i+e),h=Math.sin(i+e);return[{x:l-a*s,y:a+l*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const _f=(i,e,r,s)=>{const l=i*s-e*r<0?-1:1;let a=i*r+e*s;return a>1&&(a=1),a<-1&&(a=-1),l*Math.acos(a)},T_=(i,e,r,s,l,a,c,h,p,m,g,x,v)=>{const _=Math.pow(l,2),C=Math.pow(a,2),k=Math.pow(g,2),w=Math.pow(x,2);let A=_*C-_*w-C*k;A<0&&(A=0),A/=_*w+C*k,A=Math.sqrt(A)*(c===h?-1:1);const b=A*l/a*x,z=A*-a/l*g,I=m*b-p*z+(i+r)/2,U=p*b+m*z+(e+s)/2,L=(g-b)/l,B=(x-z)/a,re=(-g-b)/l,ie=(-x-z)/a,Y=_f(1,0,L,B);let K=_f(L,B,re,ie);h===0&&K>0&&(K-=Di),h===1&&K<0&&(K+=Di),v.centerX=I,v.centerY=U,v.ang1=Y,v.ang2=K};function E_(i,e,r,s,l,a,c,h=0,p=0,m=0){if(a===0||c===0)return;const g=Math.sin(h*Di/360),x=Math.cos(h*Di/360),v=x*(e-s)/2+g*(r-l)/2,_=-g*(e-s)/2+x*(r-l)/2;if(v===0&&_===0)return;a=Math.abs(a),c=Math.abs(c);const C=Math.pow(v,2)/Math.pow(a,2)+Math.pow(_,2)/Math.pow(c,2);C>1&&(a*=Math.sqrt(C),c*=Math.sqrt(C)),T_(e,r,s,l,a,c,p,m,g,x,v,_,Va);let{ang1:k,ang2:w}=Va;const{centerX:A,centerY:b}=Va;let z=Math.abs(w)/(Di/4);Math.abs(1-z)<1e-7&&(z=1);const I=Math.max(Math.ceil(z),1);w/=I;let U=i[i.length-2],L=i[i.length-1];const B={x:0,y:0};for(let re=0;re<I;re++){const ie=M_(k,w),{x:Y,y:K}=$a(ie[0],a,c,x,g,A,b,B),{x:de,y:ce}=$a(ie[1],a,c,x,g,A,b,B),{x:fe,y:Xe}=$a(ie[2],a,c,x,g,A,b,B);Hp(i,U,L,Y,K,de,ce,fe,Xe),U=fe,L=Xe,k+=w}}function A_(i,e,r){const s=(c,h)=>{const p=h.x-c.x,m=h.y-c.y,g=Math.sqrt(p*p+m*m),x=p/g,v=m/g;return{len:g,nx:x,ny:v}},l=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let a=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],p=h.radius??r;if(p<=0){l(c,h),a=h;continue}const m=e[(c+1)%e.length],g=s(h,a),x=s(h,m);if(g.len<1e-4||x.len<1e-4){l(c,h),a=h;continue}let v=Math.asin(g.nx*x.ny-g.ny*x.nx),_=1,C=!1;g.nx*x.nx-g.ny*-x.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,_=-1,C=!0):v>0&&(_=-1,C=!0);const k=v/2;let w,A=Math.abs(Math.cos(k)*p/Math.sin(k));A>Math.min(g.len/2,x.len/2)?(A=Math.min(g.len/2,x.len/2),w=Math.abs(A*Math.sin(k)/Math.cos(k))):w=p;const b=h.x+x.nx*A+-x.ny*w*_,z=h.y+x.ny*A+x.nx*w*_,I=Math.atan2(g.ny,g.nx)+Math.PI/2*_,U=Math.atan2(x.ny,x.nx)-Math.PI/2*_;c===0&&i.moveTo(b+Math.cos(I)*w,z+Math.sin(I)*w),i.arc(b,z,w,I,U,C),a=h}}function b_(i,e,r,s){const l=(h,p)=>Math.sqrt((h.x-p.x)**2+(h.y-p.y)**2),a=(h,p,m)=>({x:h.x+(p.x-h.x)*m,y:h.y+(p.y-h.y)*m}),c=e.length;for(let h=0;h<c;h++){const p=e[(h+1)%c],m=p.radius??r;if(m<=0){h===0?i.moveTo(p.x,p.y):i.lineTo(p.x,p.y);continue}const g=e[h],x=e[(h+2)%c],v=l(g,p);let _;if(v<1e-4)_=p;else{const w=Math.min(v/2,m);_=a(p,g,w/v)}const C=l(x,p);let k;if(C<1e-4)k=p;else{const w=Math.min(C/2,m);k=a(p,x,w/C)}h===0?i.moveTo(_.x,_.y):i.lineTo(_.x,_.y),i.quadraticCurveTo(p.x,p.y,k.x,k.y,s)}}const R_=new Ye;class I_{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Gt,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const s=this._currentPoly.points,l=s[s.length-2],a=s[s.length-1];return(l!==e||a!==r)&&s.push(e,r),this}arc(e,r,s,l,a,c){this._ensurePoly(!1);const h=this._currentPoly.points;return Vp(h,e,r,s,l,a,c),this}arcTo(e,r,s,l,a){this._ensurePoly();const c=this._currentPoly.points;return P_(c,e,r,s,l,a),this}arcToSvg(e,r,s,l,a,c,h){const p=this._currentPoly.points;return E_(p,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,r,s,l,a),this}bezierCurveTo(e,r,s,l,a,c,h){this._ensurePoly();const p=this._currentPoly;return Hp(this._currentPoly.points,p.lastX,p.lastY,e,r,s,l,a,c,h),this}quadraticCurveTo(e,r,s,l,a){this._ensurePoly();const c=this._currentPoly;return C_(this._currentPoly.points,c.lastX,c.lastY,e,r,s,l,a),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));const s=this.shapePrimitives,l=s.length;for(let a=0;a<e.instructions.length;a++){const c=e.instructions[a];this[c.action](...c.data)}if(e.checkForHoles&&s.length-l>1){let a=null;for(let c=l;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const p=h.shape,m=a==null?void 0:a.shape;m&&m.containsPolygon(p)?(a.holes||(a.holes=[]),a.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):a=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,r,s,l,a){return this.drawShape(new Ye(e,r,s,l),a),this}circle(e,r,s,l){return this.drawShape(new xu(e,r,s),l),this}poly(e,r,s){const l=new Ni(e);return l.closePath=r,this.drawShape(l,s),this}regularPoly(e,r,s,l,a=0,c){l=Math.max(l|0,3);const h=-1*Math.PI/2+a,p=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const x=h-g*p;m.push(e+s*Math.cos(x),r+s*Math.sin(x))}return this.poly(m,!0,c),this}roundPoly(e,r,s,l,a,c=0,h){if(l=Math.max(l|0,3),a<=0)return this.regularPoly(e,r,s,l,c);const p=s*Math.sin(Math.PI/l)-.001;a=Math.min(a,p);const m=-1*Math.PI/2+c,g=Math.PI*2/l,x=(l-2)*Math.PI/l/2;for(let v=0;v<l;v++){const _=v*g+m,C=e+s*Math.cos(_),k=r+s*Math.sin(_),w=_+Math.PI+x,A=_-Math.PI-x,b=C+a*Math.cos(w),z=k+a*Math.sin(w),I=C+a*Math.cos(A),U=k+a*Math.sin(A);v===0?this.moveTo(b,z):this.lineTo(b,z),this.quadraticCurveTo(C,k,I,U,h)}return this.closePath()}roundShape(e,r,s=!1,l){return e.length<3?this:(s?b_(this,e,r,l):A_(this,e,r),this.closePath())}filletRect(e,r,s,l,a){if(a===0)return this.rect(e,r,s,l);const c=Math.min(s,l)/2,h=Math.min(c,Math.max(-c,a)),p=e+s,m=r+l,g=h<0?-h:0,x=Math.abs(h);return this.moveTo(e,r+x).arcTo(e+g,r+g,e+x,r,x).lineTo(p-x,r).arcTo(p-g,r+g,p,r+x,x).lineTo(p,m-x).arcTo(p-g,m-g,e+s-x,m,x).lineTo(e+x,m).arcTo(e+g,m-g,e,m-x,x).closePath()}chamferRect(e,r,s,l,a,c){if(a<=0)return this.rect(e,r,s,l);const h=Math.min(a,Math.min(s,l)/2),p=e+s,m=r+l,g=[e+h,r,p-h,r,p,r+h,p,m-h,p-h,m,e+h,m,e,m-h,e,r+h];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,c)}ellipse(e,r,s,l,a){return this.drawShape(new _u(e,r,s,l),a),this}roundRect(e,r,s,l,a,c){return this.drawShape(new vu(e,r,s,l,a),c),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let s=this._currentPoly;return s&&this.endPoly(),s=new Ni,s.points.push(e,r),this._currentPoly=s,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Ni,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let s=r.shape.x,l=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const a=r.transform,c=s;s=a.a*s+a.c*l+a.tx,l=a.b*c+a.d*l+a.ty}this._currentPoly.points.push(s,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const s=e.instructions[r];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let s=0;s<r.length;s++){const l=r[s],a=l.shape.getBounds(R_);l.transform?e.addRect(a,l.transform):e.addRect(a)}return e}}class cn{constructor(e,r=!1){this.instructions=[],this.uid=Be("graphicsPath"),this._dirty=!0,this.checkForHoles=r,typeof e=="string"?tx(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new I_(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,s,l,a){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(rt.shared);let p=0,m=0;if(!c||c.action!=="bezierCurveTo")p=h.x,m=h.y;else{p=c.data[2],m=c.data[3];const g=h.x,x=h.y;p=g+(g-p),m=x+(x-m)}return this.instructions.push({action:"bezierCurveTo",data:[p,m,e,r,s,l,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,s){const l=this.instructions[this.instructions.length-1],a=this.getLastPoint(rt.shared);let c=0,h=0;if(!l||l.action!=="quadraticCurveTo")c=a.x,h=a.y;else{c=l.data[0],h=l.data[1];const p=a.x,m=a.y;c=p+(p-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,r,s]}),this._dirty=!0,this}rect(e,r,s,l,a){return this.instructions.push({action:"rect",data:[e,r,s,l,a]}),this._dirty=!0,this}circle(e,r,s,l){return this.instructions.push({action:"circle",data:[e,r,s,l]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,s,l,a,c,h){a||(a=l/2);const p=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,x=[];for(let v=0;v<m;v++){const _=v%2?a:l,C=v*g+p;x.push(e+_*Math.cos(C),r+_*Math.sin(C))}return this.poly(x,!0,h),this}clone(e=!1){const r=new cn;if(r.checkForHoles=this.checkForHoles,!e)r.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const l=this.instructions[s];r.instructions.push({action:l.action,data:l.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,s=e.b,l=e.c,a=e.d,c=e.tx,h=e.ty;let p=0,m=0,g=0,x=0,v=0,_=0,C=0,k=0;for(let w=0;w<this.instructions.length;w++){const A=this.instructions[w],b=A.data;switch(A.action){case"moveTo":case"lineTo":p=b[0],m=b[1],b[0]=r*p+l*m+c,b[1]=s*p+a*m+h;break;case"bezierCurveTo":g=b[0],x=b[1],v=b[2],_=b[3],p=b[4],m=b[5],b[0]=r*g+l*x+c,b[1]=s*g+a*x+h,b[2]=r*v+l*_+c,b[3]=s*v+a*_+h,b[4]=r*p+l*m+c,b[5]=s*p+a*m+h;break;case"quadraticCurveTo":g=b[0],x=b[1],p=b[2],m=b[3],b[0]=r*g+l*x+c,b[1]=s*g+a*x+h,b[2]=r*p+l*m+c,b[3]=s*p+a*m+h;break;case"arcToSvg":p=b[5],m=b[6],C=b[0],k=b[1],b[0]=r*C+l*k,b[1]=s*C+a*k,b[5]=r*p+l*m+c,b[6]=s*p+a*m+h;break;case"circle":b[4]=Ei(b[3],e);break;case"rect":b[4]=Ei(b[4],e);break;case"ellipse":b[8]=Ei(b[8],e);break;case"roundRect":b[5]=Ei(b[5],e);break;case"addPath":b[0].transform(e);break;case"poly":b[2]=Ei(b[2],e);break;default:_t("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,s=this.instructions[r];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;s=this.instructions[r]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Ei(i,e){return i?i.prepend(e):e.clone()}function ze(i,e,r){const s=i.getAttribute(e);return s?Number(s):r}function F_(i,e){const r=i.querySelectorAll("defs");for(let s=0;s<r.length;s++){const l=r[s];for(let a=0;a<l.children.length;a++){const c=l.children[a];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=z_(c);break;case"radialgradient":e.defs[c.id]=L_();break}}}}function z_(i){const e=ze(i,"x1",0),r=ze(i,"y1",0),s=ze(i,"x2",1),l=ze(i,"y2",0),a=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new Wi(e,r,s,l,a==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const p=i.children[h],m=ze(p,"offset",0),g=Et.shared.setValue(p.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function L_(i){return _t("[SVG Parser] Radial gradients are not yet supported"),new Wi(0,0,1,0)}function vf(i){const e=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const wf={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function $p(i,e){const r=i.getAttribute("style"),s={},l={},a={strokeStyle:s,fillStyle:l,useFill:!1,useStroke:!1};for(const c in wf){const h=i.getAttribute(c);h&&Sf(e,a,c,h.trim())}if(r){const c=r.split(";");for(let h=0;h<c.length;h++){const p=c[h].trim(),[m,g]=p.split(":");wf[m]&&Sf(e,a,m,g.trim())}}return{strokeStyle:a.useStroke?s:null,fillStyle:a.useFill?l:null,useFill:a.useFill,useStroke:a.useStroke}}function Sf(i,e,r,s){switch(r){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const l=vf(s);e.strokeStyle.fill=i.defs[l]}else e.strokeStyle.color=Et.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const l=vf(s);e.fillStyle.fill=i.defs[l]}else e.fillStyle.color=Et.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function N_(i){if(i.length<=2)return!0;const e=i.map(h=>h.area).sort((h,p)=>p-h),[r,s]=e,l=e[e.length-1],a=r/s,c=s/l;return!(a>3&&c<2)}function B_(i){return i.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function D_(i){const e=i.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const r=e.map(Number),s=[],l=[];for(let g=0;g<r.length;g+=2)g+1<r.length&&(s.push(r[g]),l.push(r[g+1]));if(s.length===0||l.length===0)return 0;const a=Math.min(...s),c=Math.max(...s),h=Math.min(...l),p=Math.max(...l);return(c-a)*(p-h)}function Cf(i,e){const r=new cn(i,!1);for(const s of r.instructions)e.instructions.push(s)}function O_(i,e){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const r={context:e,defs:{},path:new cn};F_(i,r);const s=i.children,{fillStyle:l,strokeStyle:a}=$p(i,r);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&Wp(h,r,l,a)}return e}function Wp(i,e,r,s){const l=i.children,{fillStyle:a,strokeStyle:c}=$p(i,e);a&&r?r={...r,...a}:a&&(r=a),c&&s?s={...s,...c}:c&&(s=c);const h=!r&&!s;h&&(r={color:0});let p,m,g,x,v,_,C,k,w,A,b,z,I,U,L,B,re;switch(i.nodeName.toLowerCase()){case"path":{U=i.getAttribute("d");const ie=i.getAttribute("fill-rule"),Y=B_(U),K=ie==="evenodd",de=Y.length>1;if(K&&de){const fe=Y.map($=>({path:$,area:D_($)}));if(fe.sort(($,X)=>X.area-$.area),Y.length>3||!N_(fe))for(let $=0;$<fe.length;$++){const X=fe[$],V=$===0;e.context.beginPath();const H=new cn(void 0,!0);Cf(X.path,H),e.context.path(H),V?(r&&e.context.fill(r),s&&e.context.stroke(s)):e.context.cut()}else for(let $=0;$<fe.length;$++){const X=fe[$],V=$%2===1;e.context.beginPath();const H=new cn(void 0,!0);Cf(X.path,H),e.context.path(H),V?e.context.cut():(r&&e.context.fill(r),s&&e.context.stroke(s))}}else{const fe=ie?ie==="evenodd":!0;L=new cn(U,fe),e.context.path(L),r&&e.context.fill(r),s&&e.context.stroke(s)}break}case"circle":C=ze(i,"cx",0),k=ze(i,"cy",0),w=ze(i,"r",0),e.context.ellipse(C,k,w,w),r&&e.context.fill(r),s&&e.context.stroke(s);break;case"rect":p=ze(i,"x",0),m=ze(i,"y",0),B=ze(i,"width",0),re=ze(i,"height",0),A=ze(i,"rx",0),b=ze(i,"ry",0),A||b?e.context.roundRect(p,m,B,re,A||b):e.context.rect(p,m,B,re),r&&e.context.fill(r),s&&e.context.stroke(s);break;case"ellipse":C=ze(i,"cx",0),k=ze(i,"cy",0),A=ze(i,"rx",0),b=ze(i,"ry",0),e.context.beginPath(),e.context.ellipse(C,k,A,b),r&&e.context.fill(r),s&&e.context.stroke(s);break;case"line":g=ze(i,"x1",0),x=ze(i,"y1",0),v=ze(i,"x2",0),_=ze(i,"y2",0),e.context.beginPath(),e.context.moveTo(g,x),e.context.lineTo(v,_),s&&e.context.stroke(s);break;case"polygon":I=i.getAttribute("points"),z=I.match(/\d+/g).map(ie=>parseInt(ie,10)),e.context.poly(z,!0),r&&e.context.fill(r),s&&e.context.stroke(s);break;case"polyline":I=i.getAttribute("points"),z=I.match(/\d+/g).map(ie=>parseInt(ie,10)),e.context.poly(z,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{_t(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(r=null);for(let ie=0;ie<l.length;ie++)Wp(l[ie],e,r,s)}function G_(i){return Et.isColorLike(i)}function kf(i){return i instanceof K0}function Pf(i){return i instanceof Wi}function U_(i){return i instanceof ke}function j_(i,e,r){const s=Et.shared.setValue(e??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?r.alpha:s.alpha,i.texture=ke.WHITE,{...r,...i}}function H_(i,e,r){return i.texture=e,{...r,...i}}function Mf(i,e,r){return i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,{...r,...i}}function Tf(i,e,r){return e.buildGradient(),i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,i.textureSpace=e.textureSpace,{...r,...i}}function V_(i,e){const r={...e,...i},s=Et.shared.setValue(r.color);return r.alpha*=s.alpha,r.color=s.toNumber(),r}function zi(i,e){if(i==null)return null;const r={},s=i;return G_(i)?j_(r,i,e):U_(i)?H_(r,i,e):kf(i)?Mf(r,i,e):Pf(i)?Tf(r,i,e):s.fill&&kf(s.fill)?Mf(s,s.fill,e):s.fill&&Pf(s.fill)?Tf(s,s.fill,e):V_(s,e)}function Ef(i,e){const{width:r,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...p}=e,m=zi(i,p);return m?{width:r,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...m}:null}const $_=new rt,Af=new pe,Su=class Qt extends hn{constructor(){super(...arguments),this.uid=Be("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new cn,this._transform=new pe,this._fillStyle={...Qt.defaultFillStyle},this._strokeStyle={...Qt.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Gt,this._boundsDirty=!0}clone(){const e=new Qt;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=zi(e,Qt.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Ef(e,Qt.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=zi(e,Qt.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=zi(e,Qt.defaultStrokeStyle),this}texture(e,r,s,l,a,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:l||0,dw:a||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Et.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new cn,this}fill(e,r){let s;const l=this.instructions[this.instructions.length-1];return this._tick===0&&(l==null?void 0:l.action)==="stroke"?s=l.data.path:s=this._activePath.clone(),s?(e!=null&&(r!==void 0&&typeof e=="number"&&(Se(Ue,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=zi(e,Qt.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(rt.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const s=this.instructions[this.instructions.length-1];return this._tick===0&&(s==null?void 0:s.action)==="fill"?r=s.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=Ef(e,Qt.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(s);else{r.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,r,s,l,a,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*r+h.tx,h.b*e+h.d*r+h.ty,s,l,a,c),this}arcTo(e,r,s,l,a){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*r+c.tx,c.b*e+c.d*r+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}arcToSvg(e,r,s,l,a,c,h){this._tick++;const p=this._transform;return this._activePath.arcToSvg(e,r,s,l,a,p.a*c+p.c*h+p.tx,p.b*c+p.d*h+p.ty),this}bezierCurveTo(e,r,s,l,a,c,h){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*e+p.c*r+p.tx,p.b*e+p.d*r+p.ty,p.a*s+p.c*l+p.tx,p.b*s+p.d*l+p.ty,p.a*a+p.c*c+p.tx,p.b*a+p.d*c+p.ty,h),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,s,l){return this._tick++,this._activePath.ellipse(e,r,s,l,this._transform.clone()),this}circle(e,r,s){return this._tick++,this._activePath.circle(e,r,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*r+s.tx,s.b*e+s.d*r+s.ty),this}moveTo(e,r){this._tick++;const s=this._transform,l=this._activePath.instructions,a=s.a*e+s.c*r+s.tx,c=s.b*e+s.d*r+s.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=a,l[0].data[1]=c,this):(this._activePath.moveTo(a,c),this)}quadraticCurveTo(e,r,s,l,a){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*r+c.tx,c.b*e+c.d*r+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}rect(e,r,s,l){return this._tick++,this._activePath.rect(e,r,s,l,this._transform.clone()),this}roundRect(e,r,s,l,a){return this._tick++,this._activePath.roundRect(e,r,s,l,a,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,s,l,a=0,c){return this._tick++,this._activePath.regularPoly(e,r,s,l,a,c),this}roundPoly(e,r,s,l,a,c){return this._tick++,this._activePath.roundPoly(e,r,s,l,a,c),this}roundShape(e,r,s,l){return this._tick++,this._activePath.roundShape(e,r,s,l),this}filletRect(e,r,s,l,a){return this._tick++,this._activePath.filletRect(e,r,s,l,a),this}chamferRect(e,r,s,l,a,c){return this._tick++,this._activePath.chamferRect(e,r,s,l,a,c),this}star(e,r,s,l,a=0,c=0){return this._tick++,this._activePath.star(e,r,s,l,a,c,this._transform.clone()),this}svg(e){return this._tick++,O_(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,s,l,a,c){return e instanceof pe?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,s,l,a,c),this)}transform(e,r,s,l,a,c){return e instanceof pe?(this._transform.append(e),this):(Af.set(e,r,s,l,a,c),this._transform.append(Af),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const s=this.instructions[r],l=s.action;if(l==="fill"){const a=s.data;e.addBounds(a.path.bounds)}else if(l==="texture"){const a=s.data;e.addFrame(a.dx,a.dy,a.dx+a.dw,a.dy+a.dh,a.transform)}if(l==="stroke"){const a=s.data,c=a.style.alignment,h=a.style.width*(1-c),p=a.path.bounds;e.addFrame(p.minX-h,p.minY-h,p.maxX+h,p.maxY+h)}}return e}containsPoint(e){var l;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let s=!1;for(let a=0;a<r.length;a++){const c=r[a],h=c.data,p=h.path;if(!c.action||!p)continue;const m=h.style,g=p.shapePath.shapePrimitives;for(let x=0;x<g.length;x++){const v=g[x].shape;if(!m||!v)continue;const _=g[x].transform,C=_?_.applyInverse(e,$_):e;if(c.action==="fill")s=v.contains(C.x,C.y);else{const w=m;s=v.strokeContains(C.x,C.y,w.width,w.alignment)}const k=h.hole;if(k){const w=(l=k.shapePath)==null?void 0:l.shapePrimitives;if(w)for(let A=0;A<w.length;A++)w[A].shape.contains(C.x,C.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Su.defaultFillStyle={color:16777215,alpha:1,texture:ke.WHITE,matrix:null,fill:null,textureSpace:"local"};Su.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:ke.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Ai=Su;class Fr extends qf{constructor(e){e instanceof Ai&&(e={context:e});const{context:r,roundPixels:s,...l}=e||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",r?this._context=r:this._context=this._ownedContext=new Ai,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Fr(this._context.clone()):(this._ownedContext=null,new Fr(this._context))}lineStyle(e,r,s){Se(Ue,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return e&&(l.width=e),r&&(l.color=r),s&&(l.alpha=s),this.context.strokeStyle=l,this}beginFill(e,r){Se(Ue,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),r!==void 0&&(s.alpha=r),this.context.fillStyle=s,this}endFill(){Se(Ue,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Ai.defaultStrokeStyle.width||e.color!==Ai.defaultStrokeStyle.color||e.alpha!==Ai.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Se(Ue,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Se(Ue,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Se(Ue,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Se(Ue,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Se(Ue,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Se(Ue,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}bt.add(ny,ry);const an={nom:{nomcomplet:"Test Hero"},niveauGlobal:1,classe:{1:{classeId:"fighter"}},pvActuels:12,pvMax:12,CA:16,caracs:{force:{FOR:16},dexterite:{DEX:14},constitution:{CON:14}}},Ir=12,br=8,tt=64,Wa=Ir*tt,Ya=br*tt;function Xa(i){const e=Ir-1,r=i;return{id:`enemy-${i}`,type:"enemy",x:e,y:r,hp:6,maxHp:6}}const W_=()=>{const i=In.useRef(null),e=In.useRef(null),[r,s]=In.useState([]),[l,a]=In.useState({id:"player-1",type:"player",x:0,y:Math.floor(br/2),hp:an.pvActuels,maxHp:an.pvMax}),[c,h]=In.useState([Xa(1),Xa(3),Xa(5)]);function p(x){s(v=>[x,...v].slice(0,10))}function m(x){const v=x.currentTarget.getBoundingClientRect(),_=x.clientX-v.left,C=x.clientY-v.top,k=Math.floor(_/v.width*Ir),w=Math.floor(C/v.height*br);a(A=>({...A,x:Math.max(0,Math.min(Ir-1,k)),y:Math.max(0,Math.min(br-1,w))})),p(`Le joueur se dplace en (${k}, ${w}).`)}function g(){h(x=>x.map(v=>{let _=0,C=0;v.x<l.x?_=1:v.x>l.x&&(_=-1),v.y<l.y?C=1:v.y>l.y&&(C=-1);const k=v.x+_,w=v.y+C;return k===l.x&&w===l.y?(a(b=>({...b,hp:Math.max(0,b.hp-2)})),p(`${v.id} attaque le joueur pour 2 dgts !`),{...v,x:k,y:w}):{...v,x:Math.max(0,Math.min(Ir-1,k)),y:Math.max(0,Math.min(br-1,w))}}))}return In.useEffect(()=>{if(!i.current||e.current)return;const x=new Ap({width:Wa,height:Ya,background:"#1c1b29",antialias:!0});e.current=x,i.current.appendChild(x.view);const v=new Kt;x.stage.addChild(v);const _=new Fr;v.addChild(_);const C=new Kt;v.addChild(C);const k=()=>{_.clear(),_.lineStyle(1,4473924,1);for(let I=0;I<=Ir;I++)_.moveTo(I*tt,0),_.lineTo(I*tt,Ya);for(let I=0;I<=br;I++)_.moveTo(0,I*tt),_.lineTo(Wa,I*tt)},w=new Map,A=()=>{w.forEach(U=>U.destroy()),w.clear(),C.removeChildren();const I=[l,...c];for(const U of I){const L=new Fr,B=U.type==="player"?3066993:15158332;L.beginFill(B),L.drawCircle(0,0,tt*.3),L.endFill(),L.x=U.x*tt+tt/2,L.y=U.y*tt+tt/2,C.addChild(L),w.set(U.id,L)}};k(),A();const b=()=>{const I=x.view,U=I.parentElement;if(!U)return;const L=Math.min(U.clientWidth/Wa,U.clientHeight/Ya);I.style.transformOrigin="top left",I.style.transform=`scale(${L})`};b(),window.addEventListener("resize",b);const z=x.ticker.add(I=>{I/60>0&&Math.random()<.02&&g()});return()=>{window.removeEventListener("resize",b),x.ticker.remove(z),x.destroy(!0),e.current=null}},[]),In.useEffect(()=>{const x=e.current;if(!x)return;const v=x.stage.children[0];if(!v)return;const _=v.children[1];if(!_)return;_.removeChildren();const C=[l,...c];for(const k of C){const w=new Fr,A=k.type==="player"?3066993:15158332;w.beginFill(A),w.drawCircle(0,0,tt*.3),w.endFill(),w.x=k.x*tt+tt/2,w.y=k.y*tt+tt/2,_.addChild(w)}},[l,c]),Ee.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"16px",height:"100vh",background:"#0b0b12",color:"#f5f5f5",fontFamily:"system-ui, sans-serif",padding:"16px",boxSizing:"border-box"},children:[Ee.jsxs("div",{style:{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"},children:[Ee.jsx("h1",{style:{marginBottom:8},children:"Mini Donjon (test-GAME)"}),Ee.jsx("p",{style:{marginBottom:8},children:"Cliquez sur la grille pour dplacer le personnage (jeton vert). Les ennemis (rouge) se rapprochent automatiquement."}),Ee.jsx("div",{ref:i,onClick:m,style:{flex:"1 1 auto",border:"1px solid #333",overflow:"hidden",maxHeight:"min(80vh, 640px)",maxWidth:"min(100%, 1024px)"}})]}),Ee.jsxs("div",{style:{width:"320px",display:"flex",flexDirection:"column",gap:"12px"},children:[Ee.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333"},children:[Ee.jsx("h2",{style:{margin:"0 0 8px"},children:"Personnage"}),Ee.jsxs("div",{children:[Ee.jsx("strong",{children:"Nom :"})," ",an.nom.nomcomplet]}),Ee.jsxs("div",{children:[Ee.jsx("strong",{children:"Niveau :"})," ",an.niveauGlobal," |"," ",Ee.jsx("strong",{children:"Classe :"})," ",an.classe[1].classeId]}),Ee.jsxs("div",{children:[Ee.jsx("strong",{children:"PV :"})," ",l.hp," / ",l.maxHp]}),Ee.jsxs("div",{children:[Ee.jsx("strong",{children:"CA :"})," ",an.CA]}),Ee.jsxs("div",{style:{marginTop:8},children:[Ee.jsx("strong",{children:"Caracs :"})," ","FOR ",an.caracs.force.FOR," | DEX"," ",an.caracs.dexterite.DEX," | CON"," ",an.caracs.constitution.CON]})]}),Ee.jsxs("section",{style:{padding:"8px 12px",background:"#141421",borderRadius:8,border:"1px solid #333",flex:"1 1 auto",display:"flex",flexDirection:"column"},children:[Ee.jsx("h2",{style:{margin:"0 0 8px"},children:"Log"}),Ee.jsx("div",{style:{flex:"1 1 auto",overflowY:"auto",fontSize:12,lineHeight:1.4},children:r.map((x,v)=>Ee.jsxs("div",{children:[" ",x]},v))})]})]})]})},Y_=document.getElementById("root");Jg.createRoot(Y_).render(Ee.jsx(Wg.StrictMode,{children:Ee.jsx(W_,{})}));export{Wy as $,Pp as A,ft as B,Kt as C,zn as D,we as E,Gt as F,Mo as G,Xf as H,Dd as I,Oi as J,y0 as K,M0 as L,pe as M,Be as N,Ye as O,rt as P,V0 as Q,ru as R,gu as S,ho as T,eu as U,Gd as V,za as W,Ud as X,Xy as Y,Lf as Z,Et as _,Eo as a,Vf as a0,Mp as a1,Se as a2,Ue as a3,q0 as a4,xx as a5,hx as a6,Bx as a7,Ox as a8,Vx as a9,Wx as aa,Yx as ab,Ai as ac,zi as ad,Ef as ae,Wi as af,K0 as ag,Co as ah,Ar as ai,Op as aj,sf as ak,nf as al,Fr as am,my as an,jp as ao,fp as b,hn as c,ax as d,bt as e,rf as f,sx as g,Vi as h,wo as i,mu as j,Sp as k,np as l,Ut as m,Pd as n,yp as o,Nx as p,Dx as q,Ay as r,jx as s,$x as t,ke as u,py as v,_t as w,Xx as x,At as y,Uf as z};
